/* Generated by Cython 0.12.1 on Tue Jun  8 12:36:33 2010 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef Py_PYTHON_H
    #error Python headers needed to compile C extensions, please install development version of Python.
#else

#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#ifndef DL_EXPORT
  #define DL_EXPORT(t) t
#endif
#if PY_VERSION_HEX < 0x02040000
  #define METH_COEXIST 0
  #define PyDict_CheckExact(op) (Py_TYPE(op) == &PyDict_Type)
  #define PyDict_Contains(d,o)   PySequence_Contains(d,o)
#endif

#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PY_FORMAT_SIZE_T ""
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)   PyInt_AsLong(o)
  #define PyNumber_Index(o)    PyNumber_Int(o)
  #define PyIndex_Check(o)     PyNumber_Check(o)
  #define PyErr_WarnEx(category, message, stacklevel) PyErr_Warn(category, message)
#endif

#if PY_VERSION_HEX < 0x02060000
  #define Py_REFCNT(ob) (((PyObject*)(ob))->ob_refcnt)
  #define Py_TYPE(ob)   (((PyObject*)(ob))->ob_type)
  #define Py_SIZE(ob)   (((PyVarObject*)(ob))->ob_size)
  #define PyVarObject_HEAD_INIT(type, size) \
          PyObject_HEAD_INIT(type) size,
  #define PyType_Modified(t)

  typedef struct {
     void *buf;
     PyObject *obj;
     Py_ssize_t len;
     Py_ssize_t itemsize;
     int readonly;
     int ndim;
     char *format;
     Py_ssize_t *shape;
     Py_ssize_t *strides;
     Py_ssize_t *suboffsets;
     void *internal;
  } Py_buffer;

  #define PyBUF_SIMPLE 0
  #define PyBUF_WRITABLE 0x0001
  #define PyBUF_FORMAT 0x0004
  #define PyBUF_ND 0x0008
  #define PyBUF_STRIDES (0x0010 | PyBUF_ND)
  #define PyBUF_C_CONTIGUOUS (0x0020 | PyBUF_STRIDES)
  #define PyBUF_F_CONTIGUOUS (0x0040 | PyBUF_STRIDES)
  #define PyBUF_ANY_CONTIGUOUS (0x0080 | PyBUF_STRIDES)
  #define PyBUF_INDIRECT (0x0100 | PyBUF_STRIDES)

#endif

#if PY_MAJOR_VERSION < 3
  #define __Pyx_BUILTIN_MODULE_NAME "__builtin__"
#else
  #define __Pyx_BUILTIN_MODULE_NAME "builtins"
#endif

#if PY_MAJOR_VERSION >= 3
  #define Py_TPFLAGS_CHECKTYPES 0
  #define Py_TPFLAGS_HAVE_INDEX 0
#endif

#if (PY_VERSION_HEX < 0x02060000) || (PY_MAJOR_VERSION >= 3)
  #define Py_TPFLAGS_HAVE_NEWBUFFER 0
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyBaseString_Type            PyUnicode_Type
  #define PyString_Type                PyUnicode_Type
  #define PyString_CheckExact          PyUnicode_CheckExact
#else
  #define PyBytes_Type                 PyString_Type
  #define PyBytes_CheckExact           PyString_CheckExact
#endif

#if PY_MAJOR_VERSION >= 3
  #define PyInt_Type                   PyLong_Type
  #define PyInt_Check(op)              PyLong_Check(op)
  #define PyInt_CheckExact(op)         PyLong_CheckExact(op)
  #define PyInt_FromString             PyLong_FromString
  #define PyInt_FromUnicode            PyLong_FromUnicode
  #define PyInt_FromLong               PyLong_FromLong
  #define PyInt_FromSize_t             PyLong_FromSize_t
  #define PyInt_FromSsize_t            PyLong_FromSsize_t
  #define PyInt_AsLong                 PyLong_AsLong
  #define PyInt_AS_LONG                PyLong_AS_LONG
  #define PyInt_AsSsize_t              PyLong_AsSsize_t
  #define PyInt_AsUnsignedLongMask     PyLong_AsUnsignedLongMask
  #define PyInt_AsUnsignedLongLongMask PyLong_AsUnsignedLongLongMask
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_TrueDivide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceTrueDivide(x,y)
#else
  #define __Pyx_PyNumber_Divide(x,y)         PyNumber_Divide(x,y)
  #define __Pyx_PyNumber_InPlaceDivide(x,y)  PyNumber_InPlaceDivide(x,y)

#endif

#if PY_MAJOR_VERSION >= 3
  #define PyMethod_New(func, self, klass) PyInstanceMethod_New(func)
#endif

#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
  #ifndef __fastcall
    #define __fastcall
  #endif
#else
  #define _USE_MATH_DEFINES
#endif

#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),((char *)(n)))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),((char *)(n)),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),((char *)(n)))
#else
  #define __Pyx_GetAttrString(o,n)   PyObject_GetAttrString((o),(n))
  #define __Pyx_SetAttrString(o,n,a) PyObject_SetAttrString((o),(n),(a))
  #define __Pyx_DelAttrString(o,n)   PyObject_DelAttrString((o),(n))
#endif

#if PY_VERSION_HEX < 0x02050000
  #define __Pyx_NAMESTR(n) ((char *)(n))
  #define __Pyx_DOCSTR(n)  ((char *)(n))
#else
  #define __Pyx_NAMESTR(n) (n)
  #define __Pyx_DOCSTR(n)  (n)
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#define __PYX_HAVE_API__sendtools

#ifndef CYTHON_INLINE
  #if defined(__GNUC__)
    #define CYTHON_INLINE __inline__
  #elif defined(_MSC_VER)
    #define CYTHON_INLINE __inline
  #else
    #define CYTHON_INLINE 
  #endif
#endif

typedef struct {PyObject **p; char *s; const long n; const char* encoding; const char is_unicode; const char is_str; const char intern; } __Pyx_StringTabEntry; /*proto*/


/* Type Conversion Predeclarations */

#if PY_MAJOR_VERSION < 3
#define __Pyx_PyBytes_FromString          PyString_FromString
#define __Pyx_PyBytes_FromStringAndSize   PyString_FromStringAndSize
#define __Pyx_PyBytes_AsString            PyString_AsString
#else
#define __Pyx_PyBytes_FromString          PyBytes_FromString
#define __Pyx_PyBytes_FromStringAndSize   PyBytes_FromStringAndSize
#define __Pyx_PyBytes_AsString            PyBytes_AsString
#endif

#define __Pyx_PyBytes_FromUString(s)      __Pyx_PyBytes_FromString((char*)s)
#define __Pyx_PyBytes_AsUString(s)        ((unsigned char*) __Pyx_PyBytes_AsString(s))

#define __Pyx_PyBool_FromLong(b) ((b) ? (Py_INCREF(Py_True), Py_True) : (Py_INCREF(Py_False), Py_False))
static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject*);
static CYTHON_INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x);

#if !defined(T_PYSSIZET)
#if PY_VERSION_HEX < 0x02050000
#define T_PYSSIZET T_INT
#elif !defined(T_LONGLONG)
#define T_PYSSIZET \
        ((sizeof(Py_ssize_t) == sizeof(int))  ? T_INT  : \
        ((sizeof(Py_ssize_t) == sizeof(long)) ? T_LONG : -1))
#else
#define T_PYSSIZET \
        ((sizeof(Py_ssize_t) == sizeof(int))          ? T_INT      : \
        ((sizeof(Py_ssize_t) == sizeof(long))         ? T_LONG     : \
        ((sizeof(Py_ssize_t) == sizeof(PY_LONG_LONG)) ? T_LONGLONG : -1)))
#endif
#endif


#if !defined(T_ULONGLONG)
#define __Pyx_T_UNSIGNED_INT(x) \
        ((sizeof(x) == sizeof(unsigned char))  ? T_UBYTE : \
        ((sizeof(x) == sizeof(unsigned short)) ? T_USHORT : \
        ((sizeof(x) == sizeof(unsigned int))   ? T_UINT : \
        ((sizeof(x) == sizeof(unsigned long))  ? T_ULONG : -1))))
#else
#define __Pyx_T_UNSIGNED_INT(x) \
        ((sizeof(x) == sizeof(unsigned char))  ? T_UBYTE : \
        ((sizeof(x) == sizeof(unsigned short)) ? T_USHORT : \
        ((sizeof(x) == sizeof(unsigned int))   ? T_UINT : \
        ((sizeof(x) == sizeof(unsigned long))  ? T_ULONG : \
        ((sizeof(x) == sizeof(unsigned PY_LONG_LONG)) ? T_ULONGLONG : -1)))))
#endif
#if !defined(T_LONGLONG)
#define __Pyx_T_SIGNED_INT(x) \
        ((sizeof(x) == sizeof(char))  ? T_BYTE : \
        ((sizeof(x) == sizeof(short)) ? T_SHORT : \
        ((sizeof(x) == sizeof(int))   ? T_INT : \
        ((sizeof(x) == sizeof(long))  ? T_LONG : -1))))
#else
#define __Pyx_T_SIGNED_INT(x) \
        ((sizeof(x) == sizeof(char))  ? T_BYTE : \
        ((sizeof(x) == sizeof(short)) ? T_SHORT : \
        ((sizeof(x) == sizeof(int))   ? T_INT : \
        ((sizeof(x) == sizeof(long))  ? T_LONG : \
        ((sizeof(x) == sizeof(PY_LONG_LONG))   ? T_LONGLONG : -1)))))
#endif

#define __Pyx_T_FLOATING(x) \
        ((sizeof(x) == sizeof(float)) ? T_FLOAT : \
        ((sizeof(x) == sizeof(double)) ? T_DOUBLE : -1))

#if !defined(T_SIZET)
#if !defined(T_ULONGLONG)
#define T_SIZET \
        ((sizeof(size_t) == sizeof(unsigned int))  ? T_UINT  : \
        ((sizeof(size_t) == sizeof(unsigned long)) ? T_ULONG : -1))
#else
#define T_SIZET \
        ((sizeof(size_t) == sizeof(unsigned int))          ? T_UINT      : \
        ((sizeof(size_t) == sizeof(unsigned long))         ? T_ULONG     : \
        ((sizeof(size_t) == sizeof(unsigned PY_LONG_LONG)) ? T_ULONGLONG : -1)))
#endif
#endif

static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject*);
static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t);
static CYTHON_INLINE size_t __Pyx_PyInt_AsSize_t(PyObject*);

#define __pyx_PyFloat_AsDouble(x) (PyFloat_CheckExact(x) ? PyFloat_AS_DOUBLE(x) : PyFloat_AsDouble(x))


#ifdef __GNUC__
/* Test for GCC > 2.95 */
#if __GNUC__ > 2 ||               (__GNUC__ == 2 && (__GNUC_MINOR__ > 95)) 
#define likely(x)   __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)
#else /* __GNUC__ > 2 ... */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ > 2 ... */
#else /* __GNUC__ */
#define likely(x)   (x)
#define unlikely(x) (x)
#endif /* __GNUC__ */
    
static PyObject *__pyx_m;
static PyObject *__pyx_b;
static PyObject *__pyx_empty_tuple;
static PyObject *__pyx_empty_bytes;
static int __pyx_lineno;
static int __pyx_clineno = 0;
static const char * __pyx_cfilenm= __FILE__;
static const char *__pyx_filename;
static const char **__pyx_f;


/* Type declarations */

/* "/home/bryan/workspace/sendtools/sendtools.pyx":11
 * 
 * 
 * cdef class Consumer(object):             # <<<<<<<<<<<<<<
 *     """
 *     (Abstract) base class for Consumer objects. Not intended to be instantiated
 */

struct __pyx_obj_9sendtools_Consumer {
  PyObject_HEAD
  struct __pyx_vtabstruct_9sendtools_Consumer *__pyx_vtab;
  int _alive;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":44
 * 
 * 
 * cdef class ConsumerSink(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     Abstract base class for Consumers forming the terminating nodes in a chain
 */

struct __pyx_obj_9sendtools_ConsumerSink {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  PyObject *output;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":88
 * 
 * 
 * cdef class AddToSet(ConsumerSink):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSet)
 */

struct __pyx_obj_9sendtools_AddToSet {
  struct __pyx_obj_9sendtools_ConsumerSink __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":490
 * ##############################################################################
 * 
 * cdef class Aggregate(Consumer):             # <<<<<<<<<<<<<<
 *     cdef object output
 * 
 */

struct __pyx_obj_9sendtools_Aggregate {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  PyObject *output;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":542
 * 
 * 
 * cdef class Stats(Aggregate):             # <<<<<<<<<<<<<<
 *     """
 *     Aggregate Consumer. Computes a running count, average and
 */

struct __pyx_obj_9sendtools_Stats {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
  unsigned int n;
  double mean;
  double M2;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":57
 * 
 * 
 * cdef class ConsumerNode(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     Abstract base class for Consumers which pass on data to a target Consumer
 */

struct __pyx_obj_9sendtools_ConsumerNode {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  struct __pyx_obj_9sendtools_Consumer *target;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":225
 * 
 * 
 * cdef class Map(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Map(func, target, catch=None) -> Consumer
 */

struct __pyx_obj_9sendtools_Map {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *func;
  PyObject *exc;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":506
 * 
 * 
 * cdef class Max(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if item > self.output:
 */

struct __pyx_obj_9sendtools_Max {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":370
 * 
 * 
 * cdef class GroupByKey(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     GroupByKey(keyfunc, target, factory=list) -> Consumer
 */

struct __pyx_obj_9sendtools_GroupByKey {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *factory;
  PyObject *keyfunc;
  PyObject *thiskey;
  PyObject *grp_output;
  PyObject *output;
  struct __pyx_obj_9sendtools_Consumer *this_grp;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":72
 * 
 * 
 * cdef class Append(ConsumerSink):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSequence)
 */

struct __pyx_obj_9sendtools_Append {
  struct __pyx_obj_9sendtools_ConsumerSink __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":357
 * 
 * 
 * cdef class NULL_OBJ(object):             # <<<<<<<<<<<<<<
 *     def __richcmp__(self, other, op):
 *         return True
 */

struct __pyx_obj_9sendtools_NULL_OBJ {
  PyObject_HEAD
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":80
 * 
 * 
 * cdef class ListAppend(Append):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, list)
 */

struct __pyx_obj_9sendtools_ListAppend {
  struct __pyx_obj_9sendtools_Append __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":500
 * 
 * 
 * cdef class Min(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if item < self.output:
 */

struct __pyx_obj_9sendtools_Min {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":96
 * 
 * 
 * cdef class Split(ConsumerNode):             # <<<<<<<<<<<<<<
 *     cdef:
 *         list targets
 */

struct __pyx_obj_9sendtools_Split {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *targets;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":197
 * 
 * 
 * cdef class Filter(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Filter(func, target) -> Consumer
 */

struct __pyx_obj_9sendtools_Filter {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *func;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":259
 * 
 * 
 * cdef class Get(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Get(idx, target) -> Consumer
 */

struct __pyx_obj_9sendtools_Get {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *selector;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":652
 * 
 * 
 * cdef class GeneratorConsumer(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     A class for creating a Consumer from a generator.
 */

struct __pyx_obj_9sendtools_GeneratorConsumer {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  PyObject *gen;
  PyObject *out;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":674
 * 
 * 
 * cdef class consumer(object):             # <<<<<<<<<<<<<<
 *     """
 *     A decorator for building custom Consumer objects from a generator function
 */

struct __pyx_obj_9sendtools_consumer {
  PyObject_HEAD
  PyObject *func;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":512
 * 
 * 
 * cdef class Sum(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         self.output += item
 */

struct __pyx_obj_9sendtools_Sum {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":530
 * 
 * 
 * cdef class Ave(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef unsigned int count
 * 
 */

struct __pyx_obj_9sendtools_Ave {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
  unsigned int count;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":581
 * 
 * 
 * cdef class Select(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef:
 *         unsigned int n, count
 */

struct __pyx_obj_9sendtools_Select {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
  unsigned int n;
  unsigned int count;
  PyObject *transform;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":278
 * 
 * 
 * cdef class Attr(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Attr(name, target) -> Consumer
 */

struct __pyx_obj_9sendtools_Attr {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  PyObject *attrname;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":295
 * 
 * 
 * cdef class Factory(object):             # <<<<<<<<<<<<<<
 *     cdef object factory
 * 
 */

struct __pyx_obj_9sendtools_Factory {
  PyObject_HEAD
  PyObject *factory;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":517
 * 
 * 
 * cdef class Count(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef unsigned int count
 * 
 */

struct __pyx_obj_9sendtools_Count {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
  unsigned int count;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":435
 * 
 * 
 * cdef class Switch(Consumer):             # <<<<<<<<<<<<<<
 *     cdef:
 *         tuple targets
 */

struct __pyx_obj_9sendtools_Switch {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  PyObject *targets;
  PyObject *func;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":576
 * 
 * 
 * cdef class Last(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         self.output = item
 */

struct __pyx_obj_9sendtools_Last {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":569
 * 
 * 
 * cdef class First(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if self._alive != 1:
 */

struct __pyx_obj_9sendtools_First {
  struct __pyx_obj_9sendtools_Aggregate __pyx_base;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":459
 * 
 * 
 * cdef class SwitchByKey(Consumer):             # <<<<<<<<<<<<<<
 *     cdef:
 *         object output, func
 */

struct __pyx_obj_9sendtools_SwitchByKey {
  struct __pyx_obj_9sendtools_Consumer __pyx_base;
  PyObject *output;
  PyObject *func;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":306
 * 
 * 
 * cdef class GroupByN(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     GroupByN(n, target, factory=list) -> Consumer
 */

struct __pyx_obj_9sendtools_GroupByN {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  unsigned int n;
  unsigned int count;
  PyObject *factory;
  PyObject *output;
  struct __pyx_obj_9sendtools_Consumer *this_grp;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":154
 * 
 * 
 * cdef class Slice(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Slice([start,] stop[, step], target) -> Consumer
 */

struct __pyx_obj_9sendtools_Slice {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  unsigned int count;
  unsigned int nxt;
  unsigned int start;
  unsigned int stop;
  unsigned int step;
};

/* "/home/bryan/workspace/sendtools/sendtools.pyx":130
 * 
 * 
 * cdef class Limit(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Limit(n, target) -> Consumer object
 */

struct __pyx_obj_9sendtools_Limit {
  struct __pyx_obj_9sendtools_ConsumerNode __pyx_base;
  unsigned int count;
  unsigned int total;
};


/* "/home/bryan/workspace/sendtools/sendtools.pyx":11
 * 
 * 
 * cdef class Consumer(object):             # <<<<<<<<<<<<<<
 *     """
 *     (Abstract) base class for Consumer objects. Not intended to be instantiated
 */

struct __pyx_vtabstruct_9sendtools_Consumer {
  PyObject *(*result_)(struct __pyx_obj_9sendtools_Consumer *);
  void (*send_)(struct __pyx_obj_9sendtools_Consumer *, PyObject *);
  void (*close_)(struct __pyx_obj_9sendtools_Consumer *);
};
static struct __pyx_vtabstruct_9sendtools_Consumer *__pyx_vtabptr_9sendtools_Consumer;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":435
 * 
 * 
 * cdef class Switch(Consumer):             # <<<<<<<<<<<<<<
 *     cdef:
 *         tuple targets
 */

struct __pyx_vtabstruct_9sendtools_Switch {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Switch *__pyx_vtabptr_9sendtools_Switch;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":490
 * ##############################################################################
 * 
 * cdef class Aggregate(Consumer):             # <<<<<<<<<<<<<<
 *     cdef object output
 * 
 */

struct __pyx_vtabstruct_9sendtools_Aggregate {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Aggregate *__pyx_vtabptr_9sendtools_Aggregate;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":569
 * 
 * 
 * cdef class First(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if self._alive != 1:
 */

struct __pyx_vtabstruct_9sendtools_First {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_First *__pyx_vtabptr_9sendtools_First;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":57
 * 
 * 
 * cdef class ConsumerNode(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     Abstract base class for Consumers which pass on data to a target Consumer
 */

struct __pyx_vtabstruct_9sendtools_ConsumerNode {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_ConsumerNode *__pyx_vtabptr_9sendtools_ConsumerNode;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":259
 * 
 * 
 * cdef class Get(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Get(idx, target) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_Get {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Get *__pyx_vtabptr_9sendtools_Get;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":459
 * 
 * 
 * cdef class SwitchByKey(Consumer):             # <<<<<<<<<<<<<<
 *     cdef:
 *         object output, func
 */

struct __pyx_vtabstruct_9sendtools_SwitchByKey {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_SwitchByKey *__pyx_vtabptr_9sendtools_SwitchByKey;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":225
 * 
 * 
 * cdef class Map(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Map(func, target, catch=None) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_Map {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Map *__pyx_vtabptr_9sendtools_Map;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":306
 * 
 * 
 * cdef class GroupByN(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     GroupByN(n, target, factory=list) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_GroupByN {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_GroupByN *__pyx_vtabptr_9sendtools_GroupByN;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":506
 * 
 * 
 * cdef class Max(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if item > self.output:
 */

struct __pyx_vtabstruct_9sendtools_Max {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Max *__pyx_vtabptr_9sendtools_Max;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":44
 * 
 * 
 * cdef class ConsumerSink(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     Abstract base class for Consumers forming the terminating nodes in a chain
 */

struct __pyx_vtabstruct_9sendtools_ConsumerSink {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_ConsumerSink *__pyx_vtabptr_9sendtools_ConsumerSink;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":88
 * 
 * 
 * cdef class AddToSet(ConsumerSink):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSet)
 */

struct __pyx_vtabstruct_9sendtools_AddToSet {
  struct __pyx_vtabstruct_9sendtools_ConsumerSink __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_AddToSet *__pyx_vtabptr_9sendtools_AddToSet;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":278
 * 
 * 
 * cdef class Attr(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Attr(name, target) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_Attr {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Attr *__pyx_vtabptr_9sendtools_Attr;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":581
 * 
 * 
 * cdef class Select(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef:
 *         unsigned int n, count
 */

struct __pyx_vtabstruct_9sendtools_Select {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Select *__pyx_vtabptr_9sendtools_Select;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":500
 * 
 * 
 * cdef class Min(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         if item < self.output:
 */

struct __pyx_vtabstruct_9sendtools_Min {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Min *__pyx_vtabptr_9sendtools_Min;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":512
 * 
 * 
 * cdef class Sum(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         self.output += item
 */

struct __pyx_vtabstruct_9sendtools_Sum {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Sum *__pyx_vtabptr_9sendtools_Sum;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":72
 * 
 * 
 * cdef class Append(ConsumerSink):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSequence)
 */

struct __pyx_vtabstruct_9sendtools_Append {
  struct __pyx_vtabstruct_9sendtools_ConsumerSink __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Append *__pyx_vtabptr_9sendtools_Append;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":80
 * 
 * 
 * cdef class ListAppend(Append):             # <<<<<<<<<<<<<<
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, list)
 */

struct __pyx_vtabstruct_9sendtools_ListAppend {
  struct __pyx_vtabstruct_9sendtools_Append __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_ListAppend *__pyx_vtabptr_9sendtools_ListAppend;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":130
 * 
 * 
 * cdef class Limit(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Limit(n, target) -> Consumer object
 */

struct __pyx_vtabstruct_9sendtools_Limit {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Limit *__pyx_vtabptr_9sendtools_Limit;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":370
 * 
 * 
 * cdef class GroupByKey(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     GroupByKey(keyfunc, target, factory=list) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_GroupByKey {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_GroupByKey *__pyx_vtabptr_9sendtools_GroupByKey;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":197
 * 
 * 
 * cdef class Filter(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Filter(func, target) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_Filter {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Filter *__pyx_vtabptr_9sendtools_Filter;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":652
 * 
 * 
 * cdef class GeneratorConsumer(Consumer):             # <<<<<<<<<<<<<<
 *     """
 *     A class for creating a Consumer from a generator.
 */

struct __pyx_vtabstruct_9sendtools_GeneratorConsumer {
  struct __pyx_vtabstruct_9sendtools_Consumer __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_GeneratorConsumer *__pyx_vtabptr_9sendtools_GeneratorConsumer;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":96
 * 
 * 
 * cdef class Split(ConsumerNode):             # <<<<<<<<<<<<<<
 *     cdef:
 *         list targets
 */

struct __pyx_vtabstruct_9sendtools_Split {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Split *__pyx_vtabptr_9sendtools_Split;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":542
 * 
 * 
 * cdef class Stats(Aggregate):             # <<<<<<<<<<<<<<
 *     """
 *     Aggregate Consumer. Computes a running count, average and
 */

struct __pyx_vtabstruct_9sendtools_Stats {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Stats *__pyx_vtabptr_9sendtools_Stats;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":154
 * 
 * 
 * cdef class Slice(ConsumerNode):             # <<<<<<<<<<<<<<
 *     """
 *     Slice([start,] stop[, step], target) -> Consumer
 */

struct __pyx_vtabstruct_9sendtools_Slice {
  struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Slice *__pyx_vtabptr_9sendtools_Slice;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":576
 * 
 * 
 * cdef class Last(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef void send_(self, item) except *:
 *         self.output = item
 */

struct __pyx_vtabstruct_9sendtools_Last {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Last *__pyx_vtabptr_9sendtools_Last;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":530
 * 
 * 
 * cdef class Ave(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef unsigned int count
 * 
 */

struct __pyx_vtabstruct_9sendtools_Ave {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Ave *__pyx_vtabptr_9sendtools_Ave;


/* "/home/bryan/workspace/sendtools/sendtools.pyx":517
 * 
 * 
 * cdef class Count(Aggregate):             # <<<<<<<<<<<<<<
 *     cdef unsigned int count
 * 
 */

struct __pyx_vtabstruct_9sendtools_Count {
  struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_base;
};
static struct __pyx_vtabstruct_9sendtools_Count *__pyx_vtabptr_9sendtools_Count;

#ifndef CYTHON_REFNANNY
  #define CYTHON_REFNANNY 0
#endif

#if CYTHON_REFNANNY
  typedef struct {
    void (*INCREF)(void*, PyObject*, int);
    void (*DECREF)(void*, PyObject*, int);
    void (*GOTREF)(void*, PyObject*, int);
    void (*GIVEREF)(void*, PyObject*, int);
    void* (*SetupContext)(const char*, int, const char*);
    void (*FinishContext)(void**);
  } __Pyx_RefNannyAPIStruct;
  static __Pyx_RefNannyAPIStruct *__Pyx_RefNanny = NULL;
  static __Pyx_RefNannyAPIStruct * __Pyx_RefNannyImportAPI(const char *modname) {
    PyObject *m = NULL, *p = NULL;
    void *r = NULL;
    m = PyImport_ImportModule((char *)modname);
    if (!m) goto end;
    p = PyObject_GetAttrString(m, (char *)"RefNannyAPI");
    if (!p) goto end;
    r = PyLong_AsVoidPtr(p);
  end:
    Py_XDECREF(p);
    Py_XDECREF(m);
    return (__Pyx_RefNannyAPIStruct *)r;
  }
  #define __Pyx_RefNannySetupContext(name)           void *__pyx_refnanny = __Pyx_RefNanny->SetupContext((name), __LINE__, __FILE__)
  #define __Pyx_RefNannyFinishContext()           __Pyx_RefNanny->FinishContext(&__pyx_refnanny)
  #define __Pyx_INCREF(r) __Pyx_RefNanny->INCREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_DECREF(r) __Pyx_RefNanny->DECREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GOTREF(r) __Pyx_RefNanny->GOTREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_GIVEREF(r) __Pyx_RefNanny->GIVEREF(__pyx_refnanny, (PyObject *)(r), __LINE__)
  #define __Pyx_XDECREF(r) do { if((r) != NULL) {__Pyx_DECREF(r);} } while(0)
#else
  #define __Pyx_RefNannySetupContext(name)
  #define __Pyx_RefNannyFinishContext()
  #define __Pyx_INCREF(r) Py_INCREF(r)
  #define __Pyx_DECREF(r) Py_DECREF(r)
  #define __Pyx_GOTREF(r)
  #define __Pyx_GIVEREF(r)
  #define __Pyx_XDECREF(r) Py_XDECREF(r)
#endif /* CYTHON_REFNANNY */
#define __Pyx_XGIVEREF(r) do { if((r) != NULL) {__Pyx_GIVEREF(r);} } while(0)
#define __Pyx_XGOTREF(r) do { if((r) != NULL) {__Pyx_GOTREF(r);} } while(0)

static CYTHON_INLINE int __Pyx_CheckKeywordStrings(PyObject *kwdict,
    const char* function_name, int kw_allowed); /*proto*/

static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name, PyObject* kw_name); /*proto*/

static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
    Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found); /*proto*/

static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject **argnames[],     PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,     const char* function_name); /*proto*/

static CYTHON_INLINE PyObject* __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
    if (likely(PyList_CheckExact(L))) {
        if (PyList_Append(L, x) < 0) return NULL;
        Py_INCREF(Py_None);
        return Py_None; /* this is just to have an accurate signature */
    }
    else {
        PyObject *r, *m;
        m = __Pyx_GetAttrString(L, "append");
        if (!m) return NULL;
        r = PyObject_CallFunctionObjArgs(m, x, NULL);
        Py_DECREF(m);
        return r;
    }
}

static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb); /*proto*/


static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j) {
    PyObject *r;
    if (!j) return NULL;
    r = PyObject_GetItem(o, j);
    Py_DECREF(j);
    return r;
}


#define __Pyx_GetItemInt_List(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_List_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_List_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyList_GET_SIZE(o)))) {
            PyObject *r = PyList_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyList_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyList_GET_ITEM(o, PyList_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
}

#define __Pyx_GetItemInt_Tuple(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Tuple_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    if (likely(o != Py_None)) {
        if (likely((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
            PyObject *r = PyTuple_GET_ITEM(o, i);
            Py_INCREF(r);
            return r;
        }
        else if ((-PyTuple_GET_SIZE(o) <= i) & (i < 0)) {
            PyObject *r = PyTuple_GET_ITEM(o, PyTuple_GET_SIZE(o) + i);
            Py_INCREF(r);
            return r;
        }
    }
    return __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
}


#define __Pyx_GetItemInt(o, i, size, to_py_func) ((size <= sizeof(Py_ssize_t)) ? \
                                                    __Pyx_GetItemInt_Fast(o, i, size <= sizeof(long)) : \
                                                    __Pyx_GetItemInt_Generic(o, to_py_func(i)))

static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i, int fits_long) {
    PyObject *r;
    if (PyList_CheckExact(o) && ((0 <= i) & (i < PyList_GET_SIZE(o)))) {
        r = PyList_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (PyTuple_CheckExact(o) && ((0 <= i) & (i < PyTuple_GET_SIZE(o)))) {
        r = PyTuple_GET_ITEM(o, i);
        Py_INCREF(r);
    }
    else if (Py_TYPE(o)->tp_as_sequence && Py_TYPE(o)->tp_as_sequence->sq_item && (likely(i >= 0))) {
        r = PySequence_GetItem(o, i);
    }
    else {
        r = __Pyx_GetItemInt_Generic(o, fits_long ? PyInt_FromLong(i) : PyLong_FromLongLong(i));
    }
    return r;
}

static PyObject* __Pyx_PyEval_CallObjectWithKeywords(PyObject*, PyObject*, PyObject*); /*proto*/

static CYTHON_INLINE void __Pyx_ExceptionSave(PyObject **type, PyObject **value, PyObject **tb); /*proto*/
static void __Pyx_ExceptionReset(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static CYTHON_INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static CYTHON_INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static CYTHON_INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject *);

static CYTHON_INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject *);

static CYTHON_INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject *);

static CYTHON_INLINE char __Pyx_PyInt_AsChar(PyObject *);

static CYTHON_INLINE short __Pyx_PyInt_AsShort(PyObject *);

static CYTHON_INLINE int __Pyx_PyInt_AsInt(PyObject *);

static CYTHON_INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject *);

static CYTHON_INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject *);

static CYTHON_INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject *);

static CYTHON_INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject *);

static CYTHON_INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject *);

static CYTHON_INLINE long __Pyx_PyInt_AsLong(PyObject *);

static CYTHON_INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject *);

static CYTHON_INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject *);

static CYTHON_INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject *);

static void __Pyx_WriteUnraisable(const char *name); /*proto*/

static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/

static void __Pyx_AddTraceback(const char *funcname); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
/* Module declarations from sendtools */

static PyTypeObject *__pyx_ptype_9sendtools_Consumer = 0;
static PyTypeObject *__pyx_ptype_9sendtools_ConsumerSink = 0;
static PyTypeObject *__pyx_ptype_9sendtools_ConsumerNode = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Append = 0;
static PyTypeObject *__pyx_ptype_9sendtools_ListAppend = 0;
static PyTypeObject *__pyx_ptype_9sendtools_AddToSet = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Split = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Limit = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Slice = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Filter = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Map = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Get = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Attr = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Factory = 0;
static PyTypeObject *__pyx_ptype_9sendtools_GroupByN = 0;
static PyTypeObject *__pyx_ptype_9sendtools_NULL_OBJ = 0;
static PyTypeObject *__pyx_ptype_9sendtools_GroupByKey = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Switch = 0;
static PyTypeObject *__pyx_ptype_9sendtools_SwitchByKey = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Aggregate = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Min = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Max = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Sum = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Count = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Ave = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Stats = 0;
static PyTypeObject *__pyx_ptype_9sendtools_First = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Last = 0;
static PyTypeObject *__pyx_ptype_9sendtools_Select = 0;
static PyTypeObject *__pyx_ptype_9sendtools_GeneratorConsumer = 0;
static PyTypeObject *__pyx_ptype_9sendtools_consumer = 0;
static PyObject *__pyx_f_9sendtools_check(PyObject *); /*proto*/
#define __Pyx_MODULE_NAME "sendtools"
int __pyx_module_is_main_sendtools = 0;

/* Implementation of sendtools */
static PyObject *__pyx_builtin_NotImplementedError;
static PyObject *__pyx_builtin_StopIteration;
static PyObject *__pyx_builtin_TypeError;
static PyObject *__pyx_builtin_BaseException;
static PyObject *__pyx_builtin_getattr;
static PyObject *__pyx_builtin_NotImplemented;
static char __pyx_k_1[] = "Slice expects at most 4 arguments, got %d";
static char __pyx_k_2[] = "Slice requires at least 2 arguments, got %d";
static char __pyx_k_3[] = "stop value may not be None";
static char __pyx_k_4[] = "first argument must be a callable";
static char __pyx_k_7[] = "Fist argument must be a callable returning an int";
static char __pyx_k_9[] = "1st argument, func must be a callable";
static char __pyx_k_10[] = "init parameter must be a mapping type";
static char __pyx_k_11[] = "transform parameter must be a callable";
static char __pyx_k_12[] = "Can't convert %s to Consumer";
static char __pyx_k_13[] = "first argument must be callable";
static char __pyx_k_14[] = "wrapped function must return a generator";
static char __pyx_k_15[] = "\nA cython implementation of the sendtools API\n";
static char __pyx_k_16[] = "send (line 628)";
static char __pyx_k__n[] = "n";
static char __pyx_k__M2[] = "M2";
static char __pyx_k__add[] = "add";
static char __pyx_k__exc[] = "exc";
static char __pyx_k__gen[] = "gen";
static char __pyx_k__idx[] = "idx";
static char __pyx_k__itr[] = "itr";
static char __pyx_k__nxt[] = "nxt";
static char __pyx_k__out[] = "out";
static char __pyx_k__func[] = "func";
static char __pyx_k__init[] = "init";
static char __pyx_k__math[] = "math";
static char __pyx_k__mean[] = "mean";
static char __pyx_k__name[] = "name";
static char __pyx_k__next[] = "next";
static char __pyx_k__send[] = "send";
static char __pyx_k__sqrt[] = "sqrt";
static char __pyx_k__step[] = "step";
static char __pyx_k__stop[] = "stop";
static char __pyx_k__catch[] = "catch";
static char __pyx_k__count[] = "count";
static char __pyx_k__send_[] = "send_";
static char __pyx_k__start[] = "start";
static char __pyx_k__total[] = "total";
static char __pyx_k__types[] = "types";
static char __pyx_k___alive[] = "_alive";
static char __pyx_k__close_[] = "close_";
static char __pyx_k__output[] = "output";
static char __pyx_k__target[] = "target";
static char __pyx_k____doc__[] = "__doc__";
static char __pyx_k__factory[] = "factory";
static char __pyx_k__getattr[] = "getattr";
static char __pyx_k__keyfunc[] = "keyfunc";
static char __pyx_k__result_[] = "result_";
static char __pyx_k__targets[] = "targets";
static char __pyx_k__thiskey[] = "thiskey";
static char __pyx_k__Callable[] = "Callable";
static char __pyx_k____main__[] = "__main__";
static char __pyx_k____test__[] = "__test__";
static char __pyx_k__attrname[] = "attrname";
static char __pyx_k__selector[] = "selector";
static char __pyx_k__this_grp[] = "this_grp";
static char __pyx_k__TupleType[] = "TupleType";
static char __pyx_k__TypeError[] = "TypeError";
static char __pyx_k__target_in[] = "target_in";
static char __pyx_k__transform[] = "transform";
static char __pyx_k__MutableSet[] = "MutableSet";
static char __pyx_k__grp_output[] = "grp_output";
static char __pyx_k__collections[] = "collections";
static char __pyx_k__defaultdict[] = "defaultdict";
static char __pyx_k__BaseException[] = "BaseException";
static char __pyx_k__GeneratorType[] = "GeneratorType";
static char __pyx_k__StopIteration[] = "StopIteration";
static char __pyx_k__MutableMapping[] = "MutableMapping";
static char __pyx_k__NotImplemented[] = "NotImplemented";
static char __pyx_k__MutableSequence[] = "MutableSequence";
static char __pyx_k__NotImplementedError[] = "NotImplementedError";
static PyObject *__pyx_kp_s_1;
static PyObject *__pyx_kp_s_10;
static PyObject *__pyx_kp_s_11;
static PyObject *__pyx_kp_s_12;
static PyObject *__pyx_kp_s_13;
static PyObject *__pyx_kp_s_14;
static PyObject *__pyx_kp_u_16;
static PyObject *__pyx_kp_s_2;
static PyObject *__pyx_kp_s_3;
static PyObject *__pyx_kp_s_4;
static PyObject *__pyx_kp_s_7;
static PyObject *__pyx_kp_s_9;
static PyObject *__pyx_n_s__BaseException;
static PyObject *__pyx_n_s__Callable;
static PyObject *__pyx_n_s__GeneratorType;
static PyObject *__pyx_n_s__M2;
static PyObject *__pyx_n_s__MutableMapping;
static PyObject *__pyx_n_s__MutableSequence;
static PyObject *__pyx_n_s__MutableSet;
static PyObject *__pyx_n_s__NotImplemented;
static PyObject *__pyx_n_s__NotImplementedError;
static PyObject *__pyx_n_s__StopIteration;
static PyObject *__pyx_n_s__TupleType;
static PyObject *__pyx_n_s__TypeError;
static PyObject *__pyx_n_s____doc__;
static PyObject *__pyx_n_s____main__;
static PyObject *__pyx_n_s____test__;
static PyObject *__pyx_n_s___alive;
static PyObject *__pyx_n_s__add;
static PyObject *__pyx_n_s__attrname;
static PyObject *__pyx_n_s__catch;
static PyObject *__pyx_n_s__close_;
static PyObject *__pyx_n_s__collections;
static PyObject *__pyx_n_s__count;
static PyObject *__pyx_n_s__defaultdict;
static PyObject *__pyx_n_s__exc;
static PyObject *__pyx_n_s__factory;
static PyObject *__pyx_n_s__func;
static PyObject *__pyx_n_s__gen;
static PyObject *__pyx_n_s__getattr;
static PyObject *__pyx_n_s__grp_output;
static PyObject *__pyx_n_s__idx;
static PyObject *__pyx_n_s__init;
static PyObject *__pyx_n_s__itr;
static PyObject *__pyx_n_s__keyfunc;
static PyObject *__pyx_n_s__math;
static PyObject *__pyx_n_s__mean;
static PyObject *__pyx_n_s__n;
static PyObject *__pyx_n_s__name;
static PyObject *__pyx_n_s__next;
static PyObject *__pyx_n_s__nxt;
static PyObject *__pyx_n_s__out;
static PyObject *__pyx_n_s__output;
static PyObject *__pyx_n_s__result_;
static PyObject *__pyx_n_s__selector;
static PyObject *__pyx_n_s__send;
static PyObject *__pyx_n_s__send_;
static PyObject *__pyx_n_s__sqrt;
static PyObject *__pyx_n_s__start;
static PyObject *__pyx_n_s__step;
static PyObject *__pyx_n_s__stop;
static PyObject *__pyx_n_s__target;
static PyObject *__pyx_n_s__target_in;
static PyObject *__pyx_n_s__targets;
static PyObject *__pyx_n_s__this_grp;
static PyObject *__pyx_n_s__thiskey;
static PyObject *__pyx_n_s__total;
static PyObject *__pyx_n_s__transform;
static PyObject *__pyx_n_s__types;
static PyObject *__pyx_k_5;
static PyObject *__pyx_k_6;
static PyObject *__pyx_k_8;

/* "/home/bryan/workspace/sendtools/sendtools.pyx":18
 *     cdef int _alive
 * 
 *     def __cinit__(self, *args, **kwds):             # <<<<<<<<<<<<<<
 *         self._alive = 1
 * 
 */

static int __pyx_pf_9sendtools_8Consumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_8Consumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwds = 0;
  int __pyx_r;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 1))) return -1;
  __pyx_v_kwds = (__pyx_kwds) ? PyDict_Copy(__pyx_kwds) : PyDict_New();
  if (unlikely(!__pyx_v_kwds)) return -1;
  __Pyx_GOTREF(__pyx_v_kwds);
  __Pyx_INCREF(__pyx_args);
  __pyx_v_args = __pyx_args;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":19
 * 
 *     def __cinit__(self, *args, **kwds):
 *         self._alive = 1             # <<<<<<<<<<<<<<
 * 
 *     property is_alive:
 */
  ((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)->_alive = 1;

  __pyx_r = 0;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kwds);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":22
 * 
 *     property is_alive:
 *         def __get__(self):             # <<<<<<<<<<<<<<
 *             return bool(self._alive)
 * 
 */

static PyObject *__pyx_pf_9sendtools_8Consumer_8is_alive___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_pf_9sendtools_8Consumer_8is_alive___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__get__");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":23
 *     property is_alive:
 *         def __get__(self):
 *             return bool(self._alive)             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyInt_FromLong(((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)->_alive); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)&PyBool_Type)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 23; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.Consumer.is_alive.__get__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":25
 *             return bool(self._alive)
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         raise NotImplementedError
 * 
 */

static  PyObject *__pyx_f_9sendtools_8Consumer_result_(struct __pyx_obj_9sendtools_Consumer *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":26
 * 
 *     cdef object result_(self):
 *         raise NotImplementedError             # <<<<<<<<<<<<<<
 * 
 *     def result(self):
 */
  __Pyx_Raise(__pyx_builtin_NotImplementedError, 0, 0);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.Consumer.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":28
 *         raise NotImplementedError
 * 
 *     def result(self):             # <<<<<<<<<<<<<<
 *         return self.result_()
 * 
 */

static PyObject *__pyx_pf_9sendtools_8Consumer_result(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_9sendtools_8Consumer_result(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("result");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":29
 * 
 *     def result(self):
 *         return self.result_()             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)->__pyx_vtab)->result_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 29; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Consumer.result");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":31
 *         return self.result_()
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         raise NotImplementedError
 * 
 */

static  void __pyx_f_9sendtools_8Consumer_send_(struct __pyx_obj_9sendtools_Consumer *__pyx_v_self, PyObject *__pyx_v_item) {
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":32
 * 
 *     cdef void send_(self, object item) except *:
 *         raise NotImplementedError             # <<<<<<<<<<<<<<
 * 
 *     def send(self, object item):
 */
  __Pyx_Raise(__pyx_builtin_NotImplementedError, 0, 0);
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 32; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.Consumer.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":34
 *         raise NotImplementedError
 * 
 *     def send(self, object item):             # <<<<<<<<<<<<<<
 *         self.send_(item)
 * 
 */

static PyObject *__pyx_pf_9sendtools_8Consumer_send(PyObject *__pyx_v_self, PyObject *__pyx_v_item); /*proto*/
static PyObject *__pyx_pf_9sendtools_8Consumer_send(PyObject *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("send");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":35
 * 
 *     def send(self, object item):
 *         self.send_(item)             # <<<<<<<<<<<<<<
 * 
 *     cdef void close_(self):
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)->__pyx_vtab)->send_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self), __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 35; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.Consumer.send");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":37
 *         self.send_(item)
 * 
 *     cdef void close_(self):             # <<<<<<<<<<<<<<
 *         self._alive = 0
 * 
 */

static  void __pyx_f_9sendtools_8Consumer_close_(struct __pyx_obj_9sendtools_Consumer *__pyx_v_self) {
  __Pyx_RefNannySetupContext("close_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":38
 * 
 *     cdef void close_(self):
 *         self._alive = 0             # <<<<<<<<<<<<<<
 * 
 *     def close(self):
 */
  __pyx_v_self->_alive = 0;

  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":40
 *         self._alive = 0
 * 
 *     def close(self):             # <<<<<<<<<<<<<<
 *         self.close_()
 * 
 */

static PyObject *__pyx_pf_9sendtools_8Consumer_close(PyObject *__pyx_v_self, PyObject *unused); /*proto*/
static PyObject *__pyx_pf_9sendtools_8Consumer_close(PyObject *__pyx_v_self, PyObject *unused) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("close");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":41
 * 
 *     def close(self):
 *         self.close_()             # <<<<<<<<<<<<<<
 * 
 * 
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self)->__pyx_vtab)->close_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_self));

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":50
 *     cdef object output
 * 
 *     def __cinit__(self, output, *args, **kdws):             # <<<<<<<<<<<<<<
 *         self.output = output
 * 
 */

static int __pyx_pf_9sendtools_12ConsumerSink___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_12ConsumerSink___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_output = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kdws = 0;
  int __pyx_r;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__output,0};
  __Pyx_RefNannySetupContext("__cinit__");
  __pyx_v_kdws = PyDict_New(); if (unlikely(!__pyx_v_kdws)) return -1;
  __Pyx_GOTREF(__pyx_v_kdws);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args)); __Pyx_GOTREF(__pyx_v_args);

    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kdws);
      return -1;
    }
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      default:
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__output);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      const Py_ssize_t used_pos_args = (PyTuple_GET_SIZE(__pyx_args) < 1) ? PyTuple_GET_SIZE(__pyx_args) : 1;
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kdws, values, used_pos_args, "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_output = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_output = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 50; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_AddTraceback("sendtools.ConsumerSink.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":51
 * 
 *     def __cinit__(self, output, *args, **kdws):
 *         self.output = output             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __Pyx_INCREF(__pyx_v_output);
  __Pyx_GIVEREF(__pyx_v_output);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_ConsumerSink *)__pyx_v_self)->output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_ConsumerSink *)__pyx_v_self)->output);
  ((struct __pyx_obj_9sendtools_ConsumerSink *)__pyx_v_self)->output = __pyx_v_output;

  __pyx_r = 0;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":53
 *         self.output = output
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return self.output
 * 
 */

static  PyObject *__pyx_f_9sendtools_12ConsumerSink_result_(struct __pyx_obj_9sendtools_ConsumerSink *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":54
 * 
 *     cdef object result_(self):
 *         return self.output             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_self->output);
  __pyx_r = __pyx_v_self->output;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":63
 *     cdef Consumer target
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return self.target.result_()
 * 
 */

static  PyObject *__pyx_f_9sendtools_12ConsumerNode_result_(struct __pyx_obj_9sendtools_ConsumerNode *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":64
 * 
 *     cdef object result_(self):
 *         return self.target.result_()             # <<<<<<<<<<<<<<
 * 
 *     cdef void close_(self):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->target->__pyx_vtab)->result_(__pyx_v_self->target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 64; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.ConsumerNode.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":66
 *         return self.target.result_()
 * 
 *     cdef void close_(self):             # <<<<<<<<<<<<<<
 *         if self._alive:
 *             self.target.close_()
 */

static  void __pyx_f_9sendtools_12ConsumerNode_close_(struct __pyx_obj_9sendtools_ConsumerNode *__pyx_v_self) {
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("close_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":67
 * 
 *     cdef void close_(self):
 *         if self._alive:             # <<<<<<<<<<<<<<
 *             self.target.close_()
 *         self._alive = 0
 */
  __pyx_t_1 = __pyx_v_self->__pyx_base._alive;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":68
 *     cdef void close_(self):
 *         if self._alive:
 *             self.target.close_()             # <<<<<<<<<<<<<<
 *         self._alive = 0
 * 
 */
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->target->__pyx_vtab)->close_(__pyx_v_self->target);
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":69
 *         if self._alive:
 *             self.target.close_()
 *         self._alive = 0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_v_self->__pyx_base._alive = 0;

  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":73
 * 
 * cdef class Append(ConsumerSink):
 *     def __cinit__(self, output, *args, **kdws):             # <<<<<<<<<<<<<<
 *         assert isinstance(output, MutableSequence)
 * 
 */

static int __pyx_pf_9sendtools_6Append___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_6Append___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_output = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kdws = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__output,0};
  __Pyx_RefNannySetupContext("__cinit__");
  __pyx_v_kdws = PyDict_New(); if (unlikely(!__pyx_v_kdws)) return -1;
  __Pyx_GOTREF(__pyx_v_kdws);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args)); __Pyx_GOTREF(__pyx_v_args);

    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kdws);
      return -1;
    }
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      default:
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__output);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      const Py_ssize_t used_pos_args = (PyTuple_GET_SIZE(__pyx_args) < 1) ? PyTuple_GET_SIZE(__pyx_args) : 1;
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kdws, values, used_pos_args, "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 73; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_output = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_output = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 73; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_AddTraceback("sendtools.Append.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":74
 * cdef class Append(ConsumerSink):
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSequence)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__MutableSequence); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 74; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_output, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 74; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely(!__pyx_t_2)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 74; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Append.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":76
 *         assert isinstance(output, MutableSequence)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         self.output.append(item)
 * 
 */

static  void __pyx_f_9sendtools_6Append_send_(struct __pyx_obj_9sendtools_Append *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":77
 * 
 *     cdef void send_(self, object item) except *:
 *         self.output.append(item)             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_Append(__pyx_v_self->__pyx_base.output, __pyx_v_item); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 77; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Append.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":81
 * 
 * cdef class ListAppend(Append):
 *     def __cinit__(self, output, *args, **kdws):             # <<<<<<<<<<<<<<
 *         assert isinstance(output, list)
 * 
 */

static int __pyx_pf_9sendtools_10ListAppend___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_10ListAppend___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_output = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kdws = 0;
  int __pyx_r;
  int __pyx_t_1;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__output,0};
  __Pyx_RefNannySetupContext("__cinit__");
  __pyx_v_kdws = PyDict_New(); if (unlikely(!__pyx_v_kdws)) return -1;
  __Pyx_GOTREF(__pyx_v_kdws);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args)); __Pyx_GOTREF(__pyx_v_args);

    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kdws);
      return -1;
    }
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      default:
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__output);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      const Py_ssize_t used_pos_args = (PyTuple_GET_SIZE(__pyx_args) < 1) ? PyTuple_GET_SIZE(__pyx_args) : 1;
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kdws, values, used_pos_args, "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 81; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_output = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_output = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 81; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_AddTraceback("sendtools.ListAppend.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":82
 * cdef class ListAppend(Append):
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, list)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = PyObject_TypeCheck(__pyx_v_output, ((PyTypeObject *)((PyObject*)&PyList_Type))); 
  if (unlikely(!__pyx_t_1)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 82; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.ListAppend.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":84
 *         assert isinstance(output, list)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         (<list>self.output).append(item)
 * 
 */

static  void __pyx_f_9sendtools_10ListAppend_send_(struct __pyx_obj_9sendtools_ListAppend *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":85
 * 
 *     cdef void send_(self, object item) except *:
 *         (<list>self.output).append(item)             # <<<<<<<<<<<<<<
 * 
 * 
 */
  if (unlikely(((PyObject *)__pyx_v_self->__pyx_base.__pyx_base.output) == Py_None)) {
    PyErr_SetString(PyExc_AttributeError, "'NoneType' object has no attribute 'append'"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 85; __pyx_clineno = __LINE__; goto __pyx_L1_error;} 
  }
  __pyx_t_1 = PyList_Append(((PyObject *)((PyObject *)__pyx_v_self->__pyx_base.__pyx_base.output)), __pyx_v_item); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 85; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.ListAppend.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":89
 * 
 * cdef class AddToSet(ConsumerSink):
 *     def __cinit__(self, output, *args, **kdws):             # <<<<<<<<<<<<<<
 *         assert isinstance(output, MutableSet)
 * 
 */

static int __pyx_pf_9sendtools_8AddToSet___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_8AddToSet___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_output = 0;
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kdws = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__output,0};
  __Pyx_RefNannySetupContext("__cinit__");
  __pyx_v_kdws = PyDict_New(); if (unlikely(!__pyx_v_kdws)) return -1;
  __Pyx_GOTREF(__pyx_v_kdws);
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_args = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args)); __Pyx_GOTREF(__pyx_v_args);

    if (unlikely(!__pyx_v_args)) {
      __Pyx_DECREF(__pyx_v_kdws);
      return -1;
    }
  } else {
    __pyx_v_args = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      default:
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__output);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      const Py_ssize_t used_pos_args = (PyTuple_GET_SIZE(__pyx_args) < 1) ? PyTuple_GET_SIZE(__pyx_args) : 1;
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kdws, values, used_pos_args, "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_output = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_output = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 89; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_AddTraceback("sendtools.AddToSet.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":90
 * cdef class AddToSet(ConsumerSink):
 *     def __cinit__(self, output, *args, **kdws):
 *         assert isinstance(output, MutableSet)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__MutableSet); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_output, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely(!__pyx_t_2)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 90; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.AddToSet.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kdws);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":92
 *         assert isinstance(output, MutableSet)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         self.output.add(item)
 * 
 */

static  void __pyx_f_9sendtools_8AddToSet_send_(struct __pyx_obj_9sendtools_AddToSet *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":93
 * 
 *     cdef void send_(self, object item) except *:
 *         self.output.add(item)             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self->__pyx_base.output, __pyx_n_s__add); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 93; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 93; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_item);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
  __Pyx_GIVEREF(__pyx_v_item);
  __pyx_t_3 = PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 93; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.AddToSet.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":100
 *         list targets
 * 
 *     def __cinit__(self, *targets):             # <<<<<<<<<<<<<<
 *         self.targets = [check(t) for t in targets]
 * 
 */

static int __pyx_pf_9sendtools_5Split___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_5Split___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_targets = 0;
  PyObject *__pyx_v_t;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;
  __Pyx_INCREF(__pyx_args);
  __pyx_v_targets = __pyx_args;
  __pyx_v_t = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":101
 * 
 *     def __cinit__(self, *targets):
 *         self.targets = [check(t) for t in targets]             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  if (PyList_CheckExact(__pyx_v_targets) || PyTuple_CheckExact(__pyx_v_targets)) {
    __pyx_t_2 = 0; __pyx_t_3 = __pyx_v_targets; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_2 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_v_targets); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    } else {
      __pyx_t_4 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_4) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    __Pyx_DECREF(__pyx_v_t);
    __pyx_v_t = __pyx_t_4;
    __pyx_t_4 = 0;
    __pyx_t_4 = __pyx_f_9sendtools_check(__pyx_v_t); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = PyList_Append(__pyx_t_1, (PyObject*)__pyx_t_4); if (unlikely(__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 101; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_INCREF(((PyObject *)__pyx_t_1));
  __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Split *)__pyx_v_self)->targets);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Split *)__pyx_v_self)->targets));
  ((struct __pyx_obj_9sendtools_Split *)__pyx_v_self)->targets = __pyx_t_1;
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Split.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_targets);
  __Pyx_DECREF(__pyx_v_t);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":103
 *         self.targets = [check(t) for t in targets]
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         cdef Consumer t
 *         return tuple([t.result_() for t in self.targets])
 */

static  PyObject *__pyx_f_9sendtools_5Split_result_(struct __pyx_obj_9sendtools_Split *__pyx_v_self) {
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_t;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("result_");
  __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":105
 *     cdef object result_(self):
 *         cdef Consumer t
 *         return tuple([t.result_() for t in self.targets])             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  if (likely(((PyObject *)__pyx_v_self->targets) != Py_None)) {
    __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)__pyx_v_self->targets); __Pyx_INCREF(__pyx_t_3);
  } else {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  for (;;) {
    if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_3)) break;
    __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_t));
    __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_t->__pyx_vtab)->result_(__pyx_v_t); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = PyList_Append(__pyx_t_1, (PyObject*)__pyx_t_4); if (unlikely(__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = ((PyObject *)PyList_AsTuple(__pyx_t_1)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_r = ((PyObject *)__pyx_t_3);
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Split.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_t);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":107
 *         return tuple([t.result_() for t in self.targets])
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         cdef:
 *             int alive=0
 */

static  void __pyx_f_9sendtools_5Split_send_(struct __pyx_obj_9sendtools_Split *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_v_alive;
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_t;
  Py_ssize_t __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);
  __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":109
 *     cdef void send_(self, object item) except *:
 *         cdef:
 *             int alive=0             # <<<<<<<<<<<<<<
 *             Consumer t
 *         for t in self.targets:
 */
  __pyx_v_alive = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":111
 *             int alive=0
 *             Consumer t
 *         for t in self.targets:             # <<<<<<<<<<<<<<
 *             if t._alive:
 *                 try:
 */
  if (likely(((PyObject *)__pyx_v_self->targets) != Py_None)) {
    __pyx_t_1 = 0; __pyx_t_2 = ((PyObject *)__pyx_v_self->targets); __Pyx_INCREF(__pyx_t_2);
  } else {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  for (;;) {
    if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_2)) break;
    __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++;
    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 111; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_t));
    __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_3);
    __pyx_t_3 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":112
 *             Consumer t
 *         for t in self.targets:
 *             if t._alive:             # <<<<<<<<<<<<<<
 *                 try:
 *                     t.send_(item)
 */
    __pyx_t_4 = __pyx_v_t->_alive;
    if (__pyx_t_4) {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":113
 *         for t in self.targets:
 *             if t._alive:
 *                 try:             # <<<<<<<<<<<<<<
 *                     t.send_(item)
 *                     alive = 1
 */
      {
        PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
        __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
        __Pyx_XGOTREF(__pyx_save_exc_type);
        __Pyx_XGOTREF(__pyx_save_exc_value);
        __Pyx_XGOTREF(__pyx_save_exc_tb);
        /*try:*/ {

          /* "/home/bryan/workspace/sendtools/sendtools.pyx":114
 *             if t._alive:
 *                 try:
 *                     t.send_(item)             # <<<<<<<<<<<<<<
 *                     alive = 1
 *                 except StopIteration:
 */
          ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_t->__pyx_vtab)->send_(__pyx_v_t, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 114; __pyx_clineno = __LINE__; goto __pyx_L6_error;}

          /* "/home/bryan/workspace/sendtools/sendtools.pyx":115
 *                 try:
 *                     t.send_(item)
 *                     alive = 1             # <<<<<<<<<<<<<<
 *                 except StopIteration:
 *                     t._alive = 0
 */
          __pyx_v_alive = 1;
        }
        __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
        __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
        __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
        goto __pyx_L13_try_end;
        __pyx_L6_error:;
        __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

        /* "/home/bryan/workspace/sendtools/sendtools.pyx":116
 *                     t.send_(item)
 *                     alive = 1
 *                 except StopIteration:             # <<<<<<<<<<<<<<
 *                     t._alive = 0
 *         if alive==0:
 */
        __pyx_t_4 = PyErr_ExceptionMatches(__pyx_builtin_StopIteration);
        if (__pyx_t_4) {
          __Pyx_AddTraceback("sendtools.Split.send_");
          if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_5, &__pyx_t_6) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 116; __pyx_clineno = __LINE__; goto __pyx_L8_except_error;}
          __Pyx_GOTREF(__pyx_t_3);
          __Pyx_GOTREF(__pyx_t_5);
          __Pyx_GOTREF(__pyx_t_6);

          /* "/home/bryan/workspace/sendtools/sendtools.pyx":117
 *                     alive = 1
 *                 except StopIteration:
 *                     t._alive = 0             # <<<<<<<<<<<<<<
 *         if alive==0:
 *             self._alive = 0
 */
          __pyx_v_t->_alive = 0;
          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
          goto __pyx_L7_exception_handled;
        }
        __pyx_L8_except_error:;
        __Pyx_XGIVEREF(__pyx_save_exc_type);
        __Pyx_XGIVEREF(__pyx_save_exc_value);
        __Pyx_XGIVEREF(__pyx_save_exc_tb);
        __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
        goto __pyx_L1_error;
        __pyx_L7_exception_handled:;
        __Pyx_XGIVEREF(__pyx_save_exc_type);
        __Pyx_XGIVEREF(__pyx_save_exc_value);
        __Pyx_XGIVEREF(__pyx_save_exc_tb);
        __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
        __pyx_L13_try_end:;
      }
      goto __pyx_L5;
    }
    __pyx_L5:;
  }
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":118
 *                 except StopIteration:
 *                     t._alive = 0
 *         if alive==0:             # <<<<<<<<<<<<<<
 *             self._alive = 0
 *             raise StopIteration
 */
  __pyx_t_7 = (__pyx_v_alive == 0);
  if (__pyx_t_7) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":119
 *                     t._alive = 0
 *         if alive==0:
 *             self._alive = 0             # <<<<<<<<<<<<<<
 *             raise StopIteration
 * 
 */
    __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":120
 *         if alive==0:
 *             self._alive = 0
 *             raise StopIteration             # <<<<<<<<<<<<<<
 * 
 *     cdef void close_(self):
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 120; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L16;
  }
  __pyx_L16:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("sendtools.Split.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_t);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":122
 *             raise StopIteration
 * 
 *     cdef void close_(self):             # <<<<<<<<<<<<<<
 *         cdef Consumer t
 *         if self._alive:
 */

static  void __pyx_f_9sendtools_5Split_close_(struct __pyx_obj_9sendtools_Split *__pyx_v_self) {
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_t;
  int __pyx_t_1;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("close_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":124
 *     cdef void close_(self):
 *         cdef Consumer t
 *         if self._alive:             # <<<<<<<<<<<<<<
 *             for t in self.targets:
 *                 t.close_()
 */
  __pyx_t_1 = __pyx_v_self->__pyx_base.__pyx_base._alive;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":125
 *         cdef Consumer t
 *         if self._alive:
 *             for t in self.targets:             # <<<<<<<<<<<<<<
 *                 t.close_()
 *         self._alive = 0
 */
    if (likely(((PyObject *)__pyx_v_self->targets) != Py_None)) {
      __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)__pyx_v_self->targets); __Pyx_INCREF(__pyx_t_3);
    } else {
      PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    for (;;) {
      if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
      if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(((PyObject *)__pyx_v_t));
      __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4);
      __pyx_t_4 = 0;

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":126
 *         if self._alive:
 *             for t in self.targets:
 *                 t.close_()             # <<<<<<<<<<<<<<
 *         self._alive = 0
 * 
 */
      ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_t->__pyx_vtab)->close_(__pyx_v_t);
    }
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":127
 *             for t in self.targets:
 *                 t.close_()
 *         self._alive = 0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_WriteUnraisable("sendtools.Split.close_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_t);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":140
 *         unsigned int count, total
 * 
 *     def __cinit__(self, unsigned int n, target):             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 *         self.total = n
 */

static int __pyx_pf_9sendtools_5Limit___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_5Limit___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  unsigned int __pyx_v_n;
  PyObject *__pyx_v_target = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__n,&__pyx_n_s__target,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__n);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_n = __Pyx_PyInt_AsUnsignedInt(values[0]); if (unlikely((__pyx_v_n == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    __pyx_v_target = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_n = __Pyx_PyInt_AsUnsignedInt(PyTuple_GET_ITEM(__pyx_args, 0)); if (unlikely((__pyx_v_n == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 140; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Limit.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":141
 * 
 *     def __cinit__(self, unsigned int n, target):
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 *         self.total = n
 *         self.count = 0
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 141; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Limit *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Limit *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Limit *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":142
 *     def __cinit__(self, unsigned int n, target):
 *         self.target = check(target)
 *         self.total = n             # <<<<<<<<<<<<<<
 *         self.count = 0
 * 
 */
  ((struct __pyx_obj_9sendtools_Limit *)__pyx_v_self)->total = __pyx_v_n;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":143
 *         self.target = check(target)
 *         self.total = n
 *         self.count = 0             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  ((struct __pyx_obj_9sendtools_Limit *)__pyx_v_self)->count = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Limit.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":145
 *         self.count = 0
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         if self.count >= self.total:
 *             self._alive = 0
 */

static  void __pyx_f_9sendtools_5Limit_send_(struct __pyx_obj_9sendtools_Limit *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":146
 * 
 *     cdef void send_(self, object item) except *:
 *         if self.count >= self.total:             # <<<<<<<<<<<<<<
 *             self._alive = 0
 *             raise StopIteration
 */
  __pyx_t_1 = (__pyx_v_self->count >= __pyx_v_self->total);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":147
 *     cdef void send_(self, object item) except *:
 *         if self.count >= self.total:
 *             self._alive = 0             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         else:
 */
    __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":148
 *         if self.count >= self.total:
 *             self._alive = 0
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         else:
 *             self.target.send_(item)
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":150
 *             raise StopIteration
 *         else:
 *             self.target.send_(item)             # <<<<<<<<<<<<<<
 *             self.count += 1
 * 
 */
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":151
 *         else:
 *             self.target.send_(item)
 *             self.count += 1             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_v_self->count += 1;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.Limit.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":164
 *         unsigned int start, stop, step
 * 
 *     def __cinit__(self, *args):             # <<<<<<<<<<<<<<
 *         cdef unsigned int i, nargs=len(args)
 *         if nargs>4:
 */

static int __pyx_pf_9sendtools_5Slice___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_5Slice___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  unsigned int __pyx_v_nargs;
  int __pyx_r;
  Py_ssize_t __pyx_t_1;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  unsigned int __pyx_t_5;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;
  __Pyx_INCREF(__pyx_args);
  __pyx_v_args = __pyx_args;
  __Pyx_INCREF((PyObject *)__pyx_v_self);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":165
 * 
 *     def __cinit__(self, *args):
 *         cdef unsigned int i, nargs=len(args)             # <<<<<<<<<<<<<<
 *         if nargs>4:
 *             raise TypeError("Slice expects at most 4 arguments, got %d"%nargs)
 */
  __pyx_t_1 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 165; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_v_nargs = __pyx_t_1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":166
 *     def __cinit__(self, *args):
 *         cdef unsigned int i, nargs=len(args)
 *         if nargs>4:             # <<<<<<<<<<<<<<
 *             raise TypeError("Slice expects at most 4 arguments, got %d"%nargs)
 *         if nargs<2:
 */
  __pyx_t_2 = (__pyx_v_nargs > 4);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":167
 *         cdef unsigned int i, nargs=len(args)
 *         if nargs>4:
 *             raise TypeError("Slice expects at most 4 arguments, got %d"%nargs)             # <<<<<<<<<<<<<<
 *         if nargs<2:
 *             raise TypeError("Slice requires at least 2 arguments, got %d"%nargs)
 */
    __pyx_t_3 = PyLong_FromUnsignedLong(__pyx_v_nargs); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __pyx_t_4 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_1), __pyx_t_3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4);
    __Pyx_GIVEREF(__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":168
 *         if nargs>4:
 *             raise TypeError("Slice expects at most 4 arguments, got %d"%nargs)
 *         if nargs<2:             # <<<<<<<<<<<<<<
 *             raise TypeError("Slice requires at least 2 arguments, got %d"%nargs)
 *         self.target = check(args[-1])
 */
  __pyx_t_2 = (__pyx_v_nargs < 2);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":169
 *             raise TypeError("Slice expects at most 4 arguments, got %d"%nargs)
 *         if nargs<2:
 *             raise TypeError("Slice requires at least 2 arguments, got %d"%nargs)             # <<<<<<<<<<<<<<
 *         self.target = check(args[-1])
 *         if nargs==2:
 */
    __pyx_t_4 = PyLong_FromUnsignedLong(__pyx_v_nargs); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_3 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_2), __pyx_t_4); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_Raise(__pyx_t_3, 0, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":170
 *         if nargs<2:
 *             raise TypeError("Slice requires at least 2 arguments, got %d"%nargs)
 *         self.target = check(args[-1])             # <<<<<<<<<<<<<<
 *         if nargs==2:
 *             self.stop = args[0]
 */
  __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_args, -1, sizeof(long), PyInt_FromLong); if (!__pyx_t_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = __pyx_f_9sendtools_check(__pyx_t_3); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 170; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4);
  __pyx_t_4 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":171
 *             raise TypeError("Slice requires at least 2 arguments, got %d"%nargs)
 *         self.target = check(args[-1])
 *         if nargs==2:             # <<<<<<<<<<<<<<
 *             self.stop = args[0]
 *             self.start = 0
 */
  __pyx_t_2 = (__pyx_v_nargs == 2);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":172
 *         self.target = check(args[-1])
 *         if nargs==2:
 *             self.stop = args[0]             # <<<<<<<<<<<<<<
 *             self.start = 0
 *             self.step = 1
 */
    __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_args, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyInt_AsUnsignedInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 172; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->stop = __pyx_t_5;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":173
 *         if nargs==2:
 *             self.stop = args[0]
 *             self.start = 0             # <<<<<<<<<<<<<<
 *             self.step = 1
 *         else:
 */
    ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->start = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":174
 *             self.stop = args[0]
 *             self.start = 0
 *             self.step = 1             # <<<<<<<<<<<<<<
 *         else:
 *             self.start = args[0]
 */
    ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->step = 1;
    goto __pyx_L7;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":176
 *             self.step = 1
 *         else:
 *             self.start = args[0]             # <<<<<<<<<<<<<<
 *             self.stop = args[1]
 *             if nargs==4:
 */
    __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_args, 0, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyInt_AsUnsignedInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->start = __pyx_t_5;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":177
 *         else:
 *             self.start = args[0]
 *             self.stop = args[1]             # <<<<<<<<<<<<<<
 *             if nargs==4:
 *                 self.step = args[2]
 */
    __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_args, 1, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = __Pyx_PyInt_AsUnsignedInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 177; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->stop = __pyx_t_5;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":178
 *             self.start = args[0]
 *             self.stop = args[1]
 *             if nargs==4:             # <<<<<<<<<<<<<<
 *                 self.step = args[2]
 *             else:
 */
    __pyx_t_2 = (__pyx_v_nargs == 4);
    if (__pyx_t_2) {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":179
 *             self.stop = args[1]
 *             if nargs==4:
 *                 self.step = args[2]             # <<<<<<<<<<<<<<
 *             else:
 *                 self.step = 1
 */
      __pyx_t_4 = __Pyx_GetItemInt(__pyx_v_args, 2, sizeof(long), PyInt_FromLong); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_4);
      __pyx_t_5 = __Pyx_PyInt_AsUnsignedInt(__pyx_t_4); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->step = __pyx_t_5;
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":181
 *                 self.step = args[2]
 *             else:
 *                 self.step = 1             # <<<<<<<<<<<<<<
 *         if self.stop < 0:
 *             raise TypeError("stop value may not be None")
 */
      ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->step = 1;
    }
    __pyx_L8:;
  }
  __pyx_L7:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":182
 *             else:
 *                 self.step = 1
 *         if self.stop < 0:             # <<<<<<<<<<<<<<
 *             raise TypeError("stop value may not be None")
 *         self.count = 0
 */
  __pyx_t_2 = (((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->stop < 0);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":183
 *                 self.step = 1
 *         if self.stop < 0:
 *             raise TypeError("stop value may not be None")             # <<<<<<<<<<<<<<
 *         self.count = 0
 *         self.nxt = self.start
 */
    __pyx_t_4 = PyTuple_New(1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_3));
    PyTuple_SET_ITEM(__pyx_t_4, 0, ((PyObject *)__pyx_kp_s_3));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_3));
    __pyx_t_3 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __Pyx_Raise(__pyx_t_3, 0, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L9;
  }
  __pyx_L9:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":184
 *         if self.stop < 0:
 *             raise TypeError("stop value may not be None")
 *         self.count = 0             # <<<<<<<<<<<<<<
 *         self.nxt = self.start
 * 
 */
  ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->count = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":185
 *             raise TypeError("stop value may not be None")
 *         self.count = 0
 *         self.nxt = self.start             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->nxt = ((struct __pyx_obj_9sendtools_Slice *)__pyx_v_self)->start;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Slice.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":187
 *         self.nxt = self.start
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         if self.nxt >= self.stop:
 *             self._alive = 0
 */

static  void __pyx_f_9sendtools_5Slice_send_(struct __pyx_obj_9sendtools_Slice *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":188
 * 
 *     cdef void send_(self, object item) except *:
 *         if self.nxt >= self.stop:             # <<<<<<<<<<<<<<
 *             self._alive = 0
 *             raise StopIteration
 */
  __pyx_t_1 = (__pyx_v_self->nxt >= __pyx_v_self->stop);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":189
 *     cdef void send_(self, object item) except *:
 *         if self.nxt >= self.stop:
 *             self._alive = 0             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         if self.count == self.nxt:
 */
    __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":190
 *         if self.nxt >= self.stop:
 *             self._alive = 0
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         if self.count == self.nxt:
 *             self.target.send_(item)
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 190; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":191
 *             self._alive = 0
 *             raise StopIteration
 *         if self.count == self.nxt:             # <<<<<<<<<<<<<<
 *             self.target.send_(item)
 *             self.nxt += self.step
 */
  __pyx_t_1 = (__pyx_v_self->count == __pyx_v_self->nxt);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":192
 *             raise StopIteration
 *         if self.count == self.nxt:
 *             self.target.send_(item)             # <<<<<<<<<<<<<<
 *             self.nxt += self.step
 *         self.count += 1
 */
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":193
 *         if self.count == self.nxt:
 *             self.target.send_(item)
 *             self.nxt += self.step             # <<<<<<<<<<<<<<
 *         self.count += 1
 * 
 */
    __pyx_v_self->nxt += __pyx_v_self->step;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":194
 *             self.target.send_(item)
 *             self.nxt += self.step
 *         self.count += 1             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_v_self->count += 1;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_AddTraceback("sendtools.Slice.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":208
 *         object func
 * 
 *     def __cinit__(self, func, target):             # <<<<<<<<<<<<<<
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be a callable")
 */

static int __pyx_pf_9sendtools_6Filter___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_6Filter___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_target = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__func,&__pyx_n_s__target,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__func);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_func = values[0];
    __pyx_v_target = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_func = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 208; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Filter.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_INCREF(__pyx_v_target);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":209
 * 
 *     def __cinit__(self, func, target):
 *         if not isinstance(func, Callable):             # <<<<<<<<<<<<<<
 *             raise TypeError("first argument must be a callable")
 *         self.func = func
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_func, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (!__pyx_t_2);
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":210
 *     def __cinit__(self, func, target):
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be a callable")             # <<<<<<<<<<<<<<
 *         self.func = func
 *         self.target = check(target)
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_4));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_4));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_4));
    __pyx_t_4 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":211
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be a callable")
 *         self.func = func             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 * 
 */
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_GIVEREF(__pyx_v_func);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->func);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->func);
  ((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->func = __pyx_v_func;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":212
 *             raise TypeError("first argument must be a callable")
 *         self.func = func
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __pyx_t_4 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 212; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 212; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_4);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Filter *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4);
  __pyx_t_4 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Filter.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_func);
  __Pyx_DECREF(__pyx_v_target);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":214
 *         self.target = check(target)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         if not self._alive:
 *             raise StopIteration
 */

static  void __pyx_f_9sendtools_6Filter_send_(struct __pyx_obj_9sendtools_Filter *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":215
 * 
 *     cdef void send_(self, object item) except *:
 *         if not self._alive:             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         try:
 */
  __pyx_t_1 = (!__pyx_v_self->__pyx_base.__pyx_base._alive);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":216
 *     cdef void send_(self, object item) except *:
 *         if not self._alive:
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         try:
 *             if self.func(item):
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":217
 *         if not self._alive:
 *             raise StopIteration
 *         try:             # <<<<<<<<<<<<<<
 *             if self.func(item):
 *                 self.target.send_(item)
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":218
 *             raise StopIteration
 *         try:
 *             if self.func(item):             # <<<<<<<<<<<<<<
 *                 self.target.send_(item)
 *         except:
 */
      __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 218; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_v_item);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
      __Pyx_GIVEREF(__pyx_v_item);
      __pyx_t_3 = PyObject_Call(__pyx_v_self->func, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 218; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 218; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      if (__pyx_t_1) {

        /* "/home/bryan/workspace/sendtools/sendtools.pyx":219
 *         try:
 *             if self.func(item):
 *                 self.target.send_(item)             # <<<<<<<<<<<<<<
 *         except:
 *             self._alive = 0
 */
        ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
        goto __pyx_L12;
      }
      __pyx_L12:;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L11_try_end;
    __pyx_L4_error:;
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":220
 *             if self.func(item):
 *                 self.target.send_(item)
 *         except:             # <<<<<<<<<<<<<<
 *             self._alive = 0
 *             raise
 */
    /*except:*/ {
      __Pyx_AddTraceback("sendtools.Filter.send_");
      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 220; __pyx_clineno = __LINE__; goto __pyx_L6_except_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GOTREF(__pyx_t_4);

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":221
 *                 self.target.send_(item)
 *         except:
 *             self._alive = 0             # <<<<<<<<<<<<<<
 *             raise
 * 
 */
      __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":222
 *         except:
 *             self._alive = 0
 *             raise             # <<<<<<<<<<<<<<
 * 
 * 
 */
      __Pyx_GIVEREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_4);
      __Pyx_ErrRestore(__pyx_t_3, __pyx_t_2, __pyx_t_4);
      __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_4 = 0; 
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 222; __pyx_clineno = __LINE__; goto __pyx_L6_except_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
      goto __pyx_L5_exception_handled;
    }
    __pyx_L6_except_error:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L5_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L11_try_end:;
  }

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Filter.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":239
 *         object exc
 * 
 *     def __cinit__(self, func, target, catch=None):             # <<<<<<<<<<<<<<
 *         assert isinstance(func, Callable)
 *         if catch is not None:
 */

static int __pyx_pf_9sendtools_3Map___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_3Map___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_catch = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__func,&__pyx_n_s__target,&__pyx_n_s__catch,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__func);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__catch);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_func = values[0];
    __pyx_v_target = values[1];
    __pyx_v_catch = values[2];
  } else {
    __pyx_v_catch = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_catch = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_func = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Map.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_INCREF(__pyx_v_target);
  __Pyx_INCREF(__pyx_v_catch);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":240
 * 
 *     def __cinit__(self, func, target, catch=None):
 *         assert isinstance(func, Callable)             # <<<<<<<<<<<<<<
 *         if catch is not None:
 *             assert issubclass(catch, BaseException)
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_func, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely(!__pyx_t_2)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 240; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":241
 *     def __cinit__(self, func, target, catch=None):
 *         assert isinstance(func, Callable)
 *         if catch is not None:             # <<<<<<<<<<<<<<
 *             assert issubclass(catch, BaseException)
 *         self.func = func
 */
  __pyx_t_2 = (__pyx_v_catch != Py_None);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":242
 *         assert isinstance(func, Callable)
 *         if catch is not None:
 *             assert issubclass(catch, BaseException)             # <<<<<<<<<<<<<<
 *         self.func = func
 *         self.target = check(target)
 */
    #ifndef PYREX_WITHOUT_ASSERTIONS
    __pyx_t_2 = PyObject_IsSubclass(__pyx_v_catch, __pyx_builtin_BaseException); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    if (unlikely(!__pyx_t_2)) {
      PyErr_SetNone(PyExc_AssertionError);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    #endif
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":243
 *         if catch is not None:
 *             assert issubclass(catch, BaseException)
 *         self.func = func             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 *         self.exc = catch
 */
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_GIVEREF(__pyx_v_func);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->func);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->func);
  ((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->func = __pyx_v_func;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":244
 *             assert issubclass(catch, BaseException)
 *         self.func = func
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 *         self.exc = catch
 * 
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":245
 *         self.func = func
 *         self.target = check(target)
 *         self.exc = catch             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __Pyx_INCREF(__pyx_v_catch);
  __Pyx_GIVEREF(__pyx_v_catch);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->exc);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->exc);
  ((struct __pyx_obj_9sendtools_Map *)__pyx_v_self)->exc = __pyx_v_catch;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Map.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_func);
  __Pyx_DECREF(__pyx_v_target);
  __Pyx_DECREF(__pyx_v_catch);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":247
 *         self.exc = catch
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         if not self._alive:
 *             raise StopIteration
 */

static  void __pyx_f_9sendtools_3Map_send_(struct __pyx_obj_9sendtools_Map *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":248
 * 
 *     cdef void send_(self, object item) except *:
 *         if not self._alive:             # <<<<<<<<<<<<<<
 *             raise StopIteration
 *         try:
 */
  __pyx_t_1 = (!__pyx_v_self->__pyx_base.__pyx_base._alive);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":249
 *     cdef void send_(self, object item) except *:
 *         if not self._alive:
 *             raise StopIteration             # <<<<<<<<<<<<<<
 *         try:
 *             self.target.send_(self.func(item))
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":250
 *         if not self._alive:
 *             raise StopIteration
 *         try:             # <<<<<<<<<<<<<<
 *             self.target.send_(self.func(item))
 *         except self.exc:
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":251
 *             raise StopIteration
 *         try:
 *             self.target.send_(self.func(item))             # <<<<<<<<<<<<<<
 *         except self.exc:
 *             pass
 */
      __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_v_item);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
      __Pyx_GIVEREF(__pyx_v_item);
      __pyx_t_3 = PyObject_Call(__pyx_v_self->func, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_3); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; __pyx_clineno = __LINE__; goto __pyx_L4_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L11_try_end;
    __pyx_L4_error:;
    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":252
 *         try:
 *             self.target.send_(self.func(item))
 *         except self.exc:             # <<<<<<<<<<<<<<
 *             pass
 *         except:
 */
    __pyx_t_4 = PyErr_ExceptionMatches(__pyx_v_self->exc);
    if (__pyx_t_4) {
      PyErr_Restore(0,0,0);
      goto __pyx_L5_exception_handled;
    }

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":254
 *         except self.exc:
 *             pass
 *         except:             # <<<<<<<<<<<<<<
 *             self._alive = 0
 *             raise
 */
    /*except:*/ {
      __Pyx_AddTraceback("sendtools.Map.send_");
      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 254; __pyx_clineno = __LINE__; goto __pyx_L6_except_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_GOTREF(__pyx_t_5);

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":255
 *             pass
 *         except:
 *             self._alive = 0             # <<<<<<<<<<<<<<
 *             raise
 * 
 */
      __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":256
 *         except:
 *             self._alive = 0
 *             raise             # <<<<<<<<<<<<<<
 * 
 * 
 */
      __Pyx_GIVEREF(__pyx_t_3);
      __Pyx_GIVEREF(__pyx_t_2);
      __Pyx_GIVEREF(__pyx_t_5);
      __Pyx_ErrRestore(__pyx_t_3, __pyx_t_2, __pyx_t_5);
      __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_5 = 0; 
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 256; __pyx_clineno = __LINE__; goto __pyx_L6_except_error;}
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      goto __pyx_L5_exception_handled;
    }
    __pyx_L6_except_error:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L5_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L11_try_end:;
  }

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("sendtools.Map.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":270
 *     cdef object selector
 * 
 *     def __cinit__(self, idx, target):             # <<<<<<<<<<<<<<
 *         self.selector = idx
 *         self.target = check(target)
 */

static int __pyx_pf_9sendtools_3Get___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_3Get___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_idx = 0;
  PyObject *__pyx_v_target = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__idx,&__pyx_n_s__target,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__idx);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_idx = values[0];
    __pyx_v_target = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_idx = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 270; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Get.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":271
 * 
 *     def __cinit__(self, idx, target):
 *         self.selector = idx             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 * 
 */
  __Pyx_INCREF(__pyx_v_idx);
  __Pyx_GIVEREF(__pyx_v_idx);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->selector);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->selector);
  ((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->selector = __pyx_v_idx;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":272
 *     def __cinit__(self, idx, target):
 *         self.selector = idx
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 272; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Get *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_1);
  __pyx_t_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Get.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":274
 *         self.target = check(target)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         self.target.send_(item[self.selector])
 * 
 */

static  void __pyx_f_9sendtools_3Get_send_(struct __pyx_obj_9sendtools_Get *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":275
 * 
 *     cdef void send_(self, object item) except *:
 *         self.target.send_(item[self.selector])             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyObject_GetItem(__pyx_v_item, __pyx_v_self->selector); if (!__pyx_t_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_1); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Get.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":287
 *     cdef object attrname
 * 
 *     def __cinit__(self, name, target):             # <<<<<<<<<<<<<<
 *         self.attrname = str(name)
 *         self.target = check(target)
 */

static int __pyx_pf_9sendtools_4Attr___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_4Attr___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_target = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__name,&__pyx_n_s__target,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__name);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_name = values[0];
    __pyx_v_target = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_name = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Attr.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":288
 * 
 *     def __cinit__(self, name, target):
 *         self.attrname = str(name)             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 * 
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_name);
  __Pyx_GIVEREF(__pyx_v_name);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)&PyString_Type)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_t_2);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->attrname);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->attrname);
  ((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->attrname = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":289
 *     def __cinit__(self, name, target):
 *         self.attrname = str(name)
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, object item) except *:
 */
  __pyx_t_2 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_2);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_Attr *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2);
  __pyx_t_2 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.Attr.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":291
 *         self.target = check(target)
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         self.target.send_(getattr(item, self.attrname))
 * 
 */

static  void __pyx_f_9sendtools_4Attr_send_(struct __pyx_obj_9sendtools_Attr *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":292
 * 
 *     cdef void send_(self, object item) except *:
 *         self.target.send_(getattr(item, self.attrname))             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_item, __pyx_v_self->attrname); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_1); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Attr.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":298
 *     cdef object factory
 * 
 *     def __cinit__(self, factory):             # <<<<<<<<<<<<<<
 *         assert isinstance(factory, Callable)
 *         self.factory = factory
 */

static int __pyx_pf_9sendtools_7Factory___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_7Factory___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_factory = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__factory,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__factory);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_factory = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_factory = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 298; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Factory.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":299
 * 
 *     def __cinit__(self, factory):
 *         assert isinstance(factory, Callable)             # <<<<<<<<<<<<<<
 *         self.factory = factory
 * 
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 299; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_factory, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 299; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (unlikely(!__pyx_t_2)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 299; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":300
 *     def __cinit__(self, factory):
 *         assert isinstance(factory, Callable)
 *         self.factory = factory             # <<<<<<<<<<<<<<
 * 
 *     def __call__(self):
 */
  __Pyx_INCREF(__pyx_v_factory);
  __Pyx_GIVEREF(__pyx_v_factory);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Factory *)__pyx_v_self)->factory);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Factory *)__pyx_v_self)->factory);
  ((struct __pyx_obj_9sendtools_Factory *)__pyx_v_self)->factory = __pyx_v_factory;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Factory.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":302
 *         self.factory = factory
 * 
 *     def __call__(self):             # <<<<<<<<<<<<<<
 *         return check(self.factory())
 * 
 */

static PyObject *__pyx_pf_9sendtools_7Factory___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pf_9sendtools_7Factory___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("__call__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__call__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return NULL;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__call__", 0))) return NULL;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":303
 * 
 *     def __call__(self):
 *         return check(self.factory())             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyObject_Call(((struct __pyx_obj_9sendtools_Factory *)__pyx_v_self)->factory, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __pyx_f_9sendtools_check(__pyx_t_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.Factory.__call__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":328
 *         Consumer this_grp
 * 
 *     def __cinit__(self, unsigned int n, target, factory=list):             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 *         self.n = n
 */

static int __pyx_pf_9sendtools_8GroupByN___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_8GroupByN___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  unsigned int __pyx_v_n;
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_factory = 0;
  PyObject *__pyx_v_first;
  PyObject *__pyx_v_checked;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__n,&__pyx_n_s__target,&__pyx_n_s__factory,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = __pyx_k_5;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__n);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__factory);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_n = __Pyx_PyInt_AsUnsignedInt(values[0]); if (unlikely((__pyx_v_n == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    __pyx_v_target = values[1];
    __pyx_v_factory = values[2];
  } else {
    __pyx_v_factory = __pyx_k_5;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_factory = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_n = __Pyx_PyInt_AsUnsignedInt(PyTuple_GET_ITEM(__pyx_args, 0)); if (unlikely((__pyx_v_n == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 328; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.GroupByN.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_target);
  __Pyx_INCREF(__pyx_v_factory);
  __pyx_v_first = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_checked = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":329
 * 
 *     def __cinit__(self, unsigned int n, target, factory=list):
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 *         self.n = n
 *         self.factory = factory
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 329; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":330
 *     def __cinit__(self, unsigned int n, target, factory=list):
 *         self.target = check(target)
 *         self.n = n             # <<<<<<<<<<<<<<
 *         self.factory = factory
 *         self.count = 0
 */
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->n = __pyx_v_n;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":331
 *         self.target = check(target)
 *         self.n = n
 *         self.factory = factory             # <<<<<<<<<<<<<<
 *         self.count = 0
 * 
 */
  __Pyx_INCREF(__pyx_v_factory);
  __Pyx_GIVEREF(__pyx_v_factory);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory = __pyx_v_factory;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":332
 *         self.n = n
 *         self.factory = factory
 *         self.count = 0             # <<<<<<<<<<<<<<
 * 
 *         first = factory()
 */
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->count = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":334
 *         self.count = 0
 * 
 *         first = factory()             # <<<<<<<<<<<<<<
 *         checked = check(first)
 *         if type(checked) != type(first):
 */
  __pyx_t_1 = PyObject_Call(__pyx_v_factory, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 334; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_v_first);
  __pyx_v_first = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":335
 * 
 *         first = factory()
 *         checked = check(first)             # <<<<<<<<<<<<<<
 *         if type(checked) != type(first):
 *             self.factory = Factory(factory)
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_first); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 335; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_v_checked);
  __pyx_v_checked = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":336
 *         first = factory()
 *         checked = check(first)
 *         if type(checked) != type(first):             # <<<<<<<<<<<<<<
 *             self.factory = Factory(factory)
 *         else:
 */
  __pyx_t_1 = PyObject_RichCompare(((PyObject *)Py_TYPE(__pyx_v_checked)), ((PyObject *)Py_TYPE(__pyx_v_first)), Py_NE); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":337
 *         checked = check(first)
 *         if type(checked) != type(first):
 *             self.factory = Factory(factory)             # <<<<<<<<<<<<<<
 *         else:
 *             self.factory = factory
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(__pyx_v_factory);
    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_factory);
    __Pyx_GIVEREF(__pyx_v_factory);
    __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_Factory)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 337; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_GIVEREF(__pyx_t_3);
    __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
    __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
    ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L6;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":339
 *             self.factory = Factory(factory)
 *         else:
 *             self.factory = factory             # <<<<<<<<<<<<<<
 * 
 *         self.this_grp = checked
 */
    __Pyx_INCREF(__pyx_v_factory);
    __Pyx_GIVEREF(__pyx_v_factory);
    __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
    __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory);
    ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->factory = __pyx_v_factory;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":341
 *             self.factory = factory
 * 
 *         self.this_grp = checked             # <<<<<<<<<<<<<<
 *         self.output = self.target.result_()
 * 
 */
  if (!(likely(((__pyx_v_checked) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_checked, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 341; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_INCREF(__pyx_v_checked);
  __Pyx_GIVEREF(__pyx_v_checked);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->this_grp);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->this_grp));
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_v_checked);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":342
 * 
 *         self.this_grp = checked
 *         self.output = self.target.result_()             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_3 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->__pyx_base.target->__pyx_vtab)->result_(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->__pyx_base.target); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->output);
  ((struct __pyx_obj_9sendtools_GroupByN *)__pyx_v_self)->output = __pyx_t_3;
  __pyx_t_3 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.GroupByN.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_first);
  __Pyx_DECREF(__pyx_v_checked);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_target);
  __Pyx_DECREF(__pyx_v_factory);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":345
 * 
 * 
 *     cdef void send_(self, object item) except *:             # <<<<<<<<<<<<<<
 *         cdef:
 *             object gout, out, output
 */

static  void __pyx_f_9sendtools_8GroupByN_send_(struct __pyx_obj_9sendtools_GroupByN *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":349
 *             object gout, out, output
 * 
 *         self.this_grp.send_(item)             # <<<<<<<<<<<<<<
 *         self.count += 1
 *         if self.count >= self.n:
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->this_grp->__pyx_vtab)->send_(__pyx_v_self->this_grp, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":350
 * 
 *         self.this_grp.send_(item)
 *         self.count += 1             # <<<<<<<<<<<<<<
 *         if self.count >= self.n:
 *             self.target.send_(self.this_grp.result_())
 */
  __pyx_v_self->count += 1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":351
 *         self.this_grp.send_(item)
 *         self.count += 1
 *         if self.count >= self.n:             # <<<<<<<<<<<<<<
 *             self.target.send_(self.this_grp.result_())
 *             self.count = 0
 */
  __pyx_t_1 = (__pyx_v_self->count >= __pyx_v_self->n);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":352
 *         self.count += 1
 *         if self.count >= self.n:
 *             self.target.send_(self.this_grp.result_())             # <<<<<<<<<<<<<<
 *             self.count = 0
 *             self.this_grp = self.factory()
 */
    __pyx_t_2 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->this_grp->__pyx_vtab)->result_(__pyx_v_self->this_grp); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_2); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":353
 *         if self.count >= self.n:
 *             self.target.send_(self.this_grp.result_())
 *             self.count = 0             # <<<<<<<<<<<<<<
 *             self.this_grp = self.factory()
 * 
 */
    __pyx_v_self->count = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":354
 *             self.target.send_(self.this_grp.result_())
 *             self.count = 0
 *             self.this_grp = self.factory()             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_t_2 = PyObject_Call(__pyx_v_self->factory, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 354; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GIVEREF(__pyx_t_2);
    __Pyx_GOTREF(__pyx_v_self->this_grp);
    __Pyx_DECREF(((PyObject *)__pyx_v_self->this_grp));
    __pyx_v_self->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2);
    __pyx_t_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.GroupByN.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":358
 * 
 * cdef class NULL_OBJ(object):
 *     def __richcmp__(self, other, op):             # <<<<<<<<<<<<<<
 *         return True
 * 
 */

static PyObject *__pyx_pf_9sendtools_8NULL_OBJ___richcmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other, int __pyx_arg_op); /*proto*/
static PyObject *__pyx_pf_9sendtools_8NULL_OBJ___richcmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other, int __pyx_arg_op) {
  PyObject *__pyx_v_op = 0;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__richcmp__");
  __pyx_v_op = PyInt_FromLong(__pyx_arg_op); if (unlikely(!__pyx_v_op)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __Pyx_GOTREF(__pyx_v_op);
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.NULL_OBJ.__richcmp__");
  return NULL;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":359
 * cdef class NULL_OBJ(object):
 *     def __richcmp__(self, other, op):
 *         return True             # <<<<<<<<<<<<<<
 * 
 *     def __add__(x, y):
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = __Pyx_PyBool_FromLong(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 359; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.NULL_OBJ.__richcmp__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_op);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":361
 *         return True
 * 
 *     def __add__(x, y):             # <<<<<<<<<<<<<<
 *         if not isinstance(y, NULL_OBJ):
 *             return y
 */

static PyObject *__pyx_pf_9sendtools_8NULL_OBJ___add__(PyObject *__pyx_v_x, PyObject *__pyx_v_y); /*proto*/
static PyObject *__pyx_pf_9sendtools_8NULL_OBJ___add__(PyObject *__pyx_v_x, PyObject *__pyx_v_y) {
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  int __pyx_t_2;
  __Pyx_RefNannySetupContext("__add__");
  __Pyx_INCREF(__pyx_v_x);
  __Pyx_INCREF(__pyx_v_y);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":362
 * 
 *     def __add__(x, y):
 *         if not isinstance(y, NULL_OBJ):             # <<<<<<<<<<<<<<
 *             return y
 *         elif not isinstance(x, NULL_OBJ):
 */
  __pyx_t_1 = PyObject_TypeCheck(__pyx_v_y, ((PyTypeObject *)((PyObject*)__pyx_ptype_9sendtools_NULL_OBJ))); 
  __pyx_t_2 = (!__pyx_t_1);
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":363
 *     def __add__(x, y):
 *         if not isinstance(y, NULL_OBJ):
 *             return y             # <<<<<<<<<<<<<<
 *         elif not isinstance(x, NULL_OBJ):
 *             return x
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_y);
    __pyx_r = __pyx_v_y;
    goto __pyx_L0;
    goto __pyx_L5;
  }

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":364
 *         if not isinstance(y, NULL_OBJ):
 *             return y
 *         elif not isinstance(x, NULL_OBJ):             # <<<<<<<<<<<<<<
 *             return x
 *         else:
 */
  __pyx_t_2 = PyObject_TypeCheck(__pyx_v_x, ((PyTypeObject *)((PyObject*)__pyx_ptype_9sendtools_NULL_OBJ))); 
  __pyx_t_1 = (!__pyx_t_2);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":365
 *             return y
 *         elif not isinstance(x, NULL_OBJ):
 *             return x             # <<<<<<<<<<<<<<
 *         else:
 *             return NotImplemented
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_x);
    __pyx_r = __pyx_v_x;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":367
 *             return x
 *         else:
 *             return NotImplemented             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_builtin_NotImplemented);
    __pyx_r = __pyx_builtin_NotImplemented;
    goto __pyx_L0;
  }
  __pyx_L5:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_x);
  __Pyx_DECREF(__pyx_v_y);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":392
 *         Consumer this_grp
 * 
 *     def __cinit__(self, keyfunc, target, factory=list):             # <<<<<<<<<<<<<<
 *         cdef Consumer checked
 * 
 */

static int __pyx_pf_9sendtools_10GroupByKey___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_10GroupByKey___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_keyfunc = 0;
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_factory = 0;
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_checked;
  PyObject *__pyx_v_first;
  int __pyx_r;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__keyfunc,&__pyx_n_s__target,&__pyx_n_s__factory,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[2] = __pyx_k_6;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__keyfunc);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__factory);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_keyfunc = values[0];
    __pyx_v_target = values[1];
    __pyx_v_factory = values[2];
  } else {
    __pyx_v_factory = __pyx_k_6;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3:
      __pyx_v_factory = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2:
      __pyx_v_target = PyTuple_GET_ITEM(__pyx_args, 1);
      __pyx_v_keyfunc = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 2, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.GroupByKey.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_keyfunc);
  __Pyx_INCREF(__pyx_v_target);
  __Pyx_INCREF(__pyx_v_factory);
  __pyx_v_checked = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_first = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":395
 *         cdef Consumer checked
 * 
 *         if keyfunc is not None:             # <<<<<<<<<<<<<<
 *             assert isinstance(keyfunc, Callable)
 *         assert isinstance(factory, Callable)
 */
  __pyx_t_1 = (__pyx_v_keyfunc != Py_None);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":396
 * 
 *         if keyfunc is not None:
 *             assert isinstance(keyfunc, Callable)             # <<<<<<<<<<<<<<
 *         assert isinstance(factory, Callable)
 *         self.target = check(target)
 */
    #ifndef PYREX_WITHOUT_ASSERTIONS
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_1 = PyObject_IsInstance(__pyx_v_keyfunc, __pyx_t_2); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    if (unlikely(!__pyx_t_1)) {
      PyErr_SetNone(PyExc_AssertionError);
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 396; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    #endif
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":397
 *         if keyfunc is not None:
 *             assert isinstance(keyfunc, Callable)
 *         assert isinstance(factory, Callable)             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 *         self.keyfunc = keyfunc
 */
  #ifndef PYREX_WITHOUT_ASSERTIONS
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_IsInstance(__pyx_v_factory, __pyx_t_2); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (unlikely(!__pyx_t_1)) {
    PyErr_SetNone(PyExc_AssertionError);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  #endif

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":398
 *             assert isinstance(keyfunc, Callable)
 *         assert isinstance(factory, Callable)
 *         self.target = check(target)             # <<<<<<<<<<<<<<
 *         self.keyfunc = keyfunc
 *         self.factory = factory
 */
  __pyx_t_2 = __pyx_f_9sendtools_check(__pyx_v_target); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GIVEREF(__pyx_t_2);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->__pyx_base.target);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->__pyx_base.target));
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->__pyx_base.target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":399
 *         assert isinstance(factory, Callable)
 *         self.target = check(target)
 *         self.keyfunc = keyfunc             # <<<<<<<<<<<<<<
 *         self.factory = factory
 * 
 */
  __Pyx_INCREF(__pyx_v_keyfunc);
  __Pyx_GIVEREF(__pyx_v_keyfunc);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->keyfunc);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->keyfunc);
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->keyfunc = __pyx_v_keyfunc;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":400
 *         self.target = check(target)
 *         self.keyfunc = keyfunc
 *         self.factory = factory             # <<<<<<<<<<<<<<
 * 
 *         first = factory()
 */
  __Pyx_INCREF(__pyx_v_factory);
  __Pyx_GIVEREF(__pyx_v_factory);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory = __pyx_v_factory;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":402
 *         self.factory = factory
 * 
 *         first = factory()             # <<<<<<<<<<<<<<
 *         checked = check(first)
 *         if type(checked) != type(first):
 */
  __pyx_t_2 = PyObject_Call(__pyx_v_factory, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 402; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_v_first);
  __pyx_v_first = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":403
 * 
 *         first = factory()
 *         checked = check(first)             # <<<<<<<<<<<<<<
 *         if type(checked) != type(first):
 *             self.factory = Factory(factory)
 */
  __pyx_t_2 = __pyx_f_9sendtools_check(__pyx_v_first); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 403; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_checked));
  __pyx_v_checked = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":404
 *         first = factory()
 *         checked = check(first)
 *         if type(checked) != type(first):             # <<<<<<<<<<<<<<
 *             self.factory = Factory(factory)
 *         else:
 */
  __pyx_t_2 = PyObject_RichCompare(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_checked))), ((PyObject *)Py_TYPE(__pyx_v_first)), Py_NE); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 404; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":405
 *         checked = check(first)
 *         if type(checked) != type(first):
 *             self.factory = Factory(factory)             # <<<<<<<<<<<<<<
 *         else:
 *             self.factory = factory
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_factory);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_factory);
    __Pyx_GIVEREF(__pyx_v_factory);
    __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_Factory)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_GIVEREF(__pyx_t_3);
    __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
    __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
    ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L7;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":407
 *             self.factory = Factory(factory)
 *         else:
 *             self.factory = factory             # <<<<<<<<<<<<<<
 *         self.this_grp = checked
 *         self.grp_output = checked.result_()
 */
    __Pyx_INCREF(__pyx_v_factory);
    __Pyx_GIVEREF(__pyx_v_factory);
    __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
    __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory);
    ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->factory = __pyx_v_factory;
  }
  __pyx_L7:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":408
 *         else:
 *             self.factory = factory
 *         self.this_grp = checked             # <<<<<<<<<<<<<<
 *         self.grp_output = checked.result_()
 *         self.output = <Consumer>self.target.result_()
 */
  __Pyx_INCREF(((PyObject *)__pyx_v_checked));
  __Pyx_GIVEREF(((PyObject *)__pyx_v_checked));
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->this_grp);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->this_grp));
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->this_grp = __pyx_v_checked;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":409
 *             self.factory = factory
 *         self.this_grp = checked
 *         self.grp_output = checked.result_()             # <<<<<<<<<<<<<<
 *         self.output = <Consumer>self.target.result_()
 *         self.thiskey = NULL_OBJ()
 */
  __pyx_t_3 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_checked->__pyx_vtab)->result_(__pyx_v_checked); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 409; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->grp_output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->grp_output);
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->grp_output = __pyx_t_3;
  __pyx_t_3 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":410
 *         self.this_grp = checked
 *         self.grp_output = checked.result_()
 *         self.output = <Consumer>self.target.result_()             # <<<<<<<<<<<<<<
 *         self.thiskey = NULL_OBJ()
 * 
 */
  __pyx_t_3 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->__pyx_base.target->__pyx_vtab)->result_(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->__pyx_base.target); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 410; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_INCREF(((PyObject *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_3)));
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->output);
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->output = __pyx_t_3;
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":411
 *         self.grp_output = checked.result_()
 *         self.output = <Consumer>self.target.result_()
 *         self.thiskey = NULL_OBJ()             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_NULL_OBJ)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->thiskey);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->thiskey);
  ((struct __pyx_obj_9sendtools_GroupByKey *)__pyx_v_self)->thiskey = __pyx_t_3;
  __pyx_t_3 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.GroupByKey.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_checked);
  __Pyx_DECREF(__pyx_v_first);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_keyfunc);
  __Pyx_DECREF(__pyx_v_target);
  __Pyx_DECREF(__pyx_v_factory);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":413
 *         self.thiskey = NULL_OBJ()
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if not self._alive:
 *             raise StopIteration
 */

static  void __pyx_f_9sendtools_10GroupByKey_send_(struct __pyx_obj_9sendtools_GroupByKey *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_v_key;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);
  __pyx_v_key = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":414
 * 
 *     cdef void send_(self, item) except *:
 *         if not self._alive:             # <<<<<<<<<<<<<<
 *             raise StopIteration
 * 
 */
  __pyx_t_1 = (!__pyx_v_self->__pyx_base.__pyx_base._alive);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":415
 *     cdef void send_(self, item) except *:
 *         if not self._alive:
 *             raise StopIteration             # <<<<<<<<<<<<<<
 * 
 *         if self.keyfunc is None:
 */
    __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 415; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":417
 *             raise StopIteration
 * 
 *         if self.keyfunc is None:             # <<<<<<<<<<<<<<
 *             key = item
 *         else:
 */
  __pyx_t_1 = (__pyx_v_self->keyfunc == Py_None);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":418
 * 
 *         if self.keyfunc is None:
 *             key = item             # <<<<<<<<<<<<<<
 *         else:
 *             key = self.keyfunc(item)
 */
    __Pyx_INCREF(__pyx_v_item);
    __Pyx_DECREF(__pyx_v_key);
    __pyx_v_key = __pyx_v_item;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":420
 *             key = item
 *         else:
 *             key = self.keyfunc(item)             # <<<<<<<<<<<<<<
 * 
 *         if key==self.thiskey:
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_item);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
    __Pyx_GIVEREF(__pyx_v_item);
    __pyx_t_3 = PyObject_Call(__pyx_v_self->keyfunc, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_v_key);
    __pyx_v_key = __pyx_t_3;
    __pyx_t_3 = 0;
  }
  __pyx_L4:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":422
 *             key = self.keyfunc(item)
 * 
 *         if key==self.thiskey:             # <<<<<<<<<<<<<<
 *             pass
 *         else:
 */
  __pyx_t_3 = PyObject_RichCompare(__pyx_v_key, __pyx_v_self->thiskey, Py_EQ); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 422; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_1) {
    goto __pyx_L5;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":425
 *             pass
 *         else:
 *             self.target.send_(self.this_grp.result_())             # <<<<<<<<<<<<<<
 *             self.this_grp = self.factory()
 *         self.this_grp.send_(item)
 */
    __pyx_t_3 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->this_grp->__pyx_vtab)->result_(__pyx_v_self->this_grp); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_3); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 425; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":426
 *         else:
 *             self.target.send_(self.this_grp.result_())
 *             self.this_grp = self.factory()             # <<<<<<<<<<<<<<
 *         self.this_grp.send_(item)
 *         self.thiskey = key
 */
    __pyx_t_3 = PyObject_Call(__pyx_v_self->factory, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 426; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GIVEREF(__pyx_t_3);
    __Pyx_GOTREF(__pyx_v_self->this_grp);
    __Pyx_DECREF(((PyObject *)__pyx_v_self->this_grp));
    __pyx_v_self->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_3);
    __pyx_t_3 = 0;
  }
  __pyx_L5:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":427
 *             self.target.send_(self.this_grp.result_())
 *             self.this_grp = self.factory()
 *         self.this_grp.send_(item)             # <<<<<<<<<<<<<<
 *         self.thiskey = key
 * 
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->this_grp->__pyx_vtab)->send_(__pyx_v_self->this_grp, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":428
 *             self.this_grp = self.factory()
 *         self.this_grp.send_(item)
 *         self.thiskey = key             # <<<<<<<<<<<<<<
 * 
 *     cdef void close_(self):
 */
  __Pyx_INCREF(__pyx_v_key);
  __Pyx_GIVEREF(__pyx_v_key);
  __Pyx_GOTREF(__pyx_v_self->thiskey);
  __Pyx_DECREF(__pyx_v_self->thiskey);
  __pyx_v_self->thiskey = __pyx_v_key;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.GroupByKey.send_");
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_key);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":430
 *         self.thiskey = key
 * 
 *     cdef void close_(self):             # <<<<<<<<<<<<<<
 *         self.target.send_(self.this_grp.result_())
 *         self._alive = 0
 */

static  void __pyx_f_9sendtools_10GroupByKey_close_(struct __pyx_obj_9sendtools_GroupByKey *__pyx_v_self) {
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("close_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":431
 * 
 *     cdef void close_(self):
 *         self.target.send_(self.this_grp.result_())             # <<<<<<<<<<<<<<
 *         self._alive = 0
 * 
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->this_grp->__pyx_vtab)->result_(__pyx_v_self->this_grp); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_self->__pyx_base.target->__pyx_vtab)->send_(__pyx_v_self->__pyx_base.target, __pyx_t_1); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 431; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":432
 *     cdef void close_(self):
 *         self.target.send_(self.this_grp.result_())
 *         self._alive = 0             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_v_self->__pyx_base.__pyx_base._alive = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_WriteUnraisable("sendtools.GroupByKey.close_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":440
 *         object func
 * 
 *     def __cinit__(self, func, *targets):             # <<<<<<<<<<<<<<
 *         if not isinstance(func, Callable):
 *             raise TypeError("Fist argument must be a callable returning an int")
 */

static int __pyx_pf_9sendtools_6Switch___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_6Switch___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_targets = 0;
  PyObject *__pyx_v_t;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  Py_ssize_t __pyx_t_5;
  PyObject *__pyx_t_6 = NULL;
  int __pyx_t_7;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__func,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (PyTuple_GET_SIZE(__pyx_args) > 1) {
    __pyx_v_targets = PyTuple_GetSlice(__pyx_args, 1, PyTuple_GET_SIZE(__pyx_args)); __Pyx_GOTREF(__pyx_v_targets);
    if (unlikely(!__pyx_v_targets)) return -1;
  } else {
    __pyx_v_targets = __pyx_empty_tuple; __Pyx_INCREF(__pyx_empty_tuple);
  }
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      default:
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__func);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      const Py_ssize_t used_pos_args = (PyTuple_GET_SIZE(__pyx_args) < 1) ? PyTuple_GET_SIZE(__pyx_args) : 1;
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, used_pos_args, "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_func = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_func = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 440; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_DECREF(__pyx_v_targets);
  __Pyx_AddTraceback("sendtools.Switch.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_func);
  __pyx_v_t = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":441
 * 
 *     def __cinit__(self, func, *targets):
 *         if not isinstance(func, Callable):             # <<<<<<<<<<<<<<
 *             raise TypeError("Fist argument must be a callable returning an int")
 *         self.func = func
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_func, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 441; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (!__pyx_t_2);
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":442
 *     def __cinit__(self, func, *targets):
 *         if not isinstance(func, Callable):
 *             raise TypeError("Fist argument must be a callable returning an int")             # <<<<<<<<<<<<<<
 *         self.func = func
 *         self.targets = tuple([check(t) for t in targets])
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_7));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_7));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_7));
    __pyx_t_4 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":443
 *         if not isinstance(func, Callable):
 *             raise TypeError("Fist argument must be a callable returning an int")
 *         self.func = func             # <<<<<<<<<<<<<<
 *         self.targets = tuple([check(t) for t in targets])
 * 
 */
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_GIVEREF(__pyx_v_func);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->func);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->func);
  ((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->func = __pyx_v_func;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":444
 *             raise TypeError("Fist argument must be a callable returning an int")
 *         self.func = func
 *         self.targets = tuple([check(t) for t in targets])             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_4));
  if (PyList_CheckExact(__pyx_v_targets) || PyTuple_CheckExact(__pyx_v_targets)) {
    __pyx_t_5 = 0; __pyx_t_1 = __pyx_v_targets; __Pyx_INCREF(__pyx_t_1);
  } else {
    __pyx_t_5 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_targets); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
  }
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_1))) {
      if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_6 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_5); __Pyx_INCREF(__pyx_t_6); __pyx_t_5++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_1))) {
      if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
      __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_5); __Pyx_INCREF(__pyx_t_6); __pyx_t_5++;
    } else {
      __pyx_t_6 = PyIter_Next(__pyx_t_1);
      if (!__pyx_t_6) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_6);
    }
    __Pyx_DECREF(__pyx_v_t);
    __pyx_v_t = __pyx_t_6;
    __pyx_t_6 = 0;
    __pyx_t_6 = __pyx_f_9sendtools_check(__pyx_v_t); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_7 = PyList_Append(__pyx_t_4, (PyObject*)__pyx_t_6); if (unlikely(__pyx_t_7)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = ((PyObject *)PyList_AsTuple(__pyx_t_4)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 444; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_DECREF(((PyObject *)__pyx_t_4)); __pyx_t_4 = 0;
  __Pyx_GIVEREF(((PyObject *)__pyx_t_1));
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->targets);
  __Pyx_DECREF(((PyObject *)((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->targets));
  ((struct __pyx_obj_9sendtools_Switch *)__pyx_v_self)->targets = __pyx_t_1;
  __pyx_t_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("sendtools.Switch.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_targets);
  __Pyx_DECREF(__pyx_v_t);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_func);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":446
 *         self.targets = tuple([check(t) for t in targets])
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         cdef Consumer t
 *         return tuple([t.result_() for t in self.targets])
 */

static  PyObject *__pyx_f_9sendtools_6Switch_result_(struct __pyx_obj_9sendtools_Switch *__pyx_v_self) {
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_t;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  int __pyx_t_5;
  __Pyx_RefNannySetupContext("result_");
  __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":448
 *     cdef object result_(self):
 *         cdef Consumer t
 *         return tuple([t.result_() for t in self.targets])             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  if (likely(((PyObject *)__pyx_v_self->targets) != Py_None)) {
    __pyx_t_2 = 0; __pyx_t_3 = ((PyObject *)__pyx_v_self->targets); __Pyx_INCREF(__pyx_t_3);
  } else {
    PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable"); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  for (;;) {
    if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
    __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    if (!(likely(((__pyx_t_4) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_4, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(((PyObject *)__pyx_v_t));
    __pyx_v_t = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4);
    __pyx_t_4 = 0;
    __pyx_t_4 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_t->__pyx_vtab)->result_(__pyx_v_t); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = PyList_Append(__pyx_t_1, (PyObject*)__pyx_t_4); if (unlikely(__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __pyx_t_3 = ((PyObject *)PyList_AsTuple(__pyx_t_1)); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 448; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_3));
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_r = ((PyObject *)__pyx_t_3);
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Switch.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_t);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":450
 *         return tuple([t.result_() for t in self.targets])
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         cdef:
 *             int i
 */

static  void __pyx_f_9sendtools_6Switch_send_(struct __pyx_obj_9sendtools_Switch *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_v_i;
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_target;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  __Pyx_RefNannySetupContext("send_");
  __pyx_v_target = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":454
 *             int i
 *             Consumer target
 *         i = self.func(item)             # <<<<<<<<<<<<<<
 *         target = self.targets[i]
 *         target.send_(item)
 */
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_item);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_item);
  __Pyx_GIVEREF(__pyx_v_item);
  __pyx_t_2 = PyObject_Call(__pyx_v_self->func, __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __Pyx_PyInt_AsInt(__pyx_t_2); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_i = __pyx_t_3;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":455
 *             Consumer target
 *         i = self.func(item)
 *         target = self.targets[i]             # <<<<<<<<<<<<<<
 *         target.send_(item)
 * 
 */
  __pyx_t_2 = __Pyx_GetItemInt_Tuple(((PyObject *)__pyx_v_self->targets), __pyx_v_i, sizeof(int), PyInt_FromLong); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 455; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_target));
  __pyx_v_target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2);
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":456
 *         i = self.func(item)
 *         target = self.targets[i]
 *         target.send_(item)             # <<<<<<<<<<<<<<
 * 
 * 
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_target->__pyx_vtab)->send_(__pyx_v_target, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 456; __pyx_clineno = __LINE__; goto __pyx_L1_error;}

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.Switch.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_target);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":463
 *         object output, func
 * 
 *     def __cinit__(self, func=None, init=None, factory=list):             # <<<<<<<<<<<<<<
 *         if func is not None and not isinstance(func, Callable):
 *             raise TypeError("1st argument, func must be a callable")
 */

static int __pyx_pf_9sendtools_11SwitchByKey___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_11SwitchByKey___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_func = 0;
  PyObject *__pyx_v_init = 0;
  PyObject *__pyx_v_factory = 0;
  PyObject *__pyx_v_k;
  int __pyx_r;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  Py_ssize_t __pyx_t_7;
  PyObject *__pyx_t_8 = NULL;
  PyObject *__pyx_t_9 = NULL;
  int __pyx_t_10;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__func,&__pyx_n_s__init,&__pyx_n_s__factory,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[3] = {0,0,0};
    values[0] = ((PyObject *)Py_None);
    values[1] = ((PyObject *)Py_None);
    values[2] = __pyx_k_8;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__func);
        if (unlikely(value)) { values[0] = value; kw_args--; }
      }
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__init);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
      case  2:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__factory);
        if (unlikely(value)) { values[2] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_func = values[0];
    __pyx_v_init = values[1];
    __pyx_v_factory = values[2];
  } else {
    __pyx_v_func = ((PyObject *)Py_None);
    __pyx_v_init = ((PyObject *)Py_None);
    __pyx_v_factory = __pyx_k_8;
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  3: __pyx_v_factory = PyTuple_GET_ITEM(__pyx_args, 2);
      case  2: __pyx_v_init = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_func = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 463; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.SwitchByKey.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_INCREF(__pyx_v_init);
  __Pyx_INCREF(__pyx_v_factory);
  __pyx_v_k = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":464
 * 
 *     def __cinit__(self, func=None, init=None, factory=list):
 *         if func is not None and not isinstance(func, Callable):             # <<<<<<<<<<<<<<
 *             raise TypeError("1st argument, func must be a callable")
 *         self.func = func
 */
  __pyx_t_1 = (__pyx_v_func != Py_None);
  if (__pyx_t_1) {
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyObject_IsInstance(__pyx_v_func, __pyx_t_2); if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 464; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_4 = (!__pyx_t_3);
    __pyx_t_3 = __pyx_t_4;
  } else {
    __pyx_t_3 = __pyx_t_1;
  }
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":465
 *     def __cinit__(self, func=None, init=None, factory=list):
 *         if func is not None and not isinstance(func, Callable):
 *             raise TypeError("1st argument, func must be a callable")             # <<<<<<<<<<<<<<
 *         self.func = func
 *         factory = Factory(factory)
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_9));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_kp_s_9));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_9));
    __pyx_t_5 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_Raise(__pyx_t_5, 0, 0);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":466
 *         if func is not None and not isinstance(func, Callable):
 *             raise TypeError("1st argument, func must be a callable")
 *         self.func = func             # <<<<<<<<<<<<<<
 *         factory = Factory(factory)
 *         if init is None:
 */
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_GIVEREF(__pyx_v_func);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->func);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->func);
  ((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->func = __pyx_v_func;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":467
 *             raise TypeError("1st argument, func must be a callable")
 *         self.func = func
 *         factory = Factory(factory)             # <<<<<<<<<<<<<<
 *         if init is None:
 *             self.output = defaultdict(factory)
 */
  __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_INCREF(__pyx_v_factory);
  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_factory);
  __Pyx_GIVEREF(__pyx_v_factory);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_Factory)), __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 467; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_v_factory);
  __pyx_v_factory = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":468
 *         self.func = func
 *         factory = Factory(factory)
 *         if init is None:             # <<<<<<<<<<<<<<
 *             self.output = defaultdict(factory)
 *         else:
 */
  __pyx_t_3 = (__pyx_v_init == Py_None);
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":469
 *         factory = Factory(factory)
 *         if init is None:
 *             self.output = defaultdict(factory)             # <<<<<<<<<<<<<<
 *         else:
 *             if isinstance(init, MutableMapping):
 */
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__defaultdict); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_INCREF(__pyx_v_factory);
    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_factory);
    __Pyx_GIVEREF(__pyx_v_factory);
    __pyx_t_6 = PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 469; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    __Pyx_GIVEREF(__pyx_t_6);
    __Pyx_GOTREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output);
    __Pyx_DECREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output);
    ((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output = __pyx_t_6;
    __pyx_t_6 = 0;
    goto __pyx_L7;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":471
 *             self.output = defaultdict(factory)
 *         else:
 *             if isinstance(init, MutableMapping):             # <<<<<<<<<<<<<<
 *                 self.output = defaultdict(factory, [(k,check(init[k])) for k in init])
 *             else:
 */
    __pyx_t_6 = __Pyx_GetName(__pyx_m, __pyx_n_s__MutableMapping); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_6);
    __pyx_t_3 = PyObject_IsInstance(__pyx_v_init, __pyx_t_6); if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
    if (__pyx_t_3) {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":472
 *         else:
 *             if isinstance(init, MutableMapping):
 *                 self.output = defaultdict(factory, [(k,check(init[k])) for k in init])             # <<<<<<<<<<<<<<
 *             else:
 *                 raise TypeError("init parameter must be a mapping type")
 */
      __pyx_t_6 = __Pyx_GetName(__pyx_m, __pyx_n_s__defaultdict); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_6);
      __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(((PyObject *)__pyx_t_5));
      if (PyList_CheckExact(__pyx_v_init) || PyTuple_CheckExact(__pyx_v_init)) {
        __pyx_t_7 = 0; __pyx_t_2 = __pyx_v_init; __Pyx_INCREF(__pyx_t_2);
      } else {
        __pyx_t_7 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_v_init); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_2);
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyList_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_8 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_8); __pyx_t_7++;
        } else if (likely(PyTuple_CheckExact(__pyx_t_2))) {
          if (__pyx_t_7 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
          __pyx_t_8 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_7); __Pyx_INCREF(__pyx_t_8); __pyx_t_7++;
        } else {
          __pyx_t_8 = PyIter_Next(__pyx_t_2);
          if (!__pyx_t_8) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
            break;
          }
          __Pyx_GOTREF(__pyx_t_8);
        }
        __Pyx_DECREF(__pyx_v_k);
        __pyx_v_k = __pyx_t_8;
        __pyx_t_8 = 0;
        __pyx_t_8 = PyObject_GetItem(__pyx_v_init, __pyx_v_k); if (!__pyx_t_8) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_8);
        __pyx_t_9 = __pyx_f_9sendtools_check(__pyx_t_8); if (unlikely(!__pyx_t_9)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_9);
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
        __pyx_t_8 = PyTuple_New(2); if (unlikely(!__pyx_t_8)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_8);
        __Pyx_INCREF(__pyx_v_k);
        PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_v_k);
        __Pyx_GIVEREF(__pyx_v_k);
        PyTuple_SET_ITEM(__pyx_t_8, 1, __pyx_t_9);
        __Pyx_GIVEREF(__pyx_t_9);
        __pyx_t_9 = 0;
        __pyx_t_10 = PyList_Append(__pyx_t_5, (PyObject*)__pyx_t_8); if (unlikely(__pyx_t_10)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      }
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_v_factory);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_factory);
      __Pyx_GIVEREF(__pyx_v_factory);
      __Pyx_INCREF(((PyObject *)__pyx_t_5));
      PyTuple_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_t_5));
      __Pyx_GIVEREF(((PyObject *)__pyx_t_5));
      __Pyx_DECREF(((PyObject *)__pyx_t_5)); __pyx_t_5 = 0;
      __pyx_t_5 = PyObject_Call(__pyx_t_6, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __Pyx_GIVEREF(__pyx_t_5);
      __Pyx_GOTREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output);
      __Pyx_DECREF(((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output);
      ((struct __pyx_obj_9sendtools_SwitchByKey *)__pyx_v_self)->output = __pyx_t_5;
      __pyx_t_5 = 0;
      goto __pyx_L8;
    }
    /*else*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":474
 *                 self.output = defaultdict(factory, [(k,check(init[k])) for k in init])
 *             else:
 *                 raise TypeError("init parameter must be a mapping type")             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
      __pyx_t_5 = PyTuple_New(1); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_INCREF(((PyObject *)__pyx_kp_s_10));
      PyTuple_SET_ITEM(__pyx_t_5, 0, ((PyObject *)__pyx_kp_s_10));
      __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_10));
      __pyx_t_2 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_5, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __Pyx_Raise(__pyx_t_2, 0, 0);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 474; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    }
    __pyx_L8:;
  }
  __pyx_L7:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_XDECREF(__pyx_t_9);
  __Pyx_AddTraceback("sendtools.SwitchByKey.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_k);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_func);
  __Pyx_DECREF(__pyx_v_init);
  __Pyx_DECREF(__pyx_v_factory);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":476
 *                 raise TypeError("init parameter must be a mapping type")
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return dict([(k,(<Consumer>self.output[k]).result_()) for k in self.output])
 * 
 */

static  PyObject *__pyx_f_9sendtools_11SwitchByKey_result_(struct __pyx_obj_9sendtools_SwitchByKey *__pyx_v_self) {
  PyObject *__pyx_v_k;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  PyObject *__pyx_t_4 = NULL;
  PyObject *__pyx_t_5 = NULL;
  int __pyx_t_6;
  __Pyx_RefNannySetupContext("result_");
  __pyx_v_k = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":477
 * 
 *     cdef object result_(self):
 *         return dict([(k,(<Consumer>self.output[k]).result_()) for k in self.output])             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  if (PyList_CheckExact(__pyx_v_self->output) || PyTuple_CheckExact(__pyx_v_self->output)) {
    __pyx_t_2 = 0; __pyx_t_3 = __pyx_v_self->output; __Pyx_INCREF(__pyx_t_3);
  } else {
    __pyx_t_2 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_v_self->output); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
  }
  for (;;) {
    if (likely(PyList_CheckExact(__pyx_t_3))) {
      if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    } else if (likely(PyTuple_CheckExact(__pyx_t_3))) {
      if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
      __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_2); __Pyx_INCREF(__pyx_t_4); __pyx_t_2++;
    } else {
      __pyx_t_4 = PyIter_Next(__pyx_t_3);
      if (!__pyx_t_4) {
        if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        break;
      }
      __Pyx_GOTREF(__pyx_t_4);
    }
    __Pyx_DECREF(__pyx_v_k);
    __pyx_v_k = __pyx_t_4;
    __pyx_t_4 = 0;
    __pyx_t_4 = PyObject_GetItem(__pyx_v_self->output, __pyx_v_k); if (!__pyx_t_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __pyx_t_5 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4)->__pyx_vtab)->result_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_4)); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    __pyx_t_6 = PyDict_SetItem(__pyx_t_1, (PyObject*)__pyx_v_k, (PyObject*)__pyx_t_5); if (unlikely(__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  }
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_INCREF(((PyObject *)__pyx_t_1));
  __pyx_r = ((PyObject *)__pyx_t_1);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("sendtools.SwitchByKey.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_k);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":479
 *         return dict([(k,(<Consumer>self.output[k]).result_()) for k in self.output])
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if self.func is None:
 *             (<Consumer>self.output[item]).send_(item)
 */

static  void __pyx_f_9sendtools_11SwitchByKey_send_(struct __pyx_obj_9sendtools_SwitchByKey *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":480
 * 
 *     cdef void send_(self, item) except *:
 *         if self.func is None:             # <<<<<<<<<<<<<<
 *             (<Consumer>self.output[item]).send_(item)
 *         else:
 */
  __pyx_t_1 = (__pyx_v_self->func == Py_None);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":481
 *     cdef void send_(self, item) except *:
 *         if self.func is None:
 *             (<Consumer>self.output[item]).send_(item)             # <<<<<<<<<<<<<<
 *         else:
 *             (<Consumer>self.output[self.func(item)]).send_(item)
 */
    __pyx_t_2 = PyObject_GetItem(__pyx_v_self->output, __pyx_v_item); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2)->__pyx_vtab)->send_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2), __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":483
 *             (<Consumer>self.output[item]).send_(item)
 *         else:
 *             (<Consumer>self.output[self.func(item)]).send_(item)             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_item);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
    __Pyx_GIVEREF(__pyx_v_item);
    __pyx_t_3 = PyObject_Call(__pyx_v_self->func, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyObject_GetItem(__pyx_v_self->output, __pyx_t_3); if (!__pyx_t_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    ((struct __pyx_vtabstruct_9sendtools_Consumer *)((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2)->__pyx_vtab)->send_(((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_2), __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.SwitchByKey.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":493
 *     cdef object output
 * 
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.output = NULL_OBJ()
 * 
 */

static int __pyx_pf_9sendtools_9Aggregate___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_9Aggregate___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":494
 * 
 *     def __cinit__(self):
 *         self.output = NULL_OBJ()             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_t_1 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_NULL_OBJ)), ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 494; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Aggregate *)__pyx_v_self)->output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Aggregate *)__pyx_v_self)->output);
  ((struct __pyx_obj_9sendtools_Aggregate *)__pyx_v_self)->output = __pyx_t_1;
  __pyx_t_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Aggregate.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":496
 *         self.output = NULL_OBJ()
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return self.output
 * 
 */

static  PyObject *__pyx_f_9sendtools_9Aggregate_result_(struct __pyx_obj_9sendtools_Aggregate *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":497
 * 
 *     cdef object result_(self):
 *         return self.output             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_self->output);
  __pyx_r = __pyx_v_self->output;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":501
 * 
 * cdef class Min(Aggregate):
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if item < self.output:
 *             self.output = item
 */

static  void __pyx_f_9sendtools_3Min_send_(struct __pyx_obj_9sendtools_Min *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":502
 * cdef class Min(Aggregate):
 *     cdef void send_(self, item) except *:
 *         if item < self.output:             # <<<<<<<<<<<<<<
 *             self.output = item
 * 
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_item, __pyx_v_self->__pyx_base.output, Py_LT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":503
 *     cdef void send_(self, item) except *:
 *         if item < self.output:
 *             self.output = item             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __Pyx_INCREF(__pyx_v_item);
    __Pyx_GIVEREF(__pyx_v_item);
    __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
    __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
    __pyx_v_self->__pyx_base.output = __pyx_v_item;
    goto __pyx_L3;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Min.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":507
 * 
 * cdef class Max(Aggregate):
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if item > self.output:
 *             self.output = item
 */

static  void __pyx_f_9sendtools_3Max_send_(struct __pyx_obj_9sendtools_Max *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":508
 * cdef class Max(Aggregate):
 *     cdef void send_(self, item) except *:
 *         if item > self.output:             # <<<<<<<<<<<<<<
 *             self.output = item
 * 
 */
  __pyx_t_1 = PyObject_RichCompare(__pyx_v_item, __pyx_v_self->__pyx_base.output, Py_GT); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (__pyx_t_2) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":509
 *     cdef void send_(self, item) except *:
 *         if item > self.output:
 *             self.output = item             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __Pyx_INCREF(__pyx_v_item);
    __Pyx_GIVEREF(__pyx_v_item);
    __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
    __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
    __pyx_v_self->__pyx_base.output = __pyx_v_item;
    goto __pyx_L3;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Max.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":513
 * 
 * cdef class Sum(Aggregate):
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         self.output += item
 * 
 */

static  void __pyx_f_9sendtools_3Sum_send_(struct __pyx_obj_9sendtools_Sum *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":514
 * cdef class Sum(Aggregate):
 *     cdef void send_(self, item) except *:
 *         self.output += item             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyNumber_InPlaceAdd(__pyx_v_self->__pyx_base.output, __pyx_v_item); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
  __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
  __pyx_v_self->__pyx_base.output = __pyx_t_1;
  __pyx_t_1 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Sum.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":520
 *     cdef unsigned int count
 * 
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.count = 0
 * 
 */

static int __pyx_pf_9sendtools_5Count___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_5Count___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":521
 * 
 *     def __cinit__(self):
 *         self.count = 0             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  ((struct __pyx_obj_9sendtools_Count *)__pyx_v_self)->count = 0;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":523
 *         self.count = 0
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         self.count += 1
 * 
 */

static  void __pyx_f_9sendtools_5Count_send_(struct __pyx_obj_9sendtools_Count *__pyx_v_self, PyObject *__pyx_v_item) {
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":524
 * 
 *     cdef void send_(self, item) except *:
 *         self.count += 1             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_v_self->count += 1;

  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":526
 *         self.count += 1
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return self.count
 * 
 */

static  PyObject *__pyx_f_9sendtools_5Count_result_(struct __pyx_obj_9sendtools_Count *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":527
 * 
 *     cdef object result_(self):
 *         return self.count             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyLong_FromUnsignedLong(__pyx_v_self->count); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 527; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Count.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":533
 *     cdef unsigned int count
 * 
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.count = 0
 *         self.output = 0.0
 */

static int __pyx_pf_9sendtools_3Ave___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_3Ave___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":534
 * 
 *     def __cinit__(self):
 *         self.count = 0             # <<<<<<<<<<<<<<
 *         self.output = 0.0
 * 
 */
  ((struct __pyx_obj_9sendtools_Ave *)__pyx_v_self)->count = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":535
 *     def __cinit__(self):
 *         self.count = 0
 *         self.output = 0.0             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __pyx_t_1 = PyFloat_FromDouble(0.0); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Ave *)__pyx_v_self)->__pyx_base.output);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Ave *)__pyx_v_self)->__pyx_base.output);
  ((struct __pyx_obj_9sendtools_Ave *)__pyx_v_self)->__pyx_base.output = __pyx_t_1;
  __pyx_t_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_AddTraceback("sendtools.Ave.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":537
 *         self.output = 0.0
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         self.count += 1
 *         self.output += (item-self.output)/self.count
 */

static  void __pyx_f_9sendtools_3Ave_send_(struct __pyx_obj_9sendtools_Ave *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":538
 * 
 *     cdef void send_(self, item) except *:
 *         self.count += 1             # <<<<<<<<<<<<<<
 *         self.output += (item-self.output)/self.count
 * 
 */
  __pyx_v_self->count += 1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":539
 *     cdef void send_(self, item) except *:
 *         self.count += 1
 *         self.output += (item-self.output)/self.count             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyNumber_Subtract(__pyx_v_item, __pyx_v_self->__pyx_base.output); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyLong_FromUnsignedLong(__pyx_v_self->count); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_PyNumber_Divide(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyNumber_InPlaceAdd(__pyx_v_self->__pyx_base.output, __pyx_t_3); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_GIVEREF(__pyx_t_2);
  __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
  __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
  __pyx_v_self->__pyx_base.output = __pyx_t_2;
  __pyx_t_2 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.Ave.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":553
 *         double mean, M2
 * 
 *     def __cinit__(self):             # <<<<<<<<<<<<<<
 *         self.n = 0
 *         self.mean = 0.0
 */

static int __pyx_pf_9sendtools_5Stats___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_5Stats___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(PyTuple_GET_SIZE(__pyx_args) > 0)) {
    __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 0, 0, PyTuple_GET_SIZE(__pyx_args)); return -1;}
  if (unlikely(__pyx_kwds) && unlikely(PyDict_Size(__pyx_kwds) > 0) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__cinit__", 0))) return -1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":554
 * 
 *     def __cinit__(self):
 *         self.n = 0             # <<<<<<<<<<<<<<
 *         self.mean = 0.0
 *         self.M2 = 0.0
 */
  ((struct __pyx_obj_9sendtools_Stats *)__pyx_v_self)->n = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":555
 *     def __cinit__(self):
 *         self.n = 0
 *         self.mean = 0.0             # <<<<<<<<<<<<<<
 *         self.M2 = 0.0
 * 
 */
  ((struct __pyx_obj_9sendtools_Stats *)__pyx_v_self)->mean = 0.0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":556
 *         self.n = 0
 *         self.mean = 0.0
 *         self.M2 = 0.0             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  ((struct __pyx_obj_9sendtools_Stats *)__pyx_v_self)->M2 = 0.0;

  __pyx_r = 0;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":558
 *         self.M2 = 0.0
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         cdef double delta
 *         self.n += 1
 */

static  void __pyx_f_9sendtools_5Stats_send_(struct __pyx_obj_9sendtools_Stats *__pyx_v_self, PyObject *__pyx_v_item) {
  double __pyx_v_delta;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  double __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":560
 *     cdef void send_(self, item) except *:
 *         cdef double delta
 *         self.n += 1             # <<<<<<<<<<<<<<
 *         delta = item - self.mean
 *         self.mean += delta/self.n
 */
  __pyx_v_self->n += 1;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":561
 *         cdef double delta
 *         self.n += 1
 *         delta = item - self.mean             # <<<<<<<<<<<<<<
 *         self.mean += delta/self.n
 *         self.M2 += delta*(item - self.mean)
 */
  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->mean); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyNumber_Subtract(__pyx_v_item, __pyx_t_1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = __pyx_PyFloat_AsDouble(__pyx_t_2); if (unlikely((__pyx_t_3 == (double)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_v_delta = __pyx_t_3;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":562
 *         self.n += 1
 *         delta = item - self.mean
 *         self.mean += delta/self.n             # <<<<<<<<<<<<<<
 *         self.M2 += delta*(item - self.mean)
 * 
 */
  if (unlikely(__pyx_v_self->n == 0)) {
    PyErr_Format(PyExc_ZeroDivisionError, "float division");
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 562; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_v_self->mean += (__pyx_v_delta / __pyx_v_self->n);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":563
 *         delta = item - self.mean
 *         self.mean += delta/self.n
 *         self.M2 += delta*(item - self.mean)             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_t_2 = PyFloat_FromDouble(__pyx_v_delta); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self->mean); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_4 = PyNumber_Subtract(__pyx_v_item, __pyx_t_1); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyNumber_Multiply(__pyx_t_2, __pyx_t_4); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
  __pyx_t_3 = __pyx_PyFloat_AsDouble(__pyx_t_1); if (unlikely((__pyx_t_3 == (double)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_self->M2 += __pyx_t_3;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.Stats.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":565
 *         self.M2 += delta*(item - self.mean)
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return (self.n, self.mean, sqrt(self.M2/(self.n - 1)))
 * 
 */

static  PyObject *__pyx_f_9sendtools_5Stats_result_(struct __pyx_obj_9sendtools_Stats *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  unsigned long __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  PyObject *__pyx_t_6 = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":566
 * 
 *     cdef object result_(self):
 *         return (self.n, self.mean, sqrt(self.M2/(self.n - 1)))             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyLong_FromUnsignedLong(__pyx_v_self->n); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyFloat_FromDouble(__pyx_v_self->mean); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s__sqrt); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_4 = (__pyx_v_self->n - 1);
  if (unlikely(__pyx_t_4 == 0)) {
    PyErr_Format(PyExc_ZeroDivisionError, "float division");
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_t_5 = PyFloat_FromDouble((__pyx_v_self->M2 / __pyx_t_4)); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_5 = 0;
  __pyx_t_5 = PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_5);
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
  __pyx_t_6 = PyTuple_New(3); if (unlikely(!__pyx_t_6)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_6);
  PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_1);
  __Pyx_GIVEREF(__pyx_t_1);
  PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_2);
  __Pyx_GIVEREF(__pyx_t_2);
  PyTuple_SET_ITEM(__pyx_t_6, 2, __pyx_t_5);
  __Pyx_GIVEREF(__pyx_t_5);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_t_5 = 0;
  __pyx_r = __pyx_t_6;
  __pyx_t_6 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_6);
  __Pyx_AddTraceback("sendtools.Stats.result_");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":570
 * 
 * cdef class First(Aggregate):
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if self._alive != 1:
 *             self.output = item
 */

static  void __pyx_f_9sendtools_5First_send_(struct __pyx_obj_9sendtools_First *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":571
 * cdef class First(Aggregate):
 *     cdef void send_(self, item) except *:
 *         if self._alive != 1:             # <<<<<<<<<<<<<<
 *             self.output = item
 *             self._alive = 0
 */
  __pyx_t_1 = (__pyx_v_self->__pyx_base.__pyx_base._alive != 1);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":572
 *     cdef void send_(self, item) except *:
 *         if self._alive != 1:
 *             self.output = item             # <<<<<<<<<<<<<<
 *             self._alive = 0
 * 
 */
    __Pyx_INCREF(__pyx_v_item);
    __Pyx_GIVEREF(__pyx_v_item);
    __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
    __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
    __pyx_v_self->__pyx_base.output = __pyx_v_item;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":573
 *         if self._alive != 1:
 *             self.output = item
 *             self._alive = 0             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_v_self->__pyx_base.__pyx_base._alive = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":577
 * 
 * cdef class Last(Aggregate):
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         self.output = item
 * 
 */

static  void __pyx_f_9sendtools_4Last_send_(struct __pyx_obj_9sendtools_Last *__pyx_v_self, PyObject *__pyx_v_item) {
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":578
 * cdef class Last(Aggregate):
 *     cdef void send_(self, item) except *:
 *         self.output = item             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_INCREF(__pyx_v_item);
  __Pyx_GIVEREF(__pyx_v_item);
  __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
  __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
  __pyx_v_self->__pyx_base.output = __pyx_v_item;

  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":586
 *         object transform
 * 
 *     def __cinit__(self, n, transform=None):             # <<<<<<<<<<<<<<
 *         if transform is not None and not isinstance(transform, Callable):
 *             raise TypeError("transform parameter must be a callable")
 */

static int __pyx_pf_9sendtools_6Select___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_6Select___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_n = 0;
  PyObject *__pyx_v_transform = 0;
  int __pyx_r;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  PyObject *__pyx_t_5 = NULL;
  unsigned int __pyx_t_6;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__n,&__pyx_n_s__transform,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    values[1] = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__n);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      if (kw_args > 1) {
        PyObject* value = PyDict_GetItem(__pyx_kwds, __pyx_n_s__transform);
        if (unlikely(value)) { values[1] = value; kw_args--; }
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_n = values[0];
    __pyx_v_transform = values[1];
  } else {
    __pyx_v_transform = ((PyObject *)Py_None);
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: __pyx_v_transform = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: __pyx_v_n = PyTuple_GET_ITEM(__pyx_args, 0);
      break;
      default: goto __pyx_L5_argtuple_error;
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.Select.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_n);
  __Pyx_INCREF(__pyx_v_transform);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":587
 * 
 *     def __cinit__(self, n, transform=None):
 *         if transform is not None and not isinstance(transform, Callable):             # <<<<<<<<<<<<<<
 *             raise TypeError("transform parameter must be a callable")
 *         self.n = n
 */
  __pyx_t_1 = (__pyx_v_transform != Py_None);
  if (__pyx_t_1) {
    __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyObject_IsInstance(__pyx_v_transform, __pyx_t_2); if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_4 = (!__pyx_t_3);
    __pyx_t_3 = __pyx_t_4;
  } else {
    __pyx_t_3 = __pyx_t_1;
  }
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":588
 *     def __cinit__(self, n, transform=None):
 *         if transform is not None and not isinstance(transform, Callable):
 *             raise TypeError("transform parameter must be a callable")             # <<<<<<<<<<<<<<
 *         self.n = n
 *         self.count = 0
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 588; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_11));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_kp_s_11));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_11));
    __pyx_t_5 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_2, NULL); if (unlikely(!__pyx_t_5)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 588; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_5);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_Raise(__pyx_t_5, 0, 0);
    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 588; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":589
 *         if transform is not None and not isinstance(transform, Callable):
 *             raise TypeError("transform parameter must be a callable")
 *         self.n = n             # <<<<<<<<<<<<<<
 *         self.count = 0
 *         self.transform = transform
 */
  __pyx_t_6 = __Pyx_PyInt_AsUnsignedInt(__pyx_v_n); if (unlikely((__pyx_t_6 == (unsigned int)-1) && PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  ((struct __pyx_obj_9sendtools_Select *)__pyx_v_self)->n = __pyx_t_6;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":590
 *             raise TypeError("transform parameter must be a callable")
 *         self.n = n
 *         self.count = 0             # <<<<<<<<<<<<<<
 *         self.transform = transform
 * 
 */
  ((struct __pyx_obj_9sendtools_Select *)__pyx_v_self)->count = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":591
 *         self.n = n
 *         self.count = 0
 *         self.transform = transform             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __Pyx_INCREF(__pyx_v_transform);
  __Pyx_GIVEREF(__pyx_v_transform);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_Select *)__pyx_v_self)->transform);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_Select *)__pyx_v_self)->transform);
  ((struct __pyx_obj_9sendtools_Select *)__pyx_v_self)->transform = __pyx_v_transform;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_AddTraceback("sendtools.Select.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_n);
  __Pyx_DECREF(__pyx_v_transform);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":593
 *         self.transform = transform
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         if self._alive==1:
 *             if self.n == self.count:
 */

static  void __pyx_f_9sendtools_6Select_send_(struct __pyx_obj_9sendtools_Select *__pyx_v_self, PyObject *__pyx_v_item) {
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_item);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":594
 * 
 *     cdef void send_(self, item) except *:
 *         if self._alive==1:             # <<<<<<<<<<<<<<
 *             if self.n == self.count:
 *                 if self.transform is not None:
 */
  __pyx_t_1 = (__pyx_v_self->__pyx_base.__pyx_base._alive == 1);
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":595
 *     cdef void send_(self, item) except *:
 *         if self._alive==1:
 *             if self.n == self.count:             # <<<<<<<<<<<<<<
 *                 if self.transform is not None:
 *                     self.output = item
 */
    __pyx_t_1 = (__pyx_v_self->n == __pyx_v_self->count);
    if (__pyx_t_1) {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":596
 *         if self._alive==1:
 *             if self.n == self.count:
 *                 if self.transform is not None:             # <<<<<<<<<<<<<<
 *                     self.output = item
 *                 else:
 */
      __pyx_t_1 = (__pyx_v_self->transform != Py_None);
      if (__pyx_t_1) {

        /* "/home/bryan/workspace/sendtools/sendtools.pyx":597
 *             if self.n == self.count:
 *                 if self.transform is not None:
 *                     self.output = item             # <<<<<<<<<<<<<<
 *                 else:
 *                     self.output = self.transform(item)
 */
        __Pyx_INCREF(__pyx_v_item);
        __Pyx_GIVEREF(__pyx_v_item);
        __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
        __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
        __pyx_v_self->__pyx_base.output = __pyx_v_item;
        goto __pyx_L5;
      }
      /*else*/ {

        /* "/home/bryan/workspace/sendtools/sendtools.pyx":599
 *                     self.output = item
 *                 else:
 *                     self.output = self.transform(item)             # <<<<<<<<<<<<<<
 *                 self._alive = 0
 *             self.count += 1
 */
        __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_2);
        __Pyx_INCREF(__pyx_v_item);
        PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
        __Pyx_GIVEREF(__pyx_v_item);
        __pyx_t_3 = PyObject_Call(__pyx_v_self->transform, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
        __Pyx_GOTREF(__pyx_t_3);
        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
        __Pyx_GIVEREF(__pyx_t_3);
        __Pyx_GOTREF(__pyx_v_self->__pyx_base.output);
        __Pyx_DECREF(__pyx_v_self->__pyx_base.output);
        __pyx_v_self->__pyx_base.output = __pyx_t_3;
        __pyx_t_3 = 0;
      }
      __pyx_L5:;

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":600
 *                 else:
 *                     self.output = self.transform(item)
 *                 self._alive = 0             # <<<<<<<<<<<<<<
 *             self.count += 1
 * 
 */
      __pyx_v_self->__pyx_base.__pyx_base._alive = 0;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":601
 *                     self.output = self.transform(item)
 *                 self._alive = 0
 *             self.count += 1             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_v_self->count += 1;
    goto __pyx_L3;
  }
  __pyx_L3:;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.Select.send_");
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":605
 * 
 * 
 * cdef check(target):             # <<<<<<<<<<<<<<
 *     """
 *     check(target) -> wrapped target
 */

static  PyObject *__pyx_f_9sendtools_check(PyObject *__pyx_v_target) {
  PyObject *__pyx_r = NULL;
  int __pyx_t_1;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("check");
  __Pyx_INCREF(__pyx_v_target);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":613
 *     other return target unaltered
 *     """
 *     if isinstance(target, Consumer):             # <<<<<<<<<<<<<<
 *         return target
 *     elif isinstance(target, MutableSequence):
 */
  __pyx_t_1 = PyObject_TypeCheck(__pyx_v_target, ((PyTypeObject *)((PyObject*)__pyx_ptype_9sendtools_Consumer))); 
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":614
 *     """
 *     if isinstance(target, Consumer):
 *         return target             # <<<<<<<<<<<<<<
 *     elif isinstance(target, MutableSequence):
 *         if isinstance(target, list):
 */
    __Pyx_XDECREF(__pyx_r);
    __Pyx_INCREF(__pyx_v_target);
    __pyx_r = __pyx_v_target;
    goto __pyx_L0;
    goto __pyx_L3;
  }

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":615
 *     if isinstance(target, Consumer):
 *         return target
 *     elif isinstance(target, MutableSequence):             # <<<<<<<<<<<<<<
 *         if isinstance(target, list):
 *             return ListAppend(target)
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__MutableSequence); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 615; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_IsInstance(__pyx_v_target, __pyx_t_2); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 615; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":616
 *         return target
 *     elif isinstance(target, MutableSequence):
 *         if isinstance(target, list):             # <<<<<<<<<<<<<<
 *             return ListAppend(target)
 *         else:
 */
    __pyx_t_1 = PyObject_TypeCheck(__pyx_v_target, ((PyTypeObject *)((PyObject*)&PyList_Type))); 
    if (__pyx_t_1) {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":617
 *     elif isinstance(target, MutableSequence):
 *         if isinstance(target, list):
 *             return ListAppend(target)             # <<<<<<<<<<<<<<
 *         else:
 *             return Append(target)
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_INCREF(__pyx_v_target);
      PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_target);
      __Pyx_GIVEREF(__pyx_v_target);
      __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_ListAppend)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 617; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
      __pyx_r = __pyx_t_3;
      __pyx_t_3 = 0;
      goto __pyx_L0;
      goto __pyx_L4;
    }
    /*else*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":619
 *             return ListAppend(target)
 *         else:
 *             return Append(target)             # <<<<<<<<<<<<<<
 *     elif isinstance(target, MutableSet):
 *         return AddToSet(target)
 */
      __Pyx_XDECREF(__pyx_r);
      __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_3);
      __Pyx_INCREF(__pyx_v_target);
      PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_target);
      __Pyx_GIVEREF(__pyx_v_target);
      __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_Append)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 619; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
      __Pyx_GOTREF(__pyx_t_2);
      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
      __pyx_r = __pyx_t_2;
      __pyx_t_2 = 0;
      goto __pyx_L0;
    }
    __pyx_L4:;
    goto __pyx_L3;
  }

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":620
 *         else:
 *             return Append(target)
 *     elif isinstance(target, MutableSet):             # <<<<<<<<<<<<<<
 *         return AddToSet(target)
 *     elif isinstance(target, TupleType):
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__MutableSet); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 620; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_1 = PyObject_IsInstance(__pyx_v_target, __pyx_t_2); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 620; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":621
 *             return Append(target)
 *     elif isinstance(target, MutableSet):
 *         return AddToSet(target)             # <<<<<<<<<<<<<<
 *     elif isinstance(target, TupleType):
 *         return Split(*target)
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(__pyx_v_target);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_target);
    __Pyx_GIVEREF(__pyx_v_target);
    __pyx_t_3 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_AddToSet)), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 621; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_r = __pyx_t_3;
    __pyx_t_3 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":622
 *     elif isinstance(target, MutableSet):
 *         return AddToSet(target)
 *     elif isinstance(target, TupleType):             # <<<<<<<<<<<<<<
 *         return Split(*target)
 *     else:
 */
  __pyx_t_3 = __Pyx_GetName(__pyx_m, __pyx_n_s__TupleType); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __pyx_t_1 = PyObject_IsInstance(__pyx_v_target, __pyx_t_3); if (unlikely(__pyx_t_1 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (__pyx_t_1) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":623
 *         return AddToSet(target)
 *     elif isinstance(target, TupleType):
 *         return Split(*target)             # <<<<<<<<<<<<<<
 *     else:
 *         raise TypeError("Can't convert %s to Consumer"%repr(target))
 */
    __Pyx_XDECREF(__pyx_r);
    __pyx_t_3 = PySequence_Tuple(__pyx_v_target); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(((PyObject *)__pyx_t_3));
    __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_Split)), ((PyObject *)__pyx_t_3), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 623; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_DECREF(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
    __pyx_r = __pyx_t_2;
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":625
 *         return Split(*target)
 *     else:
 *         raise TypeError("Can't convert %s to Consumer"%repr(target))             # <<<<<<<<<<<<<<
 * 
 * 
 */
    __pyx_t_2 = PyObject_Repr(__pyx_v_target); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __pyx_t_3 = PyNumber_Remainder(((PyObject *)__pyx_kp_s_12), __pyx_t_2); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
    __Pyx_GIVEREF(__pyx_t_3);
    __pyx_t_3 = 0;
    __pyx_t_3 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_3);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_Raise(__pyx_t_3, 0, 0);
    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  }
  __pyx_L3:;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.check");
  __pyx_r = 0;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_target);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":628
 * 
 * 
 * def send(object itr, object target_in):             # <<<<<<<<<<<<<<
 *     """Consumes the given iterator and directs the result
 *     to the target pipeline
 */

static PyObject *__pyx_pf_9sendtools_send(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9sendtools_send[] = "Consumes the given iterator and directs the result\n    to the target pipeline\n    \n    params: itr - an iterator which supplies data\n            target - a pipeline generator or a tuple of such items\n            \n    returns: a value, list or tuple of such items with structure corresponding\n           to the target pipeline\n    ";
static PyObject *__pyx_pf_9sendtools_send(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_itr = 0;
  PyObject *__pyx_v_target_in = 0;
  struct __pyx_obj_9sendtools_Consumer *__pyx_v_target;
  PyObject *__pyx_v_item;
  PyObject *__pyx_v_out;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  PyObject *__pyx_t_3 = NULL;
  int __pyx_t_4;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__itr,&__pyx_n_s__target_in,0};
  __Pyx_RefNannySetupContext("send");
  __pyx_self = __pyx_self;
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[2] = {0,0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__itr);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
      case  1:
      values[1] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__target_in);
      if (likely(values[1])) kw_args--;
      else {
        __Pyx_RaiseArgtupleInvalid("send", 1, 2, 2, 1); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
      }
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "send") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_itr = values[0];
    __pyx_v_target_in = values[1];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_itr = PyTuple_GET_ITEM(__pyx_args, 0);
    __pyx_v_target_in = PyTuple_GET_ITEM(__pyx_args, 1);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("send", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.send");
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF(__pyx_v_itr);
  __Pyx_INCREF(__pyx_v_target_in);
  __pyx_v_target = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); __Pyx_INCREF(Py_None);
  __pyx_v_item = Py_None; __Pyx_INCREF(Py_None);
  __pyx_v_out = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":640
 *     cdef Consumer target
 * 
 *     target = check(target_in)             # <<<<<<<<<<<<<<
 *     try:
 *         for item in itr:
 */
  __pyx_t_1 = __pyx_f_9sendtools_check(__pyx_v_target_in); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_9sendtools_Consumer))))) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_v_target));
  __pyx_v_target = ((struct __pyx_obj_9sendtools_Consumer *)__pyx_t_1);
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":641
 * 
 *     target = check(target_in)
 *     try:             # <<<<<<<<<<<<<<
 *         for item in itr:
 *             target.send_(item)
 */
  {
    PyObject *__pyx_save_exc_type, *__pyx_save_exc_value, *__pyx_save_exc_tb;
    __Pyx_ExceptionSave(&__pyx_save_exc_type, &__pyx_save_exc_value, &__pyx_save_exc_tb);
    __Pyx_XGOTREF(__pyx_save_exc_type);
    __Pyx_XGOTREF(__pyx_save_exc_value);
    __Pyx_XGOTREF(__pyx_save_exc_tb);
    /*try:*/ {

      /* "/home/bryan/workspace/sendtools/sendtools.pyx":642
 *     target = check(target_in)
 *     try:
 *         for item in itr:             # <<<<<<<<<<<<<<
 *             target.send_(item)
 *     except StopIteration:
 */
      if (PyList_CheckExact(__pyx_v_itr) || PyTuple_CheckExact(__pyx_v_itr)) {
        __pyx_t_2 = 0; __pyx_t_1 = __pyx_v_itr; __Pyx_INCREF(__pyx_t_1);
      } else {
        __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_itr); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; __pyx_clineno = __LINE__; goto __pyx_L6_error;}
        __Pyx_GOTREF(__pyx_t_1);
      }
      for (;;) {
        if (likely(PyList_CheckExact(__pyx_t_1))) {
          if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_3); __pyx_t_2++;
        } else if (likely(PyTuple_CheckExact(__pyx_t_1))) {
          if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_3); __pyx_t_2++;
        } else {
          __pyx_t_3 = PyIter_Next(__pyx_t_1);
          if (!__pyx_t_3) {
            if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 642; __pyx_clineno = __LINE__; goto __pyx_L6_error;}
            break;
          }
          __Pyx_GOTREF(__pyx_t_3);
        }
        __Pyx_DECREF(__pyx_v_item);
        __pyx_v_item = __pyx_t_3;
        __pyx_t_3 = 0;

        /* "/home/bryan/workspace/sendtools/sendtools.pyx":643
 *     try:
 *         for item in itr:
 *             target.send_(item)             # <<<<<<<<<<<<<<
 *     except StopIteration:
 *         pass
 */
        ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_target->__pyx_vtab)->send_(__pyx_v_target, __pyx_v_item); if (unlikely(PyErr_Occurred())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 643; __pyx_clineno = __LINE__; goto __pyx_L6_error;}
      }
      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    }
    __Pyx_XDECREF(__pyx_save_exc_type); __pyx_save_exc_type = 0;
    __Pyx_XDECREF(__pyx_save_exc_value); __pyx_save_exc_value = 0;
    __Pyx_XDECREF(__pyx_save_exc_tb); __pyx_save_exc_tb = 0;
    goto __pyx_L13_try_end;
    __pyx_L6_error:;
    __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":644
 *         for item in itr:
 *             target.send_(item)
 *     except StopIteration:             # <<<<<<<<<<<<<<
 *         pass
 *     out = target.result_()
 */
    __pyx_t_4 = PyErr_ExceptionMatches(__pyx_builtin_StopIteration);
    if (__pyx_t_4) {
      PyErr_Restore(0,0,0);
      goto __pyx_L7_exception_handled;
    }
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    goto __pyx_L1_error;
    __pyx_L7_exception_handled:;
    __Pyx_XGIVEREF(__pyx_save_exc_type);
    __Pyx_XGIVEREF(__pyx_save_exc_value);
    __Pyx_XGIVEREF(__pyx_save_exc_tb);
    __Pyx_ExceptionReset(__pyx_save_exc_type, __pyx_save_exc_value, __pyx_save_exc_tb);
    __pyx_L13_try_end:;
  }

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":646
 *     except StopIteration:
 *         pass
 *     out = target.result_()             # <<<<<<<<<<<<<<
 *     target.close_()
 *     return out
 */
  __pyx_t_1 = ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_target->__pyx_vtab)->result_(__pyx_v_target); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 646; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_v_out);
  __pyx_v_out = __pyx_t_1;
  __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":647
 *         pass
 *     out = target.result_()
 *     target.close_()             # <<<<<<<<<<<<<<
 *     return out
 * 
 */
  ((struct __pyx_vtabstruct_9sendtools_Consumer *)__pyx_v_target->__pyx_vtab)->close_(__pyx_v_target);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":648
 *     out = target.result_()
 *     target.close_()
 *     return out             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_out);
  __pyx_r = __pyx_v_out;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.send");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_target);
  __Pyx_DECREF(__pyx_v_item);
  __Pyx_DECREF(__pyx_v_out);
  __Pyx_DECREF(__pyx_v_itr);
  __Pyx_DECREF(__pyx_v_target_in);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":663
 *         object out
 * 
 *     def __cinit__(self, gen):             # <<<<<<<<<<<<<<
 *         self.gen = gen
 *         self.out = gen.next()
 */

static int __pyx_pf_9sendtools_17GeneratorConsumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_17GeneratorConsumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_gen = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__gen,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__gen);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 663; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_gen = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_gen = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 663; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.GeneratorConsumer.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":664
 * 
 *     def __cinit__(self, gen):
 *         self.gen = gen             # <<<<<<<<<<<<<<
 *         self.out = gen.next()
 * 
 */
  __Pyx_INCREF(__pyx_v_gen);
  __Pyx_GIVEREF(__pyx_v_gen);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->gen);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->gen);
  ((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->gen = __pyx_v_gen;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":665
 *     def __cinit__(self, gen):
 *         self.gen = gen
 *         self.out = gen.next()             # <<<<<<<<<<<<<<
 * 
 *     cdef void send_(self, item) except *:
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_gen, __pyx_n_s__next); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_Call(__pyx_t_1, ((PyObject *)__pyx_empty_tuple), NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 665; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_GIVEREF(__pyx_t_2);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->out);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->out);
  ((struct __pyx_obj_9sendtools_GeneratorConsumer *)__pyx_v_self)->out = __pyx_t_2;
  __pyx_t_2 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.GeneratorConsumer.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":667
 *         self.out = gen.next()
 * 
 *     cdef void send_(self, item) except *:             # <<<<<<<<<<<<<<
 *         self.out = self.gen.send(item)
 * 
 */

static  void __pyx_f_9sendtools_17GeneratorConsumer_send_(struct __pyx_obj_9sendtools_GeneratorConsumer *__pyx_v_self, PyObject *__pyx_v_item) {
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  __Pyx_RefNannySetupContext("send_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":668
 * 
 *     cdef void send_(self, item) except *:
 *         self.out = self.gen.send(item)             # <<<<<<<<<<<<<<
 * 
 *     cdef object result_(self):
 */
  __pyx_t_1 = PyObject_GetAttr(__pyx_v_self->gen, __pyx_n_s__send); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 668; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 668; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_INCREF(__pyx_v_item);
  PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_item);
  __Pyx_GIVEREF(__pyx_v_item);
  __pyx_t_3 = PyObject_Call(__pyx_t_1, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 668; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_GIVEREF(__pyx_t_3);
  __Pyx_GOTREF(__pyx_v_self->out);
  __Pyx_DECREF(__pyx_v_self->out);
  __pyx_v_self->out = __pyx_t_3;
  __pyx_t_3 = 0;

  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  __Pyx_AddTraceback("sendtools.GeneratorConsumer.send_");
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":670
 *         self.out = self.gen.send(item)
 * 
 *     cdef object result_(self):             # <<<<<<<<<<<<<<
 *         return self.out
 * 
 */

static  PyObject *__pyx_f_9sendtools_17GeneratorConsumer_result_(struct __pyx_obj_9sendtools_GeneratorConsumer *__pyx_v_self) {
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannySetupContext("result_");

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":671
 * 
 *     cdef object result_(self):
 *         return self.out             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __Pyx_XDECREF(__pyx_r);
  __Pyx_INCREF(__pyx_v_self->out);
  __pyx_r = __pyx_v_self->out;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  __pyx_L0:;
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":681
 *         object func
 * 
 *     def __cinit__(self, func):             # <<<<<<<<<<<<<<
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be callable")
 */

static int __pyx_pf_9sendtools_8consumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_pf_9sendtools_8consumer___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_func = 0;
  int __pyx_r;
  PyObject *__pyx_t_1 = NULL;
  int __pyx_t_2;
  int __pyx_t_3;
  PyObject *__pyx_t_4 = NULL;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__func,0};
  __Pyx_RefNannySetupContext("__cinit__");
  if (unlikely(__pyx_kwds)) {
    Py_ssize_t kw_args = PyDict_Size(__pyx_kwds);
    PyObject* values[1] = {0};
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
      case  0: break;
      default: goto __pyx_L5_argtuple_error;
    }
    switch (PyTuple_GET_SIZE(__pyx_args)) {
      case  0:
      values[0] = PyDict_GetItem(__pyx_kwds, __pyx_n_s__func);
      if (likely(values[0])) kw_args--;
      else goto __pyx_L5_argtuple_error;
    }
    if (unlikely(kw_args > 0)) {
      if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, PyTuple_GET_SIZE(__pyx_args), "__cinit__") < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
    }
    __pyx_v_func = values[0];
  } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
    goto __pyx_L5_argtuple_error;
  } else {
    __pyx_v_func = PyTuple_GET_ITEM(__pyx_args, 0);
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; __pyx_clineno = __LINE__; goto __pyx_L3_error;}
  __pyx_L3_error:;
  __Pyx_AddTraceback("sendtools.consumer.__cinit__");
  return -1;
  __pyx_L4_argument_unpacking_done:;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __Pyx_INCREF(__pyx_v_func);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":682
 * 
 *     def __cinit__(self, func):
 *         if not isinstance(func, Callable):             # <<<<<<<<<<<<<<
 *             raise TypeError("first argument must be callable")
 *         self.func = func
 */
  __pyx_t_1 = __Pyx_GetName(__pyx_m, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = PyObject_IsInstance(__pyx_v_func, __pyx_t_1); if (unlikely(__pyx_t_2 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_3 = (!__pyx_t_2);
  if (__pyx_t_3) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":683
 *     def __cinit__(self, func):
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be callable")             # <<<<<<<<<<<<<<
 *         self.func = func
 *         self.__doc__ = func.__doc__
 */
    __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_13));
    PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_kp_s_13));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_13));
    __pyx_t_4 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_1, NULL); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_4);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    __Pyx_Raise(__pyx_t_4, 0, 0);
    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":684
 *         if not isinstance(func, Callable):
 *             raise TypeError("first argument must be callable")
 *         self.func = func             # <<<<<<<<<<<<<<
 *         self.__doc__ = func.__doc__
 * 
 */
  __Pyx_INCREF(__pyx_v_func);
  __Pyx_GIVEREF(__pyx_v_func);
  __Pyx_GOTREF(((struct __pyx_obj_9sendtools_consumer *)__pyx_v_self)->func);
  __Pyx_DECREF(((struct __pyx_obj_9sendtools_consumer *)__pyx_v_self)->func);
  ((struct __pyx_obj_9sendtools_consumer *)__pyx_v_self)->func = __pyx_v_func;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":685
 *             raise TypeError("first argument must be callable")
 *         self.func = func
 *         self.__doc__ = func.__doc__             # <<<<<<<<<<<<<<
 * 
 *     def __call__(self, *args, **kwds):
 */
  __pyx_t_4 = PyObject_GetAttr(__pyx_v_func, __pyx_n_s____doc__); if (unlikely(!__pyx_t_4)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 685; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_4);
  if (PyObject_SetAttr(__pyx_v_self, __pyx_n_s____doc__, __pyx_t_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 685; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_4);
  __Pyx_AddTraceback("sendtools.consumer.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_DECREF(__pyx_v_func);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}

/* "/home/bryan/workspace/sendtools/sendtools.pyx":687
 *         self.__doc__ = func.__doc__
 * 
 *     def __call__(self, *args, **kwds):             # <<<<<<<<<<<<<<
 *         gen = self.func(*args, **kwds)
 *         if not isinstance(gen, GeneratorType):
 */

static PyObject *__pyx_pf_9sendtools_8consumer___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pf_9sendtools_8consumer___call__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_args = 0;
  PyObject *__pyx_v_kwds = 0;
  PyObject *__pyx_v_gen;
  PyObject *__pyx_r = NULL;
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  int __pyx_t_3;
  int __pyx_t_4;
  __Pyx_RefNannySetupContext("__call__");
  if (unlikely(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__call__", 1))) return NULL;
  __pyx_v_kwds = (__pyx_kwds) ? PyDict_Copy(__pyx_kwds) : PyDict_New();
  if (unlikely(!__pyx_v_kwds)) return NULL;
  __Pyx_GOTREF(__pyx_v_kwds);
  __Pyx_INCREF(__pyx_args);
  __pyx_v_args = __pyx_args;
  __Pyx_INCREF((PyObject *)__pyx_v_self);
  __pyx_v_gen = Py_None; __Pyx_INCREF(Py_None);

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":688
 * 
 *     def __call__(self, *args, **kwds):
 *         gen = self.func(*args, **kwds)             # <<<<<<<<<<<<<<
 *         if not isinstance(gen, GeneratorType):
 *             raise TypeError("wrapped function must return a generator")
 */
  __pyx_t_1 = PySequence_Tuple(__pyx_v_args); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 688; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __pyx_t_2 = __Pyx_PyEval_CallObjectWithKeywords(((struct __pyx_obj_9sendtools_consumer *)__pyx_v_self)->func, ((PyObject *)__pyx_t_1), __pyx_v_kwds); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 688; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_v_gen);
  __pyx_v_gen = __pyx_t_2;
  __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":689
 *     def __call__(self, *args, **kwds):
 *         gen = self.func(*args, **kwds)
 *         if not isinstance(gen, GeneratorType):             # <<<<<<<<<<<<<<
 *             raise TypeError("wrapped function must return a generator")
 *         return GeneratorConsumer(gen)
 */
  __pyx_t_2 = __Pyx_GetName(__pyx_m, __pyx_n_s__GeneratorType); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __pyx_t_3 = PyObject_IsInstance(__pyx_v_gen, __pyx_t_2); if (unlikely(__pyx_t_3 == -1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 689; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_4 = (!__pyx_t_3);
  if (__pyx_t_4) {

    /* "/home/bryan/workspace/sendtools/sendtools.pyx":690
 *         gen = self.func(*args, **kwds)
 *         if not isinstance(gen, GeneratorType):
 *             raise TypeError("wrapped function must return a generator")             # <<<<<<<<<<<<<<
 *         return GeneratorConsumer(gen)
 */
    __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 690; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_2);
    __Pyx_INCREF(((PyObject *)__pyx_kp_s_14));
    PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_kp_s_14));
    __Pyx_GIVEREF(((PyObject *)__pyx_kp_s_14));
    __pyx_t_1 = PyObject_Call(__pyx_builtin_TypeError, __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 690; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    __Pyx_GOTREF(__pyx_t_1);
    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
    __Pyx_Raise(__pyx_t_1, 0, 0);
    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 690; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":691
 *         if not isinstance(gen, GeneratorType):
 *             raise TypeError("wrapped function must return a generator")
 *         return GeneratorConsumer(gen)             # <<<<<<<<<<<<<<
 */
  __Pyx_XDECREF(__pyx_r);
  __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_INCREF(__pyx_v_gen);
  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_gen);
  __Pyx_GIVEREF(__pyx_v_gen);
  __pyx_t_2 = PyObject_Call(((PyObject *)((PyObject*)__pyx_ptype_9sendtools_GeneratorConsumer)), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 691; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_r = __pyx_t_2;
  __pyx_t_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_AddTraceback("sendtools.consumer.__call__");
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_DECREF(__pyx_v_args);
  __Pyx_DECREF(__pyx_v_kwds);
  __Pyx_DECREF(__pyx_v_gen);
  __Pyx_DECREF((PyObject *)__pyx_v_self);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
static struct __pyx_vtabstruct_9sendtools_Consumer __pyx_vtable_9sendtools_Consumer;

static PyObject *__pyx_tp_new_9sendtools_Consumer(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Consumer *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Consumer *)o);
  p->__pyx_vtab = __pyx_vtabptr_9sendtools_Consumer;
  if (__pyx_pf_9sendtools_8Consumer___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Consumer(PyObject *o) {
  (*Py_TYPE(o)->tp_free)(o);
}

static PyObject *__pyx_getprop_9sendtools_8Consumer_is_alive(PyObject *o, void *x) {
  return __pyx_pf_9sendtools_8Consumer_8is_alive___get__(o);
}

static struct PyMethodDef __pyx_methods_9sendtools_Consumer[] = {
  {__Pyx_NAMESTR("result"), (PyCFunction)__pyx_pf_9sendtools_8Consumer_result, METH_NOARGS, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("send"), (PyCFunction)__pyx_pf_9sendtools_8Consumer_send, METH_O, __Pyx_DOCSTR(0)},
  {__Pyx_NAMESTR("close"), (PyCFunction)__pyx_pf_9sendtools_8Consumer_close, METH_NOARGS, __Pyx_DOCSTR(0)},
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_9sendtools_Consumer[] = {
  {(char *)"is_alive", __pyx_getprop_9sendtools_8Consumer_is_alive, 0, 0, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Consumer = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Consumer = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Consumer = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Consumer = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Consumer = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Consumer"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Consumer), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Consumer, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Consumer, /*tp_as_number*/
  &__pyx_tp_as_sequence_Consumer, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Consumer, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Consumer, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  __Pyx_DOCSTR("\n    (Abstract) base class for Consumer objects. Not intended to be instantiated\n    directly.\n    "), /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Consumer, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_9sendtools_Consumer, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Consumer, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_ConsumerSink __pyx_vtable_9sendtools_ConsumerSink;

static PyObject *__pyx_tp_new_9sendtools_ConsumerSink(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_ConsumerSink *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_ConsumerSink *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_ConsumerSink;
  p->output = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_12ConsumerSink___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_ConsumerSink(PyObject *o) {
  struct __pyx_obj_9sendtools_ConsumerSink *p = (struct __pyx_obj_9sendtools_ConsumerSink *)o;
  Py_XDECREF(p->output);
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_ConsumerSink(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_ConsumerSink *p = (struct __pyx_obj_9sendtools_ConsumerSink *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->output) {
    e = (*v)(p->output, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_ConsumerSink(PyObject *o) {
  struct __pyx_obj_9sendtools_ConsumerSink *p = (struct __pyx_obj_9sendtools_ConsumerSink *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->output);
  p->output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_ConsumerSink[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_ConsumerSink = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_ConsumerSink = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_ConsumerSink = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_ConsumerSink = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_ConsumerSink = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.ConsumerSink"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_ConsumerSink), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerSink, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_ConsumerSink, /*tp_as_number*/
  &__pyx_tp_as_sequence_ConsumerSink, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_ConsumerSink, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_ConsumerSink, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Abstract base class for Consumers forming the terminating nodes in a chain\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerSink, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerSink, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_ConsumerSink, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_ConsumerSink, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_ConsumerNode __pyx_vtable_9sendtools_ConsumerNode;

static PyObject *__pyx_tp_new_9sendtools_ConsumerNode(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_ConsumerNode *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_ConsumerNode *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_ConsumerNode;
  p->target = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_9sendtools_ConsumerNode(PyObject *o) {
  struct __pyx_obj_9sendtools_ConsumerNode *p = (struct __pyx_obj_9sendtools_ConsumerNode *)o;
  Py_XDECREF(((PyObject *)p->target));
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_ConsumerNode(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_ConsumerNode *p = (struct __pyx_obj_9sendtools_ConsumerNode *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->target) {
    e = (*v)(((PyObject*)p->target), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_ConsumerNode(PyObject *o) {
  struct __pyx_obj_9sendtools_ConsumerNode *p = (struct __pyx_obj_9sendtools_ConsumerNode *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->target);
  p->target = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_ConsumerNode[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_ConsumerNode = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_ConsumerNode = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_ConsumerNode = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_ConsumerNode = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_ConsumerNode = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.ConsumerNode"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_ConsumerNode), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_ConsumerNode, /*tp_as_number*/
  &__pyx_tp_as_sequence_ConsumerNode, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_ConsumerNode, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_ConsumerNode, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Abstract base class for Consumers which pass on data to a target Consumer\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerNode, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_ConsumerNode, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_ConsumerNode, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Append __pyx_vtable_9sendtools_Append;

static PyObject *__pyx_tp_new_9sendtools_Append(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Append *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerSink(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Append *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Append;
  if (__pyx_pf_9sendtools_6Append___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Append[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Append = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Append = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Append = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Append = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Append = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Append"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Append), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerSink, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Append, /*tp_as_number*/
  &__pyx_tp_as_sequence_Append, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Append, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Append, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerSink, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerSink, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Append, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Append, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_ListAppend __pyx_vtable_9sendtools_ListAppend;

static PyObject *__pyx_tp_new_9sendtools_ListAppend(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_ListAppend *p;
  PyObject *o = __pyx_tp_new_9sendtools_Append(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_ListAppend *)o);
  p->__pyx_base.__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_ListAppend;
  if (__pyx_pf_9sendtools_10ListAppend___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_ListAppend[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_ListAppend = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_ListAppend = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_ListAppend = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_ListAppend = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_ListAppend = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.ListAppend"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_ListAppend), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerSink, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_ListAppend, /*tp_as_number*/
  &__pyx_tp_as_sequence_ListAppend, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_ListAppend, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_ListAppend, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerSink, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerSink, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_ListAppend, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_ListAppend, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_AddToSet __pyx_vtable_9sendtools_AddToSet;

static PyObject *__pyx_tp_new_9sendtools_AddToSet(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_AddToSet *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerSink(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_AddToSet *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_AddToSet;
  if (__pyx_pf_9sendtools_8AddToSet___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_AddToSet[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_AddToSet = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_AddToSet = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_AddToSet = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_AddToSet = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_AddToSet = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.AddToSet"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_AddToSet), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerSink, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_AddToSet, /*tp_as_number*/
  &__pyx_tp_as_sequence_AddToSet, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_AddToSet, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_AddToSet, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerSink, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerSink, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_AddToSet, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_AddToSet, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Split __pyx_vtable_9sendtools_Split;

static PyObject *__pyx_tp_new_9sendtools_Split(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Split *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Split *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Split;
  p->targets = ((PyObject *)Py_None); Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_5Split___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Split(PyObject *o) {
  struct __pyx_obj_9sendtools_Split *p = (struct __pyx_obj_9sendtools_Split *)o;
  Py_XDECREF(((PyObject *)p->targets));
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_Split(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Split *p = (struct __pyx_obj_9sendtools_Split *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->targets) {
    e = (*v)(p->targets, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Split(PyObject *o) {
  struct __pyx_obj_9sendtools_Split *p = (struct __pyx_obj_9sendtools_Split *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->targets);
  p->targets = ((PyObject *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Split[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Split = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Split = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Split = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Split = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Split = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Split"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Split), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Split, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Split, /*tp_as_number*/
  &__pyx_tp_as_sequence_Split, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Split, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Split, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Split, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Split, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Split, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Split, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Limit __pyx_vtable_9sendtools_Limit;

static PyObject *__pyx_tp_new_9sendtools_Limit(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Limit *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Limit *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Limit;
  if (__pyx_pf_9sendtools_5Limit___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Limit[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Limit = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Limit = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Limit = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Limit = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Limit = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Limit"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Limit), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Limit, /*tp_as_number*/
  &__pyx_tp_as_sequence_Limit, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Limit, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Limit, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Limit(n, target) -> Consumer object\n    \n    Passes up to n items sent in to the consumer on to it's target. Sending\n    further items raise StopIteration\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerNode, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Limit, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Limit, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Slice __pyx_vtable_9sendtools_Slice;

static PyObject *__pyx_tp_new_9sendtools_Slice(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Slice *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Slice *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Slice;
  if (__pyx_pf_9sendtools_5Slice___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Slice[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Slice = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Slice = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Slice = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Slice = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Slice = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Slice"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Slice), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_ConsumerNode, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Slice, /*tp_as_number*/
  &__pyx_tp_as_sequence_Slice, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Slice, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Slice, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Slice([start,] stop[, step], target) -> Consumer\n    \n    Acts like builtin slice, but for consumers. \n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_ConsumerNode, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_ConsumerNode, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Slice, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Slice, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Filter __pyx_vtable_9sendtools_Filter;

static PyObject *__pyx_tp_new_9sendtools_Filter(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Filter *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Filter *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Filter;
  p->func = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_6Filter___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Filter(PyObject *o) {
  struct __pyx_obj_9sendtools_Filter *p = (struct __pyx_obj_9sendtools_Filter *)o;
  Py_XDECREF(p->func);
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_Filter(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Filter *p = (struct __pyx_obj_9sendtools_Filter *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->func) {
    e = (*v)(p->func, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Filter(PyObject *o) {
  struct __pyx_obj_9sendtools_Filter *p = (struct __pyx_obj_9sendtools_Filter *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->func);
  p->func = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Filter[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Filter = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Filter = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Filter = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Filter = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Filter = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Filter"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Filter), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Filter, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Filter, /*tp_as_number*/
  &__pyx_tp_as_sequence_Filter, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Filter, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Filter, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Filter(func, target) -> Consumer\n    \n    For each item sent into a Filter instance, func(item) is called and if the\n    result evaluates to True, the item is send to the target. Otherwise, the item\n    is dropped.\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Filter, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Filter, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Filter, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Filter, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Map __pyx_vtable_9sendtools_Map;

static PyObject *__pyx_tp_new_9sendtools_Map(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Map *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Map *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Map;
  p->func = Py_None; Py_INCREF(Py_None);
  p->exc = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_3Map___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Map(PyObject *o) {
  struct __pyx_obj_9sendtools_Map *p = (struct __pyx_obj_9sendtools_Map *)o;
  Py_XDECREF(p->func);
  Py_XDECREF(p->exc);
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_Map(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Map *p = (struct __pyx_obj_9sendtools_Map *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->func) {
    e = (*v)(p->func, a); if (e) return e;
  }
  if (p->exc) {
    e = (*v)(p->exc, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Map(PyObject *o) {
  struct __pyx_obj_9sendtools_Map *p = (struct __pyx_obj_9sendtools_Map *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->func);
  p->func = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->exc);
  p->exc = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Map[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Map = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Map = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Map = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Map = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Map = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Map"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Map), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Map, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Map, /*tp_as_number*/
  &__pyx_tp_as_sequence_Map, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Map, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Map, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Map(func, target, catch=None) -> Consumer\n    \n    For each item send into this consumer, func is called with the item as\n    it's argument. The result is send on to target. catch may be an exception\n    or tuple of exception. If func raises one of these specified exceptions, \n    they are handled by the Map consumer (i.e. do not propagate) so the consumer\n    remains alive to receive further items.\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Map, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Map, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Map, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Map, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Get __pyx_vtable_9sendtools_Get;

static PyObject *__pyx_tp_new_9sendtools_Get(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Get *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Get *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Get;
  p->selector = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_3Get___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Get(PyObject *o) {
  struct __pyx_obj_9sendtools_Get *p = (struct __pyx_obj_9sendtools_Get *)o;
  Py_XDECREF(p->selector);
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_Get(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Get *p = (struct __pyx_obj_9sendtools_Get *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->selector) {
    e = (*v)(p->selector, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Get(PyObject *o) {
  struct __pyx_obj_9sendtools_Get *p = (struct __pyx_obj_9sendtools_Get *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->selector);
  p->selector = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Get[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Get = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Get = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Get = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Get = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Get = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Get"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Get), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Get, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Get, /*tp_as_number*/
  &__pyx_tp_as_sequence_Get, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Get, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Get, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Get(idx, target) -> Consumer\n    \n    Items sent into this consumer are sliced using idx as the slicing object. The\n    result is passed on to target.\n    \n    Should I have called this Item?\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Get, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Get, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Get, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Get, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Attr __pyx_vtable_9sendtools_Attr;

static PyObject *__pyx_tp_new_9sendtools_Attr(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Attr *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Attr *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Attr;
  p->attrname = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_4Attr___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Attr(PyObject *o) {
  struct __pyx_obj_9sendtools_Attr *p = (struct __pyx_obj_9sendtools_Attr *)o;
  Py_XDECREF(p->attrname);
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_Attr(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Attr *p = (struct __pyx_obj_9sendtools_Attr *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->attrname) {
    e = (*v)(p->attrname, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Attr(PyObject *o) {
  struct __pyx_obj_9sendtools_Attr *p = (struct __pyx_obj_9sendtools_Attr *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->attrname);
  p->attrname = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Attr[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Attr = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Attr = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Attr = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Attr = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Attr = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Attr"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Attr), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Attr, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Attr, /*tp_as_number*/
  &__pyx_tp_as_sequence_Attr, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Attr, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Attr, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Attr(name, target) -> Consumer\n    \n    Retrieves the named attribute from objects send into this object and passes\n    them on to the target\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Attr, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Attr, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Attr, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Attr, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyObject *__pyx_tp_new_9sendtools_Factory(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Factory *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Factory *)o);
  p->factory = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_7Factory___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Factory(PyObject *o) {
  struct __pyx_obj_9sendtools_Factory *p = (struct __pyx_obj_9sendtools_Factory *)o;
  Py_XDECREF(p->factory);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_9sendtools_Factory(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Factory *p = (struct __pyx_obj_9sendtools_Factory *)o;
  if (p->factory) {
    e = (*v)(p->factory, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Factory(PyObject *o) {
  struct __pyx_obj_9sendtools_Factory *p = (struct __pyx_obj_9sendtools_Factory *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->factory);
  p->factory = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Factory[] = {
  {__Pyx_NAMESTR("__call__"), (PyCFunction)__pyx_pf_9sendtools_7Factory___call__, METH_VARARGS|METH_KEYWORDS|METH_COEXIST, __Pyx_DOCSTR(0)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Factory = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Factory = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Factory = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Factory = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Factory = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Factory"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Factory), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Factory, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Factory, /*tp_as_number*/
  &__pyx_tp_as_sequence_Factory, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Factory, /*tp_as_mapping*/
  0, /*tp_hash*/
  __pyx_pf_9sendtools_7Factory___call__, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Factory, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Factory, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Factory, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Factory, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Factory, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_GroupByN __pyx_vtable_9sendtools_GroupByN;

static PyObject *__pyx_tp_new_9sendtools_GroupByN(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_GroupByN *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_GroupByN *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_GroupByN;
  p->factory = Py_None; Py_INCREF(Py_None);
  p->output = Py_None; Py_INCREF(Py_None);
  p->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_8GroupByN___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_GroupByN(PyObject *o) {
  struct __pyx_obj_9sendtools_GroupByN *p = (struct __pyx_obj_9sendtools_GroupByN *)o;
  Py_XDECREF(p->factory);
  Py_XDECREF(p->output);
  Py_XDECREF(((PyObject *)p->this_grp));
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_GroupByN(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_GroupByN *p = (struct __pyx_obj_9sendtools_GroupByN *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->factory) {
    e = (*v)(p->factory, a); if (e) return e;
  }
  if (p->output) {
    e = (*v)(p->output, a); if (e) return e;
  }
  if (p->this_grp) {
    e = (*v)(((PyObject*)p->this_grp), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_GroupByN(PyObject *o) {
  struct __pyx_obj_9sendtools_GroupByN *p = (struct __pyx_obj_9sendtools_GroupByN *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->factory);
  p->factory = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->output);
  p->output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->this_grp);
  p->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_GroupByN[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_GroupByN = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_GroupByN = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_GroupByN = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_GroupByN = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_GroupByN = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.GroupByN"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_GroupByN), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_GroupByN, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_GroupByN, /*tp_as_number*/
  &__pyx_tp_as_sequence_GroupByN, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_GroupByN, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_GroupByN, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    GroupByN(n, target, factory=list) -> Consumer\n    \n    Items sent in to this object are partitioned into groups of size n. The\n    groups are consumers too. factory, if given, is a function called to create\n    each group (a list, by default).\n    \n    An example should help:\n    >>> data = range(15)\n    >>> send(data, GroupByN(4, []))\n    [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]\n    >>> send(data, GroupByN(4, [], factory=Sum))\n    [6, 22, 38]\n    \n    Note, incomplete groups are *never* passed on.\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_GroupByN, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_GroupByN, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_GroupByN, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_GroupByN, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyObject *__pyx_tp_new_9sendtools_NULL_OBJ(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  return o;
}

static void __pyx_tp_dealloc_9sendtools_NULL_OBJ(PyObject *o) {
  (*Py_TYPE(o)->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_9sendtools_NULL_OBJ[] = {
  {__Pyx_NAMESTR("__add__"), (PyCFunction)__pyx_pf_9sendtools_8NULL_OBJ___add__, METH_O|METH_COEXIST, __Pyx_DOCSTR(0)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_NULL_OBJ = {
  __pyx_pf_9sendtools_8NULL_OBJ___add__, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_NULL_OBJ = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_NULL_OBJ = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_NULL_OBJ = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_NULL_OBJ = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.NULL_OBJ"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_NULL_OBJ), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_NULL_OBJ, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_NULL_OBJ, /*tp_as_number*/
  &__pyx_tp_as_sequence_NULL_OBJ, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_NULL_OBJ, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_NULL_OBJ, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  __pyx_pf_9sendtools_8NULL_OBJ___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_NULL_OBJ, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_NULL_OBJ, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_GroupByKey __pyx_vtable_9sendtools_GroupByKey;

static PyObject *__pyx_tp_new_9sendtools_GroupByKey(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_GroupByKey *p;
  PyObject *o = __pyx_tp_new_9sendtools_ConsumerNode(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_GroupByKey *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_GroupByKey;
  p->factory = Py_None; Py_INCREF(Py_None);
  p->keyfunc = Py_None; Py_INCREF(Py_None);
  p->thiskey = Py_None; Py_INCREF(Py_None);
  p->grp_output = Py_None; Py_INCREF(Py_None);
  p->output = Py_None; Py_INCREF(Py_None);
  p->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_10GroupByKey___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_GroupByKey(PyObject *o) {
  struct __pyx_obj_9sendtools_GroupByKey *p = (struct __pyx_obj_9sendtools_GroupByKey *)o;
  Py_XDECREF(p->factory);
  Py_XDECREF(p->keyfunc);
  Py_XDECREF(p->thiskey);
  Py_XDECREF(p->grp_output);
  Py_XDECREF(p->output);
  Py_XDECREF(((PyObject *)p->this_grp));
  __pyx_tp_dealloc_9sendtools_ConsumerNode(o);
}

static int __pyx_tp_traverse_9sendtools_GroupByKey(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_GroupByKey *p = (struct __pyx_obj_9sendtools_GroupByKey *)o;
  e = __pyx_tp_traverse_9sendtools_ConsumerNode(o, v, a); if (e) return e;
  if (p->factory) {
    e = (*v)(p->factory, a); if (e) return e;
  }
  if (p->keyfunc) {
    e = (*v)(p->keyfunc, a); if (e) return e;
  }
  if (p->thiskey) {
    e = (*v)(p->thiskey, a); if (e) return e;
  }
  if (p->grp_output) {
    e = (*v)(p->grp_output, a); if (e) return e;
  }
  if (p->output) {
    e = (*v)(p->output, a); if (e) return e;
  }
  if (p->this_grp) {
    e = (*v)(((PyObject*)p->this_grp), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_GroupByKey(PyObject *o) {
  struct __pyx_obj_9sendtools_GroupByKey *p = (struct __pyx_obj_9sendtools_GroupByKey *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_ConsumerNode(o);
  tmp = ((PyObject*)p->factory);
  p->factory = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->keyfunc);
  p->keyfunc = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->thiskey);
  p->thiskey = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->grp_output);
  p->grp_output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->output);
  p->output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->this_grp);
  p->this_grp = ((struct __pyx_obj_9sendtools_Consumer *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_GroupByKey[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_GroupByKey = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_GroupByKey = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_GroupByKey = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_GroupByKey = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_GroupByKey = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.GroupByKey"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_GroupByKey), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_GroupByKey, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_GroupByKey, /*tp_as_number*/
  &__pyx_tp_as_sequence_GroupByKey, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_GroupByKey, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_GroupByKey, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    GroupByKey(keyfunc, target, factory=list) -> Consumer\n    \n    For each item passed in keyfunc is called with the item as it's argument.\n    If the result is not equal to that of the previous item, a new group is created\n    by calling factory and the current item sent into that group.\n    \n    When a group is finalised (either by starting a new group or when the GroupByKey\n    object goes out-of-scope), it is sent on to the target.\n    \n    If keyfunc is specified as None, the item is used directly.\n    \n    For example:\n    >>> data = [3,3,3,3,3,5,5,2,2,2,2,3,3,3]\n    >>> send(data, GroupByKey(None, []))\n    [[3, 3, 3, 3, 3], [5, 5], [2, 2, 2, 2], [3, 3, 3]]\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_GroupByKey, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_GroupByKey, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_GroupByKey, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_GroupByKey, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Switch __pyx_vtable_9sendtools_Switch;

static PyObject *__pyx_tp_new_9sendtools_Switch(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Switch *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Switch *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Switch;
  p->targets = ((PyObject *)Py_None); Py_INCREF(Py_None);
  p->func = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_6Switch___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Switch(PyObject *o) {
  struct __pyx_obj_9sendtools_Switch *p = (struct __pyx_obj_9sendtools_Switch *)o;
  Py_XDECREF(((PyObject *)p->targets));
  Py_XDECREF(p->func);
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_Switch(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Switch *p = (struct __pyx_obj_9sendtools_Switch *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->targets) {
    e = (*v)(p->targets, a); if (e) return e;
  }
  if (p->func) {
    e = (*v)(p->func, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Switch(PyObject *o) {
  struct __pyx_obj_9sendtools_Switch *p = (struct __pyx_obj_9sendtools_Switch *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->targets);
  p->targets = ((PyObject *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->func);
  p->func = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Switch[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Switch = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Switch = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Switch = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Switch = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Switch = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Switch"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Switch), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Switch, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Switch, /*tp_as_number*/
  &__pyx_tp_as_sequence_Switch, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Switch, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Switch, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Switch, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Switch, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Switch, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Switch, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_SwitchByKey __pyx_vtable_9sendtools_SwitchByKey;

static PyObject *__pyx_tp_new_9sendtools_SwitchByKey(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_SwitchByKey *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_SwitchByKey *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_SwitchByKey;
  p->output = Py_None; Py_INCREF(Py_None);
  p->func = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_11SwitchByKey___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_SwitchByKey(PyObject *o) {
  struct __pyx_obj_9sendtools_SwitchByKey *p = (struct __pyx_obj_9sendtools_SwitchByKey *)o;
  Py_XDECREF(p->output);
  Py_XDECREF(p->func);
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_SwitchByKey(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_SwitchByKey *p = (struct __pyx_obj_9sendtools_SwitchByKey *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->output) {
    e = (*v)(p->output, a); if (e) return e;
  }
  if (p->func) {
    e = (*v)(p->func, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_SwitchByKey(PyObject *o) {
  struct __pyx_obj_9sendtools_SwitchByKey *p = (struct __pyx_obj_9sendtools_SwitchByKey *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->output);
  p->output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->func);
  p->func = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_SwitchByKey[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_SwitchByKey = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_SwitchByKey = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_SwitchByKey = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_SwitchByKey = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_SwitchByKey = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.SwitchByKey"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_SwitchByKey), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_SwitchByKey, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_SwitchByKey, /*tp_as_number*/
  &__pyx_tp_as_sequence_SwitchByKey, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_SwitchByKey, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_SwitchByKey, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_SwitchByKey, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_SwitchByKey, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_SwitchByKey, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_SwitchByKey, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Aggregate __pyx_vtable_9sendtools_Aggregate;

static PyObject *__pyx_tp_new_9sendtools_Aggregate(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Aggregate *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Aggregate *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Aggregate;
  p->output = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_9Aggregate___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Aggregate(PyObject *o) {
  struct __pyx_obj_9sendtools_Aggregate *p = (struct __pyx_obj_9sendtools_Aggregate *)o;
  Py_XDECREF(p->output);
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_Aggregate(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Aggregate *p = (struct __pyx_obj_9sendtools_Aggregate *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->output) {
    e = (*v)(p->output, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Aggregate(PyObject *o) {
  struct __pyx_obj_9sendtools_Aggregate *p = (struct __pyx_obj_9sendtools_Aggregate *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->output);
  p->output = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Aggregate[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Aggregate = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Aggregate = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Aggregate = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Aggregate = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Aggregate = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Aggregate"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Aggregate), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Aggregate, /*tp_as_number*/
  &__pyx_tp_as_sequence_Aggregate, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Aggregate, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Aggregate, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Aggregate, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Aggregate, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Min __pyx_vtable_9sendtools_Min;

static PyObject *__pyx_tp_new_9sendtools_Min(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Min *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Min *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Min;
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Min[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Min = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Min = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Min = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Min = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Min = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Min"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Min), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Min, /*tp_as_number*/
  &__pyx_tp_as_sequence_Min, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Min, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Min, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Min, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Min, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Max __pyx_vtable_9sendtools_Max;

static PyObject *__pyx_tp_new_9sendtools_Max(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Max *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Max *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Max;
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Max[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Max = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Max = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Max = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Max = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Max = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Max"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Max), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Max, /*tp_as_number*/
  &__pyx_tp_as_sequence_Max, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Max, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Max, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Max, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Max, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Sum __pyx_vtable_9sendtools_Sum;

static PyObject *__pyx_tp_new_9sendtools_Sum(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Sum *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Sum *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Sum;
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Sum[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Sum = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Sum = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Sum = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Sum = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Sum = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Sum"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Sum), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Sum, /*tp_as_number*/
  &__pyx_tp_as_sequence_Sum, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Sum, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Sum, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Sum, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Sum, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Count __pyx_vtable_9sendtools_Count;

static PyObject *__pyx_tp_new_9sendtools_Count(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Count *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Count *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Count;
  if (__pyx_pf_9sendtools_5Count___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Count[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Count = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Count = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Count = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Count = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Count = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Count"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Count), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Count, /*tp_as_number*/
  &__pyx_tp_as_sequence_Count, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Count, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Count, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Count, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Count, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Ave __pyx_vtable_9sendtools_Ave;

static PyObject *__pyx_tp_new_9sendtools_Ave(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Ave *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Ave *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Ave;
  if (__pyx_pf_9sendtools_3Ave___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Ave[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Ave = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Ave = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Ave = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Ave = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Ave = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Ave"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Ave), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Ave, /*tp_as_number*/
  &__pyx_tp_as_sequence_Ave, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Ave, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Ave, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Ave, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Ave, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Stats __pyx_vtable_9sendtools_Stats;

static PyObject *__pyx_tp_new_9sendtools_Stats(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Stats *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Stats *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Stats;
  if (__pyx_pf_9sendtools_5Stats___cinit__(o, __pyx_empty_tuple, NULL) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Stats[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Stats = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Stats = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Stats = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Stats = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Stats = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Stats"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Stats), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Stats, /*tp_as_number*/
  &__pyx_tp_as_sequence_Stats, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Stats, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Stats, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    Aggregate Consumer. Computes a running count, average and \n    (unbiased) standard deviation.\n    \n    The output is a tuple -> (count, mean, std)\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Stats, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Stats, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_First __pyx_vtable_9sendtools_First;

static PyObject *__pyx_tp_new_9sendtools_First(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_First *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_First *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_First;
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_First[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_First = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_First = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_First = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_First = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_First = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.First"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_First), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_First, /*tp_as_number*/
  &__pyx_tp_as_sequence_First, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_First, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_First, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_First, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_First, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Last __pyx_vtable_9sendtools_Last;

static PyObject *__pyx_tp_new_9sendtools_Last(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Last *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Last *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Last;
  return o;
}

static struct PyMethodDef __pyx_methods_9sendtools_Last[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Last = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Last = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Last = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Last = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Last = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Last"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Last), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Aggregate, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Last, /*tp_as_number*/
  &__pyx_tp_as_sequence_Last, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Last, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Last, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Aggregate, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Aggregate, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Last, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Last, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_Select __pyx_vtable_9sendtools_Select;

static PyObject *__pyx_tp_new_9sendtools_Select(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_Select *p;
  PyObject *o = __pyx_tp_new_9sendtools_Aggregate(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_Select *)o);
  p->__pyx_base.__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_Select;
  p->transform = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_6Select___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_Select(PyObject *o) {
  struct __pyx_obj_9sendtools_Select *p = (struct __pyx_obj_9sendtools_Select *)o;
  Py_XDECREF(p->transform);
  __pyx_tp_dealloc_9sendtools_Aggregate(o);
}

static int __pyx_tp_traverse_9sendtools_Select(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_Select *p = (struct __pyx_obj_9sendtools_Select *)o;
  e = __pyx_tp_traverse_9sendtools_Aggregate(o, v, a); if (e) return e;
  if (p->transform) {
    e = (*v)(p->transform, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_Select(PyObject *o) {
  struct __pyx_obj_9sendtools_Select *p = (struct __pyx_obj_9sendtools_Select *)o;
  PyObject* tmp;
  __pyx_tp_clear_9sendtools_Aggregate(o);
  tmp = ((PyObject*)p->transform);
  p->transform = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_Select[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Select = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Select = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Select = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Select = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_Select = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.Select"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_Select), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_Select, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Select, /*tp_as_number*/
  &__pyx_tp_as_sequence_Select, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Select, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Select, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9sendtools_Select, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_Select, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_Select, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_Select, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};
static struct __pyx_vtabstruct_9sendtools_GeneratorConsumer __pyx_vtable_9sendtools_GeneratorConsumer;

static PyObject *__pyx_tp_new_9sendtools_GeneratorConsumer(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_GeneratorConsumer *p;
  PyObject *o = __pyx_tp_new_9sendtools_Consumer(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_GeneratorConsumer *)o);
  p->__pyx_base.__pyx_vtab = (struct __pyx_vtabstruct_9sendtools_Consumer*)__pyx_vtabptr_9sendtools_GeneratorConsumer;
  p->gen = Py_None; Py_INCREF(Py_None);
  p->out = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_17GeneratorConsumer___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_GeneratorConsumer(PyObject *o) {
  struct __pyx_obj_9sendtools_GeneratorConsumer *p = (struct __pyx_obj_9sendtools_GeneratorConsumer *)o;
  Py_XDECREF(p->gen);
  Py_XDECREF(p->out);
  __pyx_tp_dealloc_9sendtools_Consumer(o);
}

static int __pyx_tp_traverse_9sendtools_GeneratorConsumer(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_GeneratorConsumer *p = (struct __pyx_obj_9sendtools_GeneratorConsumer *)o;
  if (__pyx_ptype_9sendtools_Consumer->tp_traverse) {
    e = __pyx_ptype_9sendtools_Consumer->tp_traverse(o, v, a); if (e) return e;
  }
  if (p->gen) {
    e = (*v)(p->gen, a); if (e) return e;
  }
  if (p->out) {
    e = (*v)(p->out, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_GeneratorConsumer(PyObject *o) {
  struct __pyx_obj_9sendtools_GeneratorConsumer *p = (struct __pyx_obj_9sendtools_GeneratorConsumer *)o;
  PyObject* tmp;
  if (__pyx_ptype_9sendtools_Consumer->tp_clear) {
    __pyx_ptype_9sendtools_Consumer->tp_clear(o);
  }
  tmp = ((PyObject*)p->gen);
  p->gen = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  tmp = ((PyObject*)p->out);
  p->out = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_GeneratorConsumer[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_GeneratorConsumer = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_GeneratorConsumer = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_GeneratorConsumer = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_GeneratorConsumer = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_GeneratorConsumer = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.GeneratorConsumer"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_GeneratorConsumer), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_GeneratorConsumer, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_GeneratorConsumer, /*tp_as_number*/
  &__pyx_tp_as_sequence_GeneratorConsumer, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_GeneratorConsumer, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_GeneratorConsumer, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    A class for creating a Consumer from a generator. \n    \n    Not usually instantiated directly, but is created by a consumer \n    decorator.\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_GeneratorConsumer, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_GeneratorConsumer, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_GeneratorConsumer, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_GeneratorConsumer, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static PyObject *__pyx_tp_new_9sendtools_consumer(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_9sendtools_consumer *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_9sendtools_consumer *)o);
  p->func = Py_None; Py_INCREF(Py_None);
  if (__pyx_pf_9sendtools_8consumer___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9sendtools_consumer(PyObject *o) {
  struct __pyx_obj_9sendtools_consumer *p = (struct __pyx_obj_9sendtools_consumer *)o;
  Py_XDECREF(p->func);
  (*Py_TYPE(o)->tp_free)(o);
}

static int __pyx_tp_traverse_9sendtools_consumer(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_9sendtools_consumer *p = (struct __pyx_obj_9sendtools_consumer *)o;
  if (p->func) {
    e = (*v)(p->func, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_9sendtools_consumer(PyObject *o) {
  struct __pyx_obj_9sendtools_consumer *p = (struct __pyx_obj_9sendtools_consumer *)o;
  PyObject* tmp;
  tmp = ((PyObject*)p->func);
  p->func = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(tmp);
  return 0;
}

static struct PyMethodDef __pyx_methods_9sendtools_consumer[] = {
  {__Pyx_NAMESTR("__call__"), (PyCFunction)__pyx_pf_9sendtools_8consumer___call__, METH_VARARGS|METH_KEYWORDS|METH_COEXIST, __Pyx_DOCSTR(0)},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_consumer = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_divide*/
  #endif
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_coerce*/
  #endif
  0, /*nb_int*/
  #if PY_MAJOR_VERSION >= 3
  0, /*reserved*/
  #else
  0, /*nb_long*/
  #endif
  0, /*nb_float*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_oct*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*nb_hex*/
  #endif
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  #if PY_MAJOR_VERSION < 3
  0, /*nb_inplace_divide*/
  #endif
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if (PY_MAJOR_VERSION >= 3) || (Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX)
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_consumer = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_consumer = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_consumer = {
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getreadbuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getwritebuffer*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getsegcount*/
  #endif
  #if PY_MAJOR_VERSION < 3
  0, /*bf_getcharbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_getbuffer*/
  #endif
  #if PY_VERSION_HEX >= 0x02060000
  0, /*bf_releasebuffer*/
  #endif
};

PyTypeObject __pyx_type_9sendtools_consumer = {
  PyVarObject_HEAD_INIT(0, 0)
  __Pyx_NAMESTR("sendtools.consumer"), /*tp_name*/
  sizeof(struct __pyx_obj_9sendtools_consumer), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9sendtools_consumer, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_consumer, /*tp_as_number*/
  &__pyx_tp_as_sequence_consumer, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_consumer, /*tp_as_mapping*/
  0, /*tp_hash*/
  __pyx_pf_9sendtools_8consumer___call__, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_consumer, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  __Pyx_DOCSTR("\n    A decorator for building custom Consumer objects from a generator function\n    "), /*tp_doc*/
  __pyx_tp_traverse_9sendtools_consumer, /*tp_traverse*/
  __pyx_tp_clear_9sendtools_consumer, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9sendtools_consumer, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9sendtools_consumer, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
  0, /*tp_del*/
  #if PY_VERSION_HEX >= 0x02060000
  0, /*tp_version_tag*/
  #endif
};

static struct PyMethodDef __pyx_methods[] = {
  {__Pyx_NAMESTR("send"), (PyCFunction)__pyx_pf_9sendtools_send, METH_VARARGS|METH_KEYWORDS, __Pyx_DOCSTR(__pyx_doc_9sendtools_send)},
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

#if PY_MAJOR_VERSION >= 3
static struct PyModuleDef __pyx_moduledef = {
    PyModuleDef_HEAD_INIT,
    __Pyx_NAMESTR("sendtools"),
    __Pyx_DOCSTR(__pyx_k_15), /* m_doc */
    -1, /* m_size */
    __pyx_methods /* m_methods */,
    NULL, /* m_reload */
    NULL, /* m_traverse */
    NULL, /* m_clear */
    NULL /* m_free */
};
#endif

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_kp_s_1, __pyx_k_1, sizeof(__pyx_k_1), 0, 0, 1, 0},
  {&__pyx_kp_s_10, __pyx_k_10, sizeof(__pyx_k_10), 0, 0, 1, 0},
  {&__pyx_kp_s_11, __pyx_k_11, sizeof(__pyx_k_11), 0, 0, 1, 0},
  {&__pyx_kp_s_12, __pyx_k_12, sizeof(__pyx_k_12), 0, 0, 1, 0},
  {&__pyx_kp_s_13, __pyx_k_13, sizeof(__pyx_k_13), 0, 0, 1, 0},
  {&__pyx_kp_s_14, __pyx_k_14, sizeof(__pyx_k_14), 0, 0, 1, 0},
  {&__pyx_kp_u_16, __pyx_k_16, sizeof(__pyx_k_16), 0, 1, 0, 0},
  {&__pyx_kp_s_2, __pyx_k_2, sizeof(__pyx_k_2), 0, 0, 1, 0},
  {&__pyx_kp_s_3, __pyx_k_3, sizeof(__pyx_k_3), 0, 0, 1, 0},
  {&__pyx_kp_s_4, __pyx_k_4, sizeof(__pyx_k_4), 0, 0, 1, 0},
  {&__pyx_kp_s_7, __pyx_k_7, sizeof(__pyx_k_7), 0, 0, 1, 0},
  {&__pyx_kp_s_9, __pyx_k_9, sizeof(__pyx_k_9), 0, 0, 1, 0},
  {&__pyx_n_s__BaseException, __pyx_k__BaseException, sizeof(__pyx_k__BaseException), 0, 0, 1, 1},
  {&__pyx_n_s__Callable, __pyx_k__Callable, sizeof(__pyx_k__Callable), 0, 0, 1, 1},
  {&__pyx_n_s__GeneratorType, __pyx_k__GeneratorType, sizeof(__pyx_k__GeneratorType), 0, 0, 1, 1},
  {&__pyx_n_s__M2, __pyx_k__M2, sizeof(__pyx_k__M2), 0, 0, 1, 1},
  {&__pyx_n_s__MutableMapping, __pyx_k__MutableMapping, sizeof(__pyx_k__MutableMapping), 0, 0, 1, 1},
  {&__pyx_n_s__MutableSequence, __pyx_k__MutableSequence, sizeof(__pyx_k__MutableSequence), 0, 0, 1, 1},
  {&__pyx_n_s__MutableSet, __pyx_k__MutableSet, sizeof(__pyx_k__MutableSet), 0, 0, 1, 1},
  {&__pyx_n_s__NotImplemented, __pyx_k__NotImplemented, sizeof(__pyx_k__NotImplemented), 0, 0, 1, 1},
  {&__pyx_n_s__NotImplementedError, __pyx_k__NotImplementedError, sizeof(__pyx_k__NotImplementedError), 0, 0, 1, 1},
  {&__pyx_n_s__StopIteration, __pyx_k__StopIteration, sizeof(__pyx_k__StopIteration), 0, 0, 1, 1},
  {&__pyx_n_s__TupleType, __pyx_k__TupleType, sizeof(__pyx_k__TupleType), 0, 0, 1, 1},
  {&__pyx_n_s__TypeError, __pyx_k__TypeError, sizeof(__pyx_k__TypeError), 0, 0, 1, 1},
  {&__pyx_n_s____doc__, __pyx_k____doc__, sizeof(__pyx_k____doc__), 0, 0, 1, 1},
  {&__pyx_n_s____main__, __pyx_k____main__, sizeof(__pyx_k____main__), 0, 0, 1, 1},
  {&__pyx_n_s____test__, __pyx_k____test__, sizeof(__pyx_k____test__), 0, 0, 1, 1},
  {&__pyx_n_s___alive, __pyx_k___alive, sizeof(__pyx_k___alive), 0, 0, 1, 1},
  {&__pyx_n_s__add, __pyx_k__add, sizeof(__pyx_k__add), 0, 0, 1, 1},
  {&__pyx_n_s__attrname, __pyx_k__attrname, sizeof(__pyx_k__attrname), 0, 0, 1, 1},
  {&__pyx_n_s__catch, __pyx_k__catch, sizeof(__pyx_k__catch), 0, 0, 1, 1},
  {&__pyx_n_s__close_, __pyx_k__close_, sizeof(__pyx_k__close_), 0, 0, 1, 1},
  {&__pyx_n_s__collections, __pyx_k__collections, sizeof(__pyx_k__collections), 0, 0, 1, 1},
  {&__pyx_n_s__count, __pyx_k__count, sizeof(__pyx_k__count), 0, 0, 1, 1},
  {&__pyx_n_s__defaultdict, __pyx_k__defaultdict, sizeof(__pyx_k__defaultdict), 0, 0, 1, 1},
  {&__pyx_n_s__exc, __pyx_k__exc, sizeof(__pyx_k__exc), 0, 0, 1, 1},
  {&__pyx_n_s__factory, __pyx_k__factory, sizeof(__pyx_k__factory), 0, 0, 1, 1},
  {&__pyx_n_s__func, __pyx_k__func, sizeof(__pyx_k__func), 0, 0, 1, 1},
  {&__pyx_n_s__gen, __pyx_k__gen, sizeof(__pyx_k__gen), 0, 0, 1, 1},
  {&__pyx_n_s__getattr, __pyx_k__getattr, sizeof(__pyx_k__getattr), 0, 0, 1, 1},
  {&__pyx_n_s__grp_output, __pyx_k__grp_output, sizeof(__pyx_k__grp_output), 0, 0, 1, 1},
  {&__pyx_n_s__idx, __pyx_k__idx, sizeof(__pyx_k__idx), 0, 0, 1, 1},
  {&__pyx_n_s__init, __pyx_k__init, sizeof(__pyx_k__init), 0, 0, 1, 1},
  {&__pyx_n_s__itr, __pyx_k__itr, sizeof(__pyx_k__itr), 0, 0, 1, 1},
  {&__pyx_n_s__keyfunc, __pyx_k__keyfunc, sizeof(__pyx_k__keyfunc), 0, 0, 1, 1},
  {&__pyx_n_s__math, __pyx_k__math, sizeof(__pyx_k__math), 0, 0, 1, 1},
  {&__pyx_n_s__mean, __pyx_k__mean, sizeof(__pyx_k__mean), 0, 0, 1, 1},
  {&__pyx_n_s__n, __pyx_k__n, sizeof(__pyx_k__n), 0, 0, 1, 1},
  {&__pyx_n_s__name, __pyx_k__name, sizeof(__pyx_k__name), 0, 0, 1, 1},
  {&__pyx_n_s__next, __pyx_k__next, sizeof(__pyx_k__next), 0, 0, 1, 1},
  {&__pyx_n_s__nxt, __pyx_k__nxt, sizeof(__pyx_k__nxt), 0, 0, 1, 1},
  {&__pyx_n_s__out, __pyx_k__out, sizeof(__pyx_k__out), 0, 0, 1, 1},
  {&__pyx_n_s__output, __pyx_k__output, sizeof(__pyx_k__output), 0, 0, 1, 1},
  {&__pyx_n_s__result_, __pyx_k__result_, sizeof(__pyx_k__result_), 0, 0, 1, 1},
  {&__pyx_n_s__selector, __pyx_k__selector, sizeof(__pyx_k__selector), 0, 0, 1, 1},
  {&__pyx_n_s__send, __pyx_k__send, sizeof(__pyx_k__send), 0, 0, 1, 1},
  {&__pyx_n_s__send_, __pyx_k__send_, sizeof(__pyx_k__send_), 0, 0, 1, 1},
  {&__pyx_n_s__sqrt, __pyx_k__sqrt, sizeof(__pyx_k__sqrt), 0, 0, 1, 1},
  {&__pyx_n_s__start, __pyx_k__start, sizeof(__pyx_k__start), 0, 0, 1, 1},
  {&__pyx_n_s__step, __pyx_k__step, sizeof(__pyx_k__step), 0, 0, 1, 1},
  {&__pyx_n_s__stop, __pyx_k__stop, sizeof(__pyx_k__stop), 0, 0, 1, 1},
  {&__pyx_n_s__target, __pyx_k__target, sizeof(__pyx_k__target), 0, 0, 1, 1},
  {&__pyx_n_s__target_in, __pyx_k__target_in, sizeof(__pyx_k__target_in), 0, 0, 1, 1},
  {&__pyx_n_s__targets, __pyx_k__targets, sizeof(__pyx_k__targets), 0, 0, 1, 1},
  {&__pyx_n_s__this_grp, __pyx_k__this_grp, sizeof(__pyx_k__this_grp), 0, 0, 1, 1},
  {&__pyx_n_s__thiskey, __pyx_k__thiskey, sizeof(__pyx_k__thiskey), 0, 0, 1, 1},
  {&__pyx_n_s__total, __pyx_k__total, sizeof(__pyx_k__total), 0, 0, 1, 1},
  {&__pyx_n_s__transform, __pyx_k__transform, sizeof(__pyx_k__transform), 0, 0, 1, 1},
  {&__pyx_n_s__types, __pyx_k__types, sizeof(__pyx_k__types), 0, 0, 1, 1},
  {0, 0, 0, 0, 0, 0, 0}
};
static int __Pyx_InitCachedBuiltins(void) {
  __pyx_builtin_NotImplementedError = __Pyx_GetName(__pyx_b, __pyx_n_s__NotImplementedError); if (!__pyx_builtin_NotImplementedError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 26; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_StopIteration = __Pyx_GetName(__pyx_b, __pyx_n_s__StopIteration); if (!__pyx_builtin_StopIteration) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_TypeError = __Pyx_GetName(__pyx_b, __pyx_n_s__TypeError); if (!__pyx_builtin_TypeError) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_BaseException = __Pyx_GetName(__pyx_b, __pyx_n_s__BaseException); if (!__pyx_builtin_BaseException) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_getattr = __Pyx_GetName(__pyx_b, __pyx_n_s__getattr); if (!__pyx_builtin_getattr) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_builtin_NotImplemented = __Pyx_GetName(__pyx_b, __pyx_n_s__NotImplemented); if (!__pyx_builtin_NotImplemented) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 367; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  return 0;
  __pyx_L1_error:;
  return -1;
}

static int __Pyx_InitGlobals(void) {
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  return 0;
  __pyx_L1_error:;
  return -1;
}

#if PY_MAJOR_VERSION < 3
PyMODINIT_FUNC initsendtools(void); /*proto*/
PyMODINIT_FUNC initsendtools(void)
#else
PyMODINIT_FUNC PyInit_sendtools(void); /*proto*/
PyMODINIT_FUNC PyInit_sendtools(void)
#endif
{
  PyObject *__pyx_t_1 = NULL;
  PyObject *__pyx_t_2 = NULL;
  PyObject *__pyx_t_3 = NULL;
  #if CYTHON_REFNANNY
  void* __pyx_refnanny = NULL;
  __Pyx_RefNanny = __Pyx_RefNannyImportAPI("refnanny");
  if (!__Pyx_RefNanny) {
      PyErr_Clear();
      __Pyx_RefNanny = __Pyx_RefNannyImportAPI("Cython.Runtime.refnanny");
      if (!__Pyx_RefNanny)
          Py_FatalError("failed to import 'refnanny' module");
  }
  __pyx_refnanny = __Pyx_RefNanny->SetupContext("PyMODINIT_FUNC PyInit_sendtools(void)", __LINE__, __FILE__);
  #endif
  __pyx_init_filenames();
  __pyx_empty_tuple = PyTuple_New(0); if (unlikely(!__pyx_empty_tuple)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  #if PY_MAJOR_VERSION < 3
  __pyx_empty_bytes = PyString_FromStringAndSize("", 0); if (unlikely(!__pyx_empty_bytes)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  #else
  __pyx_empty_bytes = PyBytes_FromStringAndSize("", 0); if (unlikely(!__pyx_empty_bytes)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  #endif
  /*--- Library function declarations ---*/
  /*--- Threads initialization code ---*/
  #if defined(__PYX_FORCE_INIT_THREADS) && __PYX_FORCE_INIT_THREADS
  #ifdef WITH_THREAD /* Python build with threading support? */
  PyEval_InitThreads();
  #endif
  #endif
  /*--- Module creation code ---*/
  #if PY_MAJOR_VERSION < 3
  __pyx_m = Py_InitModule4(__Pyx_NAMESTR("sendtools"), __pyx_methods, __Pyx_DOCSTR(__pyx_k_15), 0, PYTHON_API_VERSION);
  #else
  __pyx_m = PyModule_Create(&__pyx_moduledef);
  #endif
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  #if PY_MAJOR_VERSION < 3
  Py_INCREF(__pyx_m);
  #endif
  __pyx_b = PyImport_AddModule(__Pyx_NAMESTR(__Pyx_BUILTIN_MODULE_NAME));
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  if (__Pyx_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  /*--- Initialize various global constants etc. ---*/
  if (unlikely(__Pyx_InitGlobals() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__pyx_module_is_main_sendtools) {
    if (__Pyx_SetAttrString(__pyx_m, "__name__", __pyx_n_s____main__) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;};
  }
  /*--- Builtin init code ---*/
  if (unlikely(__Pyx_InitCachedBuiltins() < 0)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  /*--- Global init code ---*/
  /*--- Function export code ---*/
  /*--- Type init code ---*/
  __pyx_vtabptr_9sendtools_Consumer = &__pyx_vtable_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Consumer.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_8Consumer_result_;
  __pyx_vtable_9sendtools_Consumer.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_8Consumer_send_;
  __pyx_vtable_9sendtools_Consumer.close_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_8Consumer_close_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Consumer.result_ = (void(*)(void))__pyx_f_9sendtools_8Consumer_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Consumer.send_ = (void(*)(void))__pyx_f_9sendtools_8Consumer_send_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Consumer.close_ = (void(*)(void))__pyx_f_9sendtools_8Consumer_close_;
  #endif
  if (PyType_Ready(&__pyx_type_9sendtools_Consumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Consumer.tp_dict, __pyx_vtabptr_9sendtools_Consumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Consumer", (PyObject *)&__pyx_type_9sendtools_Consumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 11; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Consumer = &__pyx_type_9sendtools_Consumer;
  __pyx_vtabptr_9sendtools_ConsumerSink = &__pyx_vtable_9sendtools_ConsumerSink;
  __pyx_vtable_9sendtools_ConsumerSink.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_ConsumerSink.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_12ConsumerSink_result_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_ConsumerSink.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_12ConsumerSink_result_;
  #endif
  __pyx_type_9sendtools_ConsumerSink.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_ConsumerSink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_ConsumerSink.tp_dict, __pyx_vtabptr_9sendtools_ConsumerSink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "ConsumerSink", (PyObject *)&__pyx_type_9sendtools_ConsumerSink) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_ConsumerSink = &__pyx_type_9sendtools_ConsumerSink;
  __pyx_vtabptr_9sendtools_ConsumerNode = &__pyx_vtable_9sendtools_ConsumerNode;
  __pyx_vtable_9sendtools_ConsumerNode.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_ConsumerNode.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_12ConsumerNode_result_;
  __pyx_vtable_9sendtools_ConsumerNode.__pyx_base.close_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_12ConsumerNode_close_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_ConsumerNode.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_12ConsumerNode_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_ConsumerNode.__pyx_base.close_ = (void(*)(void))__pyx_f_9sendtools_12ConsumerNode_close_;
  #endif
  __pyx_type_9sendtools_ConsumerNode.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_ConsumerNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 57; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_ConsumerNode.tp_dict, __pyx_vtabptr_9sendtools_ConsumerNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 57; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "ConsumerNode", (PyObject *)&__pyx_type_9sendtools_ConsumerNode) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 57; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_ConsumerNode = &__pyx_type_9sendtools_ConsumerNode;
  __pyx_vtabptr_9sendtools_Append = &__pyx_vtable_9sendtools_Append;
  __pyx_vtable_9sendtools_Append.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerSink;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Append.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_6Append_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Append.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_6Append_send_;
  #endif
  __pyx_type_9sendtools_Append.tp_base = __pyx_ptype_9sendtools_ConsumerSink;
  if (PyType_Ready(&__pyx_type_9sendtools_Append) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 72; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Append.tp_dict, __pyx_vtabptr_9sendtools_Append) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 72; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Append", (PyObject *)&__pyx_type_9sendtools_Append) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 72; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Append = &__pyx_type_9sendtools_Append;
  __pyx_vtabptr_9sendtools_ListAppend = &__pyx_vtable_9sendtools_ListAppend;
  __pyx_vtable_9sendtools_ListAppend.__pyx_base = *__pyx_vtabptr_9sendtools_Append;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_ListAppend.__pyx_base.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_10ListAppend_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_ListAppend.__pyx_base.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_10ListAppend_send_;
  #endif
  __pyx_type_9sendtools_ListAppend.tp_base = __pyx_ptype_9sendtools_Append;
  if (PyType_Ready(&__pyx_type_9sendtools_ListAppend) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 80; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_ListAppend.tp_dict, __pyx_vtabptr_9sendtools_ListAppend) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 80; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "ListAppend", (PyObject *)&__pyx_type_9sendtools_ListAppend) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 80; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_ListAppend = &__pyx_type_9sendtools_ListAppend;
  __pyx_vtabptr_9sendtools_AddToSet = &__pyx_vtable_9sendtools_AddToSet;
  __pyx_vtable_9sendtools_AddToSet.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerSink;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_AddToSet.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_8AddToSet_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_AddToSet.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_8AddToSet_send_;
  #endif
  __pyx_type_9sendtools_AddToSet.tp_base = __pyx_ptype_9sendtools_ConsumerSink;
  if (PyType_Ready(&__pyx_type_9sendtools_AddToSet) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_AddToSet.tp_dict, __pyx_vtabptr_9sendtools_AddToSet) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "AddToSet", (PyObject *)&__pyx_type_9sendtools_AddToSet) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 88; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_AddToSet = &__pyx_type_9sendtools_AddToSet;
  __pyx_vtabptr_9sendtools_Split = &__pyx_vtable_9sendtools_Split;
  __pyx_vtable_9sendtools_Split.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_5Split_result_;
  __pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5Split_send_;
  __pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.close_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_5Split_close_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_5Split_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5Split_send_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Split.__pyx_base.__pyx_base.close_ = (void(*)(void))__pyx_f_9sendtools_5Split_close_;
  #endif
  __pyx_type_9sendtools_Split.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Split) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 96; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Split.tp_dict, __pyx_vtabptr_9sendtools_Split) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 96; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Split", (PyObject *)&__pyx_type_9sendtools_Split) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 96; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Split = &__pyx_type_9sendtools_Split;
  __pyx_vtabptr_9sendtools_Limit = &__pyx_vtable_9sendtools_Limit;
  __pyx_vtable_9sendtools_Limit.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Limit.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5Limit_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Limit.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5Limit_send_;
  #endif
  __pyx_type_9sendtools_Limit.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Limit) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Limit.tp_dict, __pyx_vtabptr_9sendtools_Limit) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Limit", (PyObject *)&__pyx_type_9sendtools_Limit) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Limit = &__pyx_type_9sendtools_Limit;
  __pyx_vtabptr_9sendtools_Slice = &__pyx_vtable_9sendtools_Slice;
  __pyx_vtable_9sendtools_Slice.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Slice.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5Slice_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Slice.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5Slice_send_;
  #endif
  __pyx_type_9sendtools_Slice.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Slice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Slice.tp_dict, __pyx_vtabptr_9sendtools_Slice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Slice", (PyObject *)&__pyx_type_9sendtools_Slice) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Slice = &__pyx_type_9sendtools_Slice;
  __pyx_vtabptr_9sendtools_Filter = &__pyx_vtable_9sendtools_Filter;
  __pyx_vtable_9sendtools_Filter.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Filter.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_6Filter_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Filter.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_6Filter_send_;
  #endif
  __pyx_type_9sendtools_Filter.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Filter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Filter.tp_dict, __pyx_vtabptr_9sendtools_Filter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Filter", (PyObject *)&__pyx_type_9sendtools_Filter) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Filter = &__pyx_type_9sendtools_Filter;
  __pyx_vtabptr_9sendtools_Map = &__pyx_vtable_9sendtools_Map;
  __pyx_vtable_9sendtools_Map.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Map.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Map_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Map.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Map_send_;
  #endif
  __pyx_type_9sendtools_Map.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Map) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Map.tp_dict, __pyx_vtabptr_9sendtools_Map) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Map", (PyObject *)&__pyx_type_9sendtools_Map) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Map = &__pyx_type_9sendtools_Map;
  __pyx_vtabptr_9sendtools_Get = &__pyx_vtable_9sendtools_Get;
  __pyx_vtable_9sendtools_Get.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Get.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Get_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Get.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Get_send_;
  #endif
  __pyx_type_9sendtools_Get.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Get) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Get.tp_dict, __pyx_vtabptr_9sendtools_Get) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Get", (PyObject *)&__pyx_type_9sendtools_Get) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Get = &__pyx_type_9sendtools_Get;
  __pyx_vtabptr_9sendtools_Attr = &__pyx_vtable_9sendtools_Attr;
  __pyx_vtable_9sendtools_Attr.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Attr.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_4Attr_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Attr.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_4Attr_send_;
  #endif
  __pyx_type_9sendtools_Attr.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_Attr) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Attr.tp_dict, __pyx_vtabptr_9sendtools_Attr) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Attr", (PyObject *)&__pyx_type_9sendtools_Attr) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Attr = &__pyx_type_9sendtools_Attr;
  if (PyType_Ready(&__pyx_type_9sendtools_Factory) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Factory", (PyObject *)&__pyx_type_9sendtools_Factory) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 295; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Factory = &__pyx_type_9sendtools_Factory;
  __pyx_vtabptr_9sendtools_GroupByN = &__pyx_vtable_9sendtools_GroupByN;
  __pyx_vtable_9sendtools_GroupByN.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_GroupByN.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_8GroupByN_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_GroupByN.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_8GroupByN_send_;
  #endif
  __pyx_type_9sendtools_GroupByN.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_GroupByN) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_GroupByN.tp_dict, __pyx_vtabptr_9sendtools_GroupByN) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "GroupByN", (PyObject *)&__pyx_type_9sendtools_GroupByN) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 306; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_GroupByN = &__pyx_type_9sendtools_GroupByN;
  if (PyType_Ready(&__pyx_type_9sendtools_NULL_OBJ) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "NULL_OBJ", (PyObject *)&__pyx_type_9sendtools_NULL_OBJ) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 357; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_NULL_OBJ = &__pyx_type_9sendtools_NULL_OBJ;
  __pyx_vtabptr_9sendtools_GroupByKey = &__pyx_vtable_9sendtools_GroupByKey;
  __pyx_vtable_9sendtools_GroupByKey.__pyx_base = *__pyx_vtabptr_9sendtools_ConsumerNode;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_GroupByKey.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_10GroupByKey_send_;
  __pyx_vtable_9sendtools_GroupByKey.__pyx_base.__pyx_base.close_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_10GroupByKey_close_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_GroupByKey.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_10GroupByKey_send_;
  *(void(**)(void))&__pyx_vtable_9sendtools_GroupByKey.__pyx_base.__pyx_base.close_ = (void(*)(void))__pyx_f_9sendtools_10GroupByKey_close_;
  #endif
  __pyx_type_9sendtools_GroupByKey.tp_base = __pyx_ptype_9sendtools_ConsumerNode;
  if (PyType_Ready(&__pyx_type_9sendtools_GroupByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_GroupByKey.tp_dict, __pyx_vtabptr_9sendtools_GroupByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "GroupByKey", (PyObject *)&__pyx_type_9sendtools_GroupByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_GroupByKey = &__pyx_type_9sendtools_GroupByKey;
  __pyx_vtabptr_9sendtools_Switch = &__pyx_vtable_9sendtools_Switch;
  __pyx_vtable_9sendtools_Switch.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Switch.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_6Switch_result_;
  __pyx_vtable_9sendtools_Switch.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_6Switch_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Switch.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_6Switch_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Switch.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_6Switch_send_;
  #endif
  __pyx_type_9sendtools_Switch.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_Switch) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 435; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Switch.tp_dict, __pyx_vtabptr_9sendtools_Switch) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 435; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Switch", (PyObject *)&__pyx_type_9sendtools_Switch) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 435; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Switch = &__pyx_type_9sendtools_Switch;
  __pyx_vtabptr_9sendtools_SwitchByKey = &__pyx_vtable_9sendtools_SwitchByKey;
  __pyx_vtable_9sendtools_SwitchByKey.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_SwitchByKey.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_11SwitchByKey_result_;
  __pyx_vtable_9sendtools_SwitchByKey.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_11SwitchByKey_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_SwitchByKey.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_11SwitchByKey_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_SwitchByKey.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_11SwitchByKey_send_;
  #endif
  __pyx_type_9sendtools_SwitchByKey.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_SwitchByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 459; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_SwitchByKey.tp_dict, __pyx_vtabptr_9sendtools_SwitchByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 459; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "SwitchByKey", (PyObject *)&__pyx_type_9sendtools_SwitchByKey) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 459; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_SwitchByKey = &__pyx_type_9sendtools_SwitchByKey;
  __pyx_vtabptr_9sendtools_Aggregate = &__pyx_vtable_9sendtools_Aggregate;
  __pyx_vtable_9sendtools_Aggregate.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Aggregate.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_9Aggregate_result_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Aggregate.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_9Aggregate_result_;
  #endif
  __pyx_type_9sendtools_Aggregate.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_Aggregate) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Aggregate.tp_dict, __pyx_vtabptr_9sendtools_Aggregate) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Aggregate", (PyObject *)&__pyx_type_9sendtools_Aggregate) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Aggregate = &__pyx_type_9sendtools_Aggregate;
  __pyx_vtabptr_9sendtools_Min = &__pyx_vtable_9sendtools_Min;
  __pyx_vtable_9sendtools_Min.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Min.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Min_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Min.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Min_send_;
  #endif
  __pyx_type_9sendtools_Min.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Min) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Min.tp_dict, __pyx_vtabptr_9sendtools_Min) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Min", (PyObject *)&__pyx_type_9sendtools_Min) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Min = &__pyx_type_9sendtools_Min;
  __pyx_vtabptr_9sendtools_Max = &__pyx_vtable_9sendtools_Max;
  __pyx_vtable_9sendtools_Max.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Max.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Max_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Max.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Max_send_;
  #endif
  __pyx_type_9sendtools_Max.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Max) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Max.tp_dict, __pyx_vtabptr_9sendtools_Max) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Max", (PyObject *)&__pyx_type_9sendtools_Max) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Max = &__pyx_type_9sendtools_Max;
  __pyx_vtabptr_9sendtools_Sum = &__pyx_vtable_9sendtools_Sum;
  __pyx_vtable_9sendtools_Sum.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Sum.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Sum_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Sum.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Sum_send_;
  #endif
  __pyx_type_9sendtools_Sum.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Sum) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Sum.tp_dict, __pyx_vtabptr_9sendtools_Sum) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Sum", (PyObject *)&__pyx_type_9sendtools_Sum) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Sum = &__pyx_type_9sendtools_Sum;
  __pyx_vtabptr_9sendtools_Count = &__pyx_vtable_9sendtools_Count;
  __pyx_vtable_9sendtools_Count.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Count.__pyx_base.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_5Count_result_;
  __pyx_vtable_9sendtools_Count.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5Count_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Count.__pyx_base.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_5Count_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Count.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5Count_send_;
  #endif
  __pyx_type_9sendtools_Count.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Count) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Count.tp_dict, __pyx_vtabptr_9sendtools_Count) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Count", (PyObject *)&__pyx_type_9sendtools_Count) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Count = &__pyx_type_9sendtools_Count;
  __pyx_vtabptr_9sendtools_Ave = &__pyx_vtable_9sendtools_Ave;
  __pyx_vtable_9sendtools_Ave.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Ave.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_3Ave_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Ave.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_3Ave_send_;
  #endif
  __pyx_type_9sendtools_Ave.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Ave) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Ave.tp_dict, __pyx_vtabptr_9sendtools_Ave) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Ave", (PyObject *)&__pyx_type_9sendtools_Ave) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Ave = &__pyx_type_9sendtools_Ave;
  __pyx_vtabptr_9sendtools_Stats = &__pyx_vtable_9sendtools_Stats;
  __pyx_vtable_9sendtools_Stats.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Stats.__pyx_base.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_5Stats_result_;
  __pyx_vtable_9sendtools_Stats.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5Stats_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Stats.__pyx_base.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_5Stats_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_Stats.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5Stats_send_;
  #endif
  __pyx_type_9sendtools_Stats.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Stats) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 542; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Stats.tp_dict, __pyx_vtabptr_9sendtools_Stats) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 542; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Stats", (PyObject *)&__pyx_type_9sendtools_Stats) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 542; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Stats = &__pyx_type_9sendtools_Stats;
  __pyx_vtabptr_9sendtools_First = &__pyx_vtable_9sendtools_First;
  __pyx_vtable_9sendtools_First.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_First.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_5First_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_First.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_5First_send_;
  #endif
  __pyx_type_9sendtools_First.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_First) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_First.tp_dict, __pyx_vtabptr_9sendtools_First) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "First", (PyObject *)&__pyx_type_9sendtools_First) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 569; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_First = &__pyx_type_9sendtools_First;
  __pyx_vtabptr_9sendtools_Last = &__pyx_vtable_9sendtools_Last;
  __pyx_vtable_9sendtools_Last.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Last.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_4Last_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Last.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_4Last_send_;
  #endif
  __pyx_type_9sendtools_Last.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Last) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Last.tp_dict, __pyx_vtabptr_9sendtools_Last) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Last", (PyObject *)&__pyx_type_9sendtools_Last) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 576; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Last = &__pyx_type_9sendtools_Last;
  __pyx_vtabptr_9sendtools_Select = &__pyx_vtable_9sendtools_Select;
  __pyx_vtable_9sendtools_Select.__pyx_base = *__pyx_vtabptr_9sendtools_Aggregate;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_Select.__pyx_base.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_6Select_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_Select.__pyx_base.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_6Select_send_;
  #endif
  __pyx_type_9sendtools_Select.tp_base = __pyx_ptype_9sendtools_Aggregate;
  if (PyType_Ready(&__pyx_type_9sendtools_Select) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_Select.tp_dict, __pyx_vtabptr_9sendtools_Select) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "Select", (PyObject *)&__pyx_type_9sendtools_Select) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_Select = &__pyx_type_9sendtools_Select;
  __pyx_vtabptr_9sendtools_GeneratorConsumer = &__pyx_vtable_9sendtools_GeneratorConsumer;
  __pyx_vtable_9sendtools_GeneratorConsumer.__pyx_base = *__pyx_vtabptr_9sendtools_Consumer;
  #if PY_MAJOR_VERSION >= 3
  __pyx_vtable_9sendtools_GeneratorConsumer.__pyx_base.result_ = (PyObject *(*)(struct __pyx_obj_9sendtools_Consumer *))__pyx_f_9sendtools_17GeneratorConsumer_result_;
  __pyx_vtable_9sendtools_GeneratorConsumer.__pyx_base.send_ = (void (*)(struct __pyx_obj_9sendtools_Consumer *, PyObject *))__pyx_f_9sendtools_17GeneratorConsumer_send_;
  #else
  *(void(**)(void))&__pyx_vtable_9sendtools_GeneratorConsumer.__pyx_base.result_ = (void(*)(void))__pyx_f_9sendtools_17GeneratorConsumer_result_;
  *(void(**)(void))&__pyx_vtable_9sendtools_GeneratorConsumer.__pyx_base.send_ = (void(*)(void))__pyx_f_9sendtools_17GeneratorConsumer_send_;
  #endif
  __pyx_type_9sendtools_GeneratorConsumer.tp_base = __pyx_ptype_9sendtools_Consumer;
  if (PyType_Ready(&__pyx_type_9sendtools_GeneratorConsumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetVtable(__pyx_type_9sendtools_GeneratorConsumer.tp_dict, __pyx_vtabptr_9sendtools_GeneratorConsumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "GeneratorConsumer", (PyObject *)&__pyx_type_9sendtools_GeneratorConsumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 652; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_GeneratorConsumer = &__pyx_type_9sendtools_GeneratorConsumer;
  if (PyType_Ready(&__pyx_type_9sendtools_consumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  if (__Pyx_SetAttrString(__pyx_m, "consumer", (PyObject *)&__pyx_type_9sendtools_consumer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __pyx_ptype_9sendtools_consumer = &__pyx_type_9sendtools_consumer;
  /*--- Type import code ---*/
  /*--- Function import code ---*/
  /*--- Execution code ---*/

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":5
 * A cython implementation of the sendtools API
 * """
 * from collections import MutableSequence, MutableSet, Callable, defaultdict,\             # <<<<<<<<<<<<<<
 *             MutableMapping
 * from types import TupleType, GeneratorType
 */
  __pyx_t_1 = PyList_New(5); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__MutableSequence));
  PyList_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s__MutableSequence));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__MutableSequence));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__MutableSet));
  PyList_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_n_s__MutableSet));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__MutableSet));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__Callable));
  PyList_SET_ITEM(__pyx_t_1, 2, ((PyObject *)__pyx_n_s__Callable));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__Callable));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__defaultdict));
  PyList_SET_ITEM(__pyx_t_1, 3, ((PyObject *)__pyx_n_s__defaultdict));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__defaultdict));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__MutableMapping));
  PyList_SET_ITEM(__pyx_t_1, 4, ((PyObject *)__pyx_n_s__MutableMapping));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__MutableMapping));
  __pyx_t_2 = __Pyx_Import(((PyObject *)__pyx_n_s__collections), ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__MutableSequence); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__MutableSequence, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__MutableSet); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__MutableSet, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__Callable); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__Callable, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__defaultdict); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__defaultdict, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__MutableMapping); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 5; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__MutableMapping, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 6; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":7
 * from collections import MutableSequence, MutableSet, Callable, defaultdict,\
 *             MutableMapping
 * from types import TupleType, GeneratorType             # <<<<<<<<<<<<<<
 * from math import sqrt
 * 
 */
  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__TupleType));
  PyList_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_n_s__TupleType));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__TupleType));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__GeneratorType));
  PyList_SET_ITEM(__pyx_t_2, 1, ((PyObject *)__pyx_n_s__GeneratorType));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__GeneratorType));
  __pyx_t_1 = __Pyx_Import(((PyObject *)__pyx_n_s__types), ((PyObject *)__pyx_t_2)); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__TupleType); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__TupleType, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __pyx_t_2 = PyObject_GetAttr(__pyx_t_1, __pyx_n_s__GeneratorType); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__GeneratorType, __pyx_t_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 7; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":8
 *             MutableMapping
 * from types import TupleType, GeneratorType
 * from math import sqrt             # <<<<<<<<<<<<<<
 * 
 * 
 */
  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_1));
  __Pyx_INCREF(((PyObject *)__pyx_n_s__sqrt));
  PyList_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_n_s__sqrt));
  __Pyx_GIVEREF(((PyObject *)__pyx_n_s__sqrt));
  __pyx_t_2 = __Pyx_Import(((PyObject *)__pyx_n_s__math), ((PyObject *)__pyx_t_1)); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_2);
  __Pyx_DECREF(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
  __pyx_t_1 = PyObject_GetAttr(__pyx_t_2, __pyx_n_s__sqrt); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s__sqrt, __pyx_t_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 8; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":328
 *         Consumer this_grp
 * 
 *     def __cinit__(self, unsigned int n, target, factory=list):             # <<<<<<<<<<<<<<
 *         self.target = check(target)
 *         self.n = n
 */
  __Pyx_INCREF(((PyObject *)((PyObject*)&PyList_Type)));
  __pyx_k_5 = ((PyObject *)((PyObject*)&PyList_Type));
  __Pyx_GIVEREF(((PyObject*)&PyList_Type));

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":392
 *         Consumer this_grp
 * 
 *     def __cinit__(self, keyfunc, target, factory=list):             # <<<<<<<<<<<<<<
 *         cdef Consumer checked
 * 
 */
  __Pyx_INCREF(((PyObject *)((PyObject*)&PyList_Type)));
  __pyx_k_6 = ((PyObject *)((PyObject*)&PyList_Type));
  __Pyx_GIVEREF(((PyObject*)&PyList_Type));

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":463
 *         object output, func
 * 
 *     def __cinit__(self, func=None, init=None, factory=list):             # <<<<<<<<<<<<<<
 *         if func is not None and not isinstance(func, Callable):
 *             raise TypeError("1st argument, func must be a callable")
 */
  __Pyx_INCREF(((PyObject *)((PyObject*)&PyList_Type)));
  __pyx_k_8 = ((PyObject *)((PyObject*)&PyList_Type));
  __Pyx_GIVEREF(((PyObject*)&PyList_Type));

  /* "/home/bryan/workspace/sendtools/sendtools.pyx":1
 * #!python             # <<<<<<<<<<<<<<
 * """
 * A cython implementation of the sendtools API
 */
  __pyx_t_2 = PyDict_New(); if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(((PyObject *)__pyx_t_2));
  __pyx_t_1 = PyObject_GetAttr(__pyx_m, __pyx_n_s__send); if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_3 = __Pyx_GetAttrString(__pyx_t_1, "__doc__");
  __Pyx_GOTREF(__pyx_t_3);
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  if (PyDict_SetItem(__pyx_t_2, ((PyObject *)__pyx_kp_u_16), __pyx_t_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_s____test__, ((PyObject *)__pyx_t_2)) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}
  __Pyx_DECREF(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_2);
  __Pyx_XDECREF(__pyx_t_3);
  if (__pyx_m) {
    __Pyx_AddTraceback("init sendtools");
    Py_DECREF(__pyx_m); __pyx_m = 0;
  } else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_ImportError, "init sendtools");
  }
  __pyx_L0:;
  __Pyx_RefNannyFinishContext();
  #if PY_MAJOR_VERSION < 3
  return;
  #else
  return __pyx_m;
  #endif
}

static const char *__pyx_filenames[] = {
  "sendtools.pyx",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static CYTHON_INLINE int __Pyx_CheckKeywordStrings(
    PyObject *kwdict,
    const char* function_name,
    int kw_allowed)
{
    PyObject* key = 0;
    Py_ssize_t pos = 0;
    while (PyDict_Next(kwdict, &pos, &key, 0)) {
        #if PY_MAJOR_VERSION < 3
        if (unlikely(!PyString_CheckExact(key)) && unlikely(!PyString_Check(key)))
        #else
        if (unlikely(!PyUnicode_CheckExact(key)) && unlikely(!PyUnicode_Check(key)))
        #endif
            goto invalid_keyword_type;
    }
    if ((!kw_allowed) && unlikely(key))
        goto invalid_keyword;
    return 1;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%s() keywords must be strings", function_name);
    return 0;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%s() got an unexpected keyword argument '%s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
    return 0;
}

static void __Pyx_RaiseDoubleKeywordsError(
    const char* func_name,
    PyObject* kw_name)
{
    PyErr_Format(PyExc_TypeError,
        #if PY_MAJOR_VERSION >= 3
        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
        #else
        "%s() got multiple values for keyword argument '%s'", func_name,
        PyString_AS_STRING(kw_name));
        #endif
}

static void __Pyx_RaiseArgtupleInvalid(
    const char* func_name,
    int exact,
    Py_ssize_t num_min,
    Py_ssize_t num_max,
    Py_ssize_t num_found)
{
    Py_ssize_t num_expected;
    const char *number, *more_or_less;

    if (num_found < num_min) {
        num_expected = num_min;
        more_or_less = "at least";
    } else {
        num_expected = num_max;
        more_or_less = "at most";
    }
    if (exact) {
        more_or_less = "exactly";
    }
    number = (num_expected == 1) ? "" : "s";
    PyErr_Format(PyExc_TypeError,
        #if PY_VERSION_HEX < 0x02050000
            "%s() takes %s %d positional argument%s (%d given)",
        #else
            "%s() takes %s %zd positional argument%s (%zd given)",
        #endif
        func_name, more_or_less, num_expected, number, num_found);
}

static int __Pyx_ParseOptionalKeywords(
    PyObject *kwds,
    PyObject **argnames[],
    PyObject *kwds2,
    PyObject *values[],
    Py_ssize_t num_pos_args,
    const char* function_name)
{
    PyObject *key = 0, *value = 0;
    Py_ssize_t pos = 0;
    PyObject*** name;
    PyObject*** first_kw_arg = argnames + num_pos_args;

    while (PyDict_Next(kwds, &pos, &key, &value)) {
        name = first_kw_arg;
        while (*name && (**name != key)) name++;
        if (*name) {
            values[name-argnames] = value;
        } else {
            #if PY_MAJOR_VERSION < 3
            if (unlikely(!PyString_CheckExact(key)) && unlikely(!PyString_Check(key))) {
            #else
            if (unlikely(!PyUnicode_CheckExact(key)) && unlikely(!PyUnicode_Check(key))) {
            #endif
                goto invalid_keyword_type;
            } else {
                for (name = first_kw_arg; *name; name++) {
                    #if PY_MAJOR_VERSION >= 3
                    if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                        PyUnicode_Compare(**name, key) == 0) break;
                    #else
                    if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                        _PyString_Eq(**name, key)) break;
                    #endif
                }
                if (*name) {
                    values[name-argnames] = value;
                } else {
                    /* unexpected keyword found */
                    for (name=argnames; name != first_kw_arg; name++) {
                        if (**name == key) goto arg_passed_twice;
                        #if PY_MAJOR_VERSION >= 3
                        if (PyUnicode_GET_SIZE(**name) == PyUnicode_GET_SIZE(key) &&
                            PyUnicode_Compare(**name, key) == 0) goto arg_passed_twice;
                        #else
                        if (PyString_GET_SIZE(**name) == PyString_GET_SIZE(key) &&
                            _PyString_Eq(**name, key)) goto arg_passed_twice;
                        #endif
                    }
                    if (kwds2) {
                        if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
                    } else {
                        goto invalid_keyword;
                    }
                }
            }
        }
    }
    return 0;
arg_passed_twice:
    __Pyx_RaiseDoubleKeywordsError(function_name, **name);
    goto bad;
invalid_keyword_type:
    PyErr_Format(PyExc_TypeError,
        "%s() keywords must be strings", function_name);
    goto bad;
invalid_keyword:
    PyErr_Format(PyExc_TypeError,
    #if PY_MAJOR_VERSION < 3
        "%s() got an unexpected keyword argument '%s'",
        function_name, PyString_AsString(key));
    #else
        "%s() got an unexpected keyword argument '%U'",
        function_name, key);
    #endif
bad:
    return -1;
}

static CYTHON_INLINE int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (unlikely(!type)) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (likely(PyObject_TypeCheck(obj, type)))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %.200s to %.200s",
                 Py_TYPE(obj)->tp_name, type->tp_name);
    return 0;
}

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
    PyObject *local_type, *local_value, *local_tb;
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();
    local_type = tstate->curexc_type;
    local_value = tstate->curexc_value;
    local_tb = tstate->curexc_traceback;
    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
    PyErr_NormalizeException(&local_type, &local_value, &local_tb);
    if (unlikely(tstate->curexc_type))
        goto bad;
    #if PY_MAJOR_VERSION >= 3
    if (unlikely(PyException_SetTraceback(local_value, local_tb) < 0))
        goto bad;
    #endif
    *type = local_type;
    *value = local_value;
    *tb = local_tb;
    Py_INCREF(local_type);
    Py_INCREF(local_value);
    Py_INCREF(local_tb);
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = local_type;
    tstate->exc_value = local_value;
    tstate->exc_traceback = local_tb;
    /* Make sure tstate is in a consistent state when we XDECREF
       these objects (XDECREF may run arbitrary code). */
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
    return 0;
bad:
    *type = 0;
    *value = 0;
    *tb = 0;
    Py_XDECREF(local_type);
    Py_XDECREF(local_value);
    Py_XDECREF(local_tb);
    return -1;
}



static PyObject* __Pyx_PyEval_CallObjectWithKeywords(PyObject *callable, PyObject *args, PyObject *kwargs) {
    PyObject* result;
    if (likely(PyDict_Check(kwargs))) {
        return PyEval_CallObjectWithKeywords(callable, args, kwargs);
    } else {
        PyObject* real_dict;
        real_dict = PyObject_CallFunctionObjArgs((PyObject*)&PyDict_Type, kwargs, NULL);
        if (unlikely(!real_dict))
            return NULL;
        result = PyEval_CallObjectWithKeywords(callable, args, real_dict);
        Py_DECREF(real_dict);
        return result; /* may be NULL */
    }
}

static CYTHON_INLINE void __Pyx_ExceptionSave(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_GET();
    *type = tstate->exc_type;
    *value = tstate->exc_value;
    *tb = tstate->exc_traceback;
    Py_XINCREF(*type);
    Py_XINCREF(*value);
    Py_XINCREF(*tb);
}

static void __Pyx_ExceptionReset(PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();
    tmp_type = tstate->exc_type;
    tmp_value = tstate->exc_value;
    tmp_tb = tstate->exc_traceback;
    tstate->exc_type = type;
    tstate->exc_value = value;
    tstate->exc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = __Pyx_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunctionObjArgs(__import__,
        name, global_dict, empty_dict, list, NULL);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static CYTHON_INLINE void __Pyx_ErrRestore(PyObject *type, PyObject *value, PyObject *tb) {
    PyObject *tmp_type, *tmp_value, *tmp_tb;
    PyThreadState *tstate = PyThreadState_GET();

    tmp_type = tstate->curexc_type;
    tmp_value = tstate->curexc_value;
    tmp_tb = tstate->curexc_traceback;
    tstate->curexc_type = type;
    tstate->curexc_value = value;
    tstate->curexc_traceback = tb;
    Py_XDECREF(tmp_type);
    Py_XDECREF(tmp_value);
    Py_XDECREF(tmp_tb);
}

static CYTHON_INLINE void __Pyx_ErrFetch(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_GET();
    *type = tstate->curexc_type;
    *value = tstate->curexc_value;
    *tb = tstate->curexc_traceback;

    tstate->curexc_type = 0;
    tstate->curexc_value = 0;
    tstate->curexc_traceback = 0;
}


#if PY_MAJOR_VERSION < 3
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                type = 0;
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) Py_TYPE(type);
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }

    __Pyx_ErrRestore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

#else /* Python 3+ */

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    if (tb == Py_None) {
        tb = 0;
    } else if (tb && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto bad;
    }
    if (value == Py_None)
        value = 0;

    if (PyExceptionInstance_Check(type)) {
        if (value) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto bad;
        }
        value = type;
        type = (PyObject*) Py_TYPE(value);
    } else if (!PyExceptionClass_Check(type)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: exception class must be a subclass of BaseException");
        goto bad;
    }

    PyErr_SetObject(type, value);

    if (tb) {
        PyThreadState *tstate = PyThreadState_GET();
        PyObject* tmp_tb = tstate->curexc_traceback;
        if (tb != tmp_tb) {
            Py_INCREF(tb);
            tstate->curexc_traceback = tb;
            Py_XDECREF(tmp_tb);
        }
    }

bad:
    return;
}
#endif

static CYTHON_INLINE unsigned char __Pyx_PyInt_AsUnsignedChar(PyObject* x) {
    const unsigned char neg_one = (unsigned char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned char" :
                    "value too large to convert to unsigned char");
            }
            return (unsigned char)-1;
        }
        return (unsigned char)val;
    }
    return (unsigned char)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE unsigned short __Pyx_PyInt_AsUnsignedShort(PyObject* x) {
    const unsigned short neg_one = (unsigned short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned short" :
                    "value too large to convert to unsigned short");
            }
            return (unsigned short)-1;
        }
        return (unsigned short)val;
    }
    return (unsigned short)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE unsigned int __Pyx_PyInt_AsUnsignedInt(PyObject* x) {
    const unsigned int neg_one = (unsigned int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(unsigned int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(unsigned int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to unsigned int" :
                    "value too large to convert to unsigned int");
            }
            return (unsigned int)-1;
        }
        return (unsigned int)val;
    }
    return (unsigned int)__Pyx_PyInt_AsUnsignedLong(x);
}

static CYTHON_INLINE char __Pyx_PyInt_AsChar(PyObject* x) {
    const char neg_one = (char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to char" :
                    "value too large to convert to char");
            }
            return (char)-1;
        }
        return (char)val;
    }
    return (char)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE short __Pyx_PyInt_AsShort(PyObject* x) {
    const short neg_one = (short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to short" :
                    "value too large to convert to short");
            }
            return (short)-1;
        }
        return (short)val;
    }
    return (short)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE int __Pyx_PyInt_AsInt(PyObject* x) {
    const int neg_one = (int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to int" :
                    "value too large to convert to int");
            }
            return (int)-1;
        }
        return (int)val;
    }
    return (int)__Pyx_PyInt_AsLong(x);
}

static CYTHON_INLINE signed char __Pyx_PyInt_AsSignedChar(PyObject* x) {
    const signed char neg_one = (signed char)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed char) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed char)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed char" :
                    "value too large to convert to signed char");
            }
            return (signed char)-1;
        }
        return (signed char)val;
    }
    return (signed char)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE signed short __Pyx_PyInt_AsSignedShort(PyObject* x) {
    const signed short neg_one = (signed short)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed short) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed short)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed short" :
                    "value too large to convert to signed short");
            }
            return (signed short)-1;
        }
        return (signed short)val;
    }
    return (signed short)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE signed int __Pyx_PyInt_AsSignedInt(PyObject* x) {
    const signed int neg_one = (signed int)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
    if (sizeof(signed int) < sizeof(long)) {
        long val = __Pyx_PyInt_AsLong(x);
        if (unlikely(val != (long)(signed int)val)) {
            if (!unlikely(val == -1 && PyErr_Occurred())) {
                PyErr_SetString(PyExc_OverflowError,
                    (is_unsigned && unlikely(val < 0)) ?
                    "can't convert negative value to signed int" :
                    "value too large to convert to signed int");
            }
            return (signed int)-1;
        }
        return (signed int)val;
    }
    return (signed int)__Pyx_PyInt_AsSignedLong(x);
}

static CYTHON_INLINE unsigned long __Pyx_PyInt_AsUnsignedLong(PyObject* x) {
    const unsigned long neg_one = (unsigned long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned long");
            return (unsigned long)-1;
        }
        return (unsigned long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned long");
                return (unsigned long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        unsigned long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned long)-1;
        val = __Pyx_PyInt_AsUnsignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE unsigned PY_LONG_LONG __Pyx_PyInt_AsUnsignedLongLong(PyObject* x) {
    const unsigned PY_LONG_LONG neg_one = (unsigned PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to unsigned PY_LONG_LONG");
            return (unsigned PY_LONG_LONG)-1;
        }
        return (unsigned PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to unsigned PY_LONG_LONG");
                return (unsigned PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        unsigned PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (unsigned PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsUnsignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE long __Pyx_PyInt_AsLong(PyObject* x) {
    const long neg_one = (long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to long");
            return (long)-1;
        }
        return (long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to long");
                return (long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (long)-1;
        val = __Pyx_PyInt_AsLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE PY_LONG_LONG __Pyx_PyInt_AsLongLong(PyObject* x) {
    const PY_LONG_LONG neg_one = (PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to PY_LONG_LONG");
            return (PY_LONG_LONG)-1;
        }
        return (PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to PY_LONG_LONG");
                return (PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE signed long __Pyx_PyInt_AsSignedLong(PyObject* x) {
    const signed long neg_one = (signed long)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to signed long");
            return (signed long)-1;
        }
        return (signed long)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to signed long");
                return (signed long)-1;
            }
            return PyLong_AsUnsignedLong(x);
        } else {
            return PyLong_AsLong(x);
        }
    } else {
        signed long val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed long)-1;
        val = __Pyx_PyInt_AsSignedLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static CYTHON_INLINE signed PY_LONG_LONG __Pyx_PyInt_AsSignedLongLong(PyObject* x) {
    const signed PY_LONG_LONG neg_one = (signed PY_LONG_LONG)-1, const_zero = 0;
    const int is_unsigned = neg_one > const_zero;
#if PY_VERSION_HEX < 0x03000000
    if (likely(PyInt_Check(x))) {
        long val = PyInt_AS_LONG(x);
        if (is_unsigned && unlikely(val < 0)) {
            PyErr_SetString(PyExc_OverflowError,
                            "can't convert negative value to signed PY_LONG_LONG");
            return (signed PY_LONG_LONG)-1;
        }
        return (signed PY_LONG_LONG)val;
    } else
#endif
    if (likely(PyLong_Check(x))) {
        if (is_unsigned) {
            if (unlikely(Py_SIZE(x) < 0)) {
                PyErr_SetString(PyExc_OverflowError,
                                "can't convert negative value to signed PY_LONG_LONG");
                return (signed PY_LONG_LONG)-1;
            }
            return PyLong_AsUnsignedLongLong(x);
        } else {
            return PyLong_AsLongLong(x);
        }
    } else {
        signed PY_LONG_LONG val;
        PyObject *tmp = __Pyx_PyNumber_Int(x);
        if (!tmp) return (signed PY_LONG_LONG)-1;
        val = __Pyx_PyInt_AsSignedLongLong(tmp);
        Py_DECREF(tmp);
        return val;
    }
}

static void __Pyx_WriteUnraisable(const char *name) {
    PyObject *old_exc, *old_val, *old_tb;
    PyObject *ctx;
    __Pyx_ErrFetch(&old_exc, &old_val, &old_tb);
    #if PY_MAJOR_VERSION < 3
    ctx = PyString_FromString(name);
    #else
    ctx = PyUnicode_FromString(name);
    #endif
    __Pyx_ErrRestore(old_exc, old_val, old_tb);
    if (!ctx) {
        PyErr_WriteUnraisable(Py_None);
    } else {
        PyErr_WriteUnraisable(ctx);
        Py_DECREF(ctx);
    }
}

static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
#if PY_VERSION_HEX < 0x03010000
    PyObject *ob = PyCObject_FromVoidPtr(vtable, 0);
#else
    PyObject *ob = PyCapsule_New(vtable, 0, 0);
#endif
    if (!ob)
        goto bad;
    if (PyDict_SetItemString(dict, "__pyx_vtable__", ob) < 0)
        goto bad;
    Py_DECREF(ob);
    return 0;
bad:
    Py_XDECREF(ob);
    return -1;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(const char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;

    #if PY_MAJOR_VERSION < 3
    py_srcfile = PyString_FromString(__pyx_filename);
    #else
    py_srcfile = PyUnicode_FromString(__pyx_filename);
    #endif
    if (!py_srcfile) goto bad;
    if (__pyx_clineno) {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #else
        py_funcname = PyUnicode_FromFormat( "%s (%s:%d)", funcname, __pyx_cfilenm, __pyx_clineno);
        #endif
    }
    else {
        #if PY_MAJOR_VERSION < 3
        py_funcname = PyString_FromString(funcname);
        #else
        py_funcname = PyUnicode_FromString(funcname);
        #endif
    }
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        #if PY_MAJOR_VERSION >= 3
        0,            /*int kwonlyargcount,*/
        #endif
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        __pyx_empty_bytes, /*PyObject *code,*/
        __pyx_empty_tuple,  /*PyObject *consts,*/
        __pyx_empty_tuple,  /*PyObject *names,*/
        __pyx_empty_tuple,  /*PyObject *varnames,*/
        __pyx_empty_tuple,  /*PyObject *freevars,*/
        __pyx_empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        __pyx_empty_bytes  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_GET(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        #if PY_MAJOR_VERSION < 3
        if (t->is_unicode) {
            *t->p = PyUnicode_DecodeUTF8(t->s, t->n - 1, NULL);
        } else if (t->intern) {
            *t->p = PyString_InternFromString(t->s);
        } else {
            *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        }
        #else  /* Python 3+ has unicode identifiers */
        if (t->is_unicode | t->is_str) {
            if (t->intern) {
                *t->p = PyUnicode_InternFromString(t->s);
            } else if (t->encoding) {
                *t->p = PyUnicode_Decode(t->s, t->n - 1, t->encoding, NULL);
            } else {
                *t->p = PyUnicode_FromStringAndSize(t->s, t->n - 1);
            }
        } else {
            *t->p = PyBytes_FromStringAndSize(t->s, t->n - 1);
        }
        #endif
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

/* Type Conversion Functions */

static CYTHON_INLINE int __Pyx_PyObject_IsTrue(PyObject* x) {
   if (x == Py_True) return 1;
   else if ((x == Py_False) | (x == Py_None)) return 0;
   else return PyObject_IsTrue(x);
}

static CYTHON_INLINE PyObject* __Pyx_PyNumber_Int(PyObject* x) {
  PyNumberMethods *m;
  const char *name = NULL;
  PyObject *res = NULL;
#if PY_VERSION_HEX < 0x03000000
  if (PyInt_Check(x) || PyLong_Check(x))
#else
  if (PyLong_Check(x))
#endif
    return Py_INCREF(x), x;
  m = Py_TYPE(x)->tp_as_number;
#if PY_VERSION_HEX < 0x03000000
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Int(x);
  }
  else if (m && m->nb_long) {
    name = "long";
    res = PyNumber_Long(x);
  }
#else
  if (m && m->nb_int) {
    name = "int";
    res = PyNumber_Long(x);
  }
#endif
  if (res) {
#if PY_VERSION_HEX < 0x03000000
    if (!PyInt_Check(res) && !PyLong_Check(res)) {
#else
    if (!PyLong_Check(res)) {
#endif
      PyErr_Format(PyExc_TypeError,
                   "__%s__ returned non-%s (type %.200s)",
                   name, name, Py_TYPE(res)->tp_name);
      Py_DECREF(res);
      return NULL;
    }
  }
  else if (!PyErr_Occurred()) {
    PyErr_SetString(PyExc_TypeError,
                    "an integer is required");
  }
  return res;
}

static CYTHON_INLINE Py_ssize_t __Pyx_PyIndex_AsSsize_t(PyObject* b) {
  Py_ssize_t ival;
  PyObject* x = PyNumber_Index(b);
  if (!x) return -1;
  ival = PyInt_AsSsize_t(x);
  Py_DECREF(x);
  return ival;
}

static CYTHON_INLINE PyObject * __Pyx_PyInt_FromSize_t(size_t ival) {
#if PY_VERSION_HEX < 0x02050000
   if (ival <= LONG_MAX)
       return PyInt_FromLong((long)ival);
   else {
       unsigned char *bytes = (unsigned char *) &ival;
       int one = 1; int little = (int)*(unsigned char*)&one;
       return _PyLong_FromByteArray(bytes, sizeof(size_t), little, 0);
   }
#else
   return PyInt_FromSize_t(ival);
#endif
}

static CYTHON_INLINE size_t __Pyx_PyInt_AsSize_t(PyObject* x) {
   unsigned PY_LONG_LONG val = __Pyx_PyInt_AsUnsignedLongLong(x);
   if (unlikely(val == (unsigned PY_LONG_LONG)-1 && PyErr_Occurred())) {
       return (size_t)-1;
   } else if (unlikely(val != (unsigned PY_LONG_LONG)(size_t)val)) {
       PyErr_SetString(PyExc_OverflowError,
                       "value too large to convert to size_t");
       return (size_t)-1;
   }
   return (size_t)val;
}


#endif /* Py_PYTHON_H */
